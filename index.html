<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Katsuy≈ç Academy ‚Äî Japanese Learning Platform</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;600;700&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    :root {
      --ink: #1a1a2e;
      --ink-light: #2d2d44;
      --paper: #faf9f7;
      --paper-warm: #f5f3ef;
      --accent: #c45c4a;
      --accent-soft: #d4786a;
      --sage: #7a9e7e;
      --gold: #c9a962;
      --text: #3d3d3d;
      --text-light: #6b6b6b;
    }
    
    body {
      font-family: 'Outfit', sans-serif;
      background: var(--paper);
      color: var(--text);
      line-height: 1.6;
    }
    
    .jp {
      font-family: 'Noto Serif JP', serif;
    }
    
    /* NAVIGATION */
    /* TOAST NOTIFICATION */
    .toast {
      position: fixed;
      top: 5rem;
      left: 50%;
      transform: translateX(-50%) translateY(-20px);
      background: var(--ink);
      color: var(--paper);
      padding: 0.75rem 1.5rem;
      border-radius: 4px;
      font-size: 0.95rem;
      font-weight: 500;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    
    .toast.visible {
      opacity: 1;
      visibility: visible;
      transform: translateX(-50%) translateY(0);
    }
    
    .toast.success {
      background: var(--sage);
    }
    
    .toast.warning {
      background: #f9a825;
      color: var(--ink);
    }

    /* BACK TO TOP BUTTON */
    .back-to-top {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 48px;
      height: 48px;
      background: var(--ink);
      color: var(--paper);
      border: none;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.25rem;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      z-index: 99;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .back-to-top.visible {
      opacity: 1;
      visibility: visible;
    }
    
    .back-to-top:hover {
      background: var(--ink-light);
      transform: translateY(-3px);
      box-shadow: 0 6px 16px rgba(0,0,0,0.2);
    }
    
    @media (max-width: 600px) {
      .back-to-top {
        bottom: 1rem;
        right: 1rem;
        width: 42px;
        height: 42px;
      }
    }

    .nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
      background: var(--ink);
      border-bottom: 3px solid var(--accent);
    }
    
    .nav-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 72px;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      transition: opacity 0.2s;
    }
    
    .logo:hover {
      opacity: 0.85;
    }
    
    .logo-kanji {
      font-size: 1.75rem;
      color: var(--accent);
      font-weight: 700;
    }
    
    .logo-text {
      color: var(--paper);
      font-size: 1.35rem;
      font-weight: 600;
      letter-spacing: -0.02em;
    }
    
    .nav-links {
      display: flex;
      gap: 2.5rem;
    }
    
    .nav-link {
      color: var(--paper);
      opacity: 0.7;
      font-size: 0.95rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      padding: 0.5rem 0;
      border: none;
      background: none;
      position: relative;
      font-family: inherit;
    }
    
    .nav-link:hover, .nav-link.active {
      opacity: 1;
    }
    
    .nav-link.active::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--accent);
    }
    
    /* PAGES */
    .page {
      min-height: 100vh;
      padding-top: 72px;
      display: none;
    }
    
    @media (max-width: 600px) {
      .page {
        padding-top: 100px;
      }
    }
    
    .page.active {
      display: block;
    }
    
    /* HOME PAGE */
    .home {
      display: flex;
      flex-direction: column;
    }
    
    .hero {
      min-height: calc(100vh - 72px);
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--ink) 0%, var(--ink-light) 100%);
      position: relative;
      overflow: hidden;
    }
    
    .hero::before {
      content: 'Ê¥ªÁî®';
      position: absolute;
      font-size: 35vw;
      color: rgba(255,255,255,0.02);
      font-family: 'Noto Serif JP', serif;
      font-weight: 700;
      pointer-events: none;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    
    .hero-content {
      text-align: center;
      padding: 3rem;
      position: relative;
      z-index: 1;
    }
    
    .hero-badge {
      display: inline-block;
      background: var(--accent);
      color: var(--paper);
      padding: 0.4rem 1rem;
      font-size: 0.8rem;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      margin-bottom: 2rem;
    }
    
    .hero-title {
      color: var(--paper);
      font-size: clamp(2.5rem, 6vw, 4.5rem);
      font-weight: 700;
      letter-spacing: -0.03em;
      margin-bottom: 0.5rem;
      line-height: 1.1;
    }
    
    .hero-subtitle {
      color: var(--accent-soft);
      font-size: clamp(1.25rem, 3vw, 1.75rem);
      font-weight: 300;
      margin-bottom: 2rem;
    }
    
    .hero-desc {
      color: rgba(255,255,255,0.6);
      font-size: 1.1rem;
      max-width: 500px;
      margin: 0 auto 3rem;
      line-height: 1.7;
    }
    
    .hero-cta {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }
    
    .btn {
      display: inline-block;
      padding: 1rem 2rem;
      font-size: 1rem;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: all 0.25s;
      font-family: inherit;
    }
    
    .btn-primary {
      background: var(--accent);
      color: var(--paper);
    }
    
    .btn-primary:hover {
      background: var(--accent-soft);
      transform: translateY(-2px);
    }
    
    .btn-secondary {
      background: transparent;
      color: var(--paper);
      border: 2px solid rgba(255,255,255,0.3);
    }
    
    .btn-secondary:hover {
      border-color: var(--paper);
      background: rgba(255,255,255,0.05);
    }
    
    /* FEATURES */
    .features {
      padding: 6rem 2rem;
      background: var(--paper-warm);
    }
    
    .features-inner {
      max-width: 1000px;
      margin: 0 auto;
    }
    
    .features-header {
      text-align: center;
      margin-bottom: 4rem;
    }
    
    .features-title {
      font-size: 2rem;
      font-weight: 700;
      color: var(--ink);
      margin-bottom: 0.75rem;
    }
    
    .features-subtitle {
      color: var(--text-light);
      font-size: 1.1rem;
    }
    
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
    }
    
    .feature-card {
      background: var(--paper);
      padding: 2.5rem 2rem;
      border: 1px solid rgba(0,0,0,0.06);
      transition: all 0.3s;
      cursor: pointer;
    }
    
    .feature-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.08);
      border-color: var(--accent);
    }
    
    .feature-icon {
      font-size: 2rem;
      margin-bottom: 1.25rem;
    }
    
    .feature-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--ink);
      margin-bottom: 0.75rem;
    }
    
    .feature-desc {
      color: var(--text-light);
      font-size: 0.95rem;
      line-height: 1.6;
    }
    
    /* LEARN & FORMS PAGES */
    .learn-page, .forms-page {
      padding: 4rem 2rem;
      max-width: 900px;
      margin: 0 auto;
    }
    
    .page-header {
      margin-bottom: 3rem;
    }
    
    .page-tag {
      color: var(--accent);
      font-size: 0.85rem;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      margin-bottom: 0.75rem;
    }
    
    .page-title {
      font-size: 2rem;
      font-weight: 700;
      color: var(--ink);
      margin-bottom: 1rem;
      letter-spacing: -0.02em;
    }
    
    .page-desc {
      color: var(--text-light);
      font-size: 1.1rem;
      line-height: 1.7;
    }
    
    .placeholder-card {
      background: var(--paper-warm);
      border: 2px dashed rgba(0,0,0,0.15);
      padding: 4rem 2rem;
      text-align: center;
    }
    
    .placeholder-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
      opacity: 0.5;
    }
    
    .placeholder-text {
      color: var(--text-light);
      font-size: 1.1rem;
    }
    
    /* TABS */
    .tabs {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 2rem;
      border-bottom: 2px solid rgba(0,0,0,0.08);
      padding-bottom: 0.5rem;
    }
    
    .tab {
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      font-weight: 500;
      background: none;
      border: none;
      cursor: pointer;
      color: var(--text-light);
      transition: all 0.2s;
      font-family: inherit;
      position: relative;
    }
    
    .tab:hover {
      color: var(--ink);
    }
    
    .tab.active {
      color: var(--accent);
    }
    
    .tab.active::after {
      content: '';
      position: absolute;
      bottom: -0.6rem;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--accent);
    }
    
    .form-card {
      background: var(--paper);
      border: 1px solid rgba(0,0,0,0.08);
      padding: 2.5rem;
      display: none;
    }
    
    .form-card.active {
      display: block;
    }
    
    .form-card-title {
      font-size: 1.75rem;
      font-weight: 700;
      color: var(--ink);
      margin-bottom: 1rem;
    }
    
    .form-card-desc {
      color: var(--text-light);
      margin-bottom: 2rem;
      font-size: 1.05rem;
      line-height: 1.7;
    }
    
    .info-box {
      padding: 1.25rem 1.5rem;
      margin-bottom: 2rem;
      border-left: 4px solid;
    }
    
    .info-box.blue {
      background: #eef4f8;
      border-color: #4a90a4;
    }
    
    .info-box.green {
      background: #eef5ef;
      border-color: var(--sage);
    }
    
    .info-box.purple {
      background: #f3eef8;
      border-color: #7a5ba4;
    }
    
    .info-box.yellow {
      background: #fdf8ed;
      border-color: var(--gold);
    }
    
    .info-box-title {
      font-weight: 600;
      color: var(--ink);
      margin-bottom: 0.5rem;
    }
    
    .info-box-text {
      color: var(--text);
      font-size: 0.95rem;
    }
    
    .section-title {
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--ink);
    }
    
    .pattern-box {
      background: var(--paper-warm);
      padding: 1.5rem;
      text-align: center;
      font-size: 1.25rem;
      margin-bottom: 2rem;
    }
    
    .conj-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.9rem;
      margin-bottom: 2rem;
    }
    
    .conj-table th,
    .conj-table td {
      border: 1px solid rgba(0,0,0,0.1);
      padding: 0.75rem 1rem;
      text-align: left;
    }
    
    .conj-table th {
      background: var(--ink);
      color: var(--paper);
      font-weight: 600;
    }
    
    .conj-table tr:nth-child(even) {
      background: var(--paper-warm);
    }
    
    .conj-table .highlight {
      font-weight: 600;
      color: var(--accent);
    }
    
    .row-a { color: #c45c4a; font-weight: 600; }
    .row-i { color: #7a9e7e; font-weight: 600; }
    .row-u { color: #4a90a4; font-weight: 600; }
    .row-e { color: #7a5ba4; font-weight: 600; }
    .row-o { color: #c9a962; font-weight: 600; }
    
    .forms-cta {
      margin-top: 3rem;
      text-align: center;
    }
    
    
    /* VERB LIST STYLES */
    .verb-list-tab {
      padding: 1rem 1.5rem;
      background: white;
      border: 2px solid transparent;
      border-radius: 4px;
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--text);
      cursor: pointer;
      transition: all 0.2s;
      font-family: inherit;
    }

    .verb-list-tab:hover {
      background: white;
      border-color: var(--accent);
      color: var(--ink);
    }

    .verb-list-tab.active {
      background: white;
      color: var(--ink);
      border-color: var(--accent);
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    .verb-list-content {
      display: none;
    }

    .verb-list-content.active {
      display: grid !important;
    }

    .verb-item {
      background: white;
      border: 1px solid #e5e5e0;
      padding: 1.25rem 1.5rem;
      border-radius: 6px;
      transition: all 0.25s;
      cursor: default;
      position: relative;
    }

    /* Alternating pattern - every other card gets subtle background */
    .verb-item:nth-child(even) {
      background: #fafaf7;
    }

    .verb-item:hover {
      border-color: var(--accent);
      box-shadow: 0 6px 20px rgba(0,0,0,0.1);
      transform: translateY(-3px);
      background: white;
    }

    .verb-item .verb-kanji {
      font-size: 1.75rem !important;
      font-weight: 900 !important;
      color: #000000 !important;
      margin-bottom: 0.5rem;
      line-height: 1.2;
    }

    .verb-item .verb-reading {
      font-size: 0.95rem !important;
      color: #333333 !important;
      margin-bottom: 0.75rem;
      font-weight: 600 !important;
    }

    .verb-item .verb-meaning {
      font-size: 1rem !important;
      color: #1a1a1a !important;
      font-weight: 500 !important;
      border-top: 1px solid rgba(0,0,0,0.06);
      padding-top: 0.75rem;
      padding-right: 3rem; /* Make room for JLPT badge */
    }

    /* Search Input Styles */
    #verb-search:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(196, 92, 74, 0.1);
    }

    /* JLPT Filter Button Styles */
    .jlpt-filter-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    /* MISTAKE REPORT STYLES */
    .report-btn {
      padding: 0.75rem 1.5rem;
      background: var(--paper);
      color: var(--ink);
      border: 2px solid var(--ink);
      border-radius: 4px;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      font-family: inherit;
    }

    .report-btn:hover {
      background: var(--ink);
      color: var(--paper);
    }

    .report-btn:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    .reset-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.3rem;
      padding: 0.35rem 0.6rem;
      margin-top: 0.5rem;
      background: transparent;
      color: var(--text-light);
      border: 1px solid rgba(0,0,0,0.12);
      border-radius: 3px;
      font-size: 0.7rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      font-family: inherit;
      position: relative;
      z-index: 100;
    }

    .reset-btn:hover {
      background: rgba(0,0,0,0.05);
      color: var(--ink);
      border-color: rgba(0,0,0,0.2);
    }

    .reset-btn svg {
      opacity: 0.6;
    }

    .reset-btn:hover svg {
      opacity: 1;
    }

    .report-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 10000;
      overflow-y: auto;
      padding: 2rem;
    }

    .report-modal.active {
      display: flex;
      align-items: flex-start;
      justify-content: center;
    }

    .report-content {
      background: var(--paper);
      border-radius: 8px;
      max-width: 900px;
      width: 100%;
      margin: 2rem auto;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }

    .report-header {
      background: var(--ink);
      color: var(--paper);
      padding: 2rem;
      border-radius: 8px 8px 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .report-close {
      background: none;
      border: none;
      color: var(--paper);
      font-size: 2rem;
      cursor: pointer;
      padding: 0;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      transition: background 0.2s;
    }

    .report-close:hover {
      background: rgba(255,255,255,0.1);
    }

    .report-download {
      background: rgba(255,255,255,0.15);
      border: 1px solid rgba(255,255,255,0.3);
      color: var(--paper);
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      padding: 0.5rem 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      border-radius: 6px;
      transition: all 0.2s;
      font-family: var(--font-sans);
    }

    .report-download:hover {
      background: rgba(255,255,255,0.25);
      border-color: rgba(255,255,255,0.5);
      transform: translateY(-1px);
    }

    .report-download svg {
      flex-shrink: 0;
    }

    .report-body {
      padding: 2rem;
      max-height: 70vh;
      overflow-y: auto;
    }

    .report-section {
      margin-bottom: 2.5rem;
    }

    .report-section-title {
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--ink);
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .mistake-card {
      background: var(--paper-warm);
      border-left: 4px solid var(--accent);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      border-radius: 4px;
    }

    .mistake-card-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--ink);
      margin-bottom: 0.75rem;
    }

    .mistake-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .mistake-stat {
      background: var(--paper-warm);
      padding: 1.5rem;
      border-radius: 4px;
      text-align: center;
      border: 1px solid rgba(0,0,0,0.06);
    }

    .mistake-stat-value {
      font-size: 2rem;
      font-weight: 700;
      color: var(--accent);
      margin-bottom: 0.5rem;
    }

    .mistake-stat-label {
      font-size: 0.9rem;
      color: var(--text-light);
      font-weight: 500;
    }

    .advice-box {
      background: #e8f4f8;
      border-left: 4px solid #4a90a4;
      padding: 1.5rem;
      border-radius: 4px;
      margin-bottom: 1rem;
    }

    .advice-title {
      font-weight: 600;
      color: #357a8a;
      margin-bottom: 0.5rem;
      font-size: 1.05rem;
    }

    .advice-text {
      color: var(--text);
      line-height: 1.7;
    }

    .no-mistakes {
      text-align: center;
      padding: 3rem 2rem;
      color: var(--text-light);
    }

    .no-mistakes-icon {
      font-size: 4rem;
      margin-bottom: 1rem;
    }

    /* CONJUGATOR PAGE */
    .conjugator-page {
      padding: 4rem 2rem;
      max-width: 600px;
      margin: 0 auto;
    }
    
    .conjugator-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 1rem;
    }

    @media (max-width: 768px) {
      .conjugator-header {
        flex-direction: column;
        align-items: stretch;
      }

      .conjugator-header > div:last-child {
        flex-direction: column-reverse;
        align-items: stretch;
      }

      .report-btn {
        width: 100%;
        margin-left: 0;
        margin-bottom: 0.5rem;
      }

      .score-box {
        text-align: center;
        align-items: center;
      }

      .score-box .reset-btn {
        margin: 0.5rem auto 0;
      }

      .report-header {
        flex-direction: column;
        gap: 1rem;
      }

      .report-header h2 {
        font-size: 1.5rem;
        text-align: center;
      }

      .report-header > div {
        width: 100%;
        justify-content: center;
      }

      .report-download {
        flex: 1;
      }
    }
    
    .score-box {
      text-align: right;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      position: relative;
      z-index: 50;
    }
    
    .score-label {
      font-size: 0.8rem;
      color: var(--text-light);
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }
    
    .score-value {
      font-size: 1.75rem;
      font-weight: 700;
      color: var(--sage);
    }
    
    .form-select {
      width: 100%;
      padding: 0.875rem 1rem;
      font-size: 1rem;
      border: 2px solid rgba(0,0,0,0.1);
      background: var(--paper);
      font-family: inherit;
      cursor: pointer;
      margin-bottom: 1.5rem;
      transition: border-color 0.2s;
    }
    
    .form-select:focus {
      outline: none;
      border-color: var(--accent);
    }
    
    .verb-display {
      background: var(--ink);
      padding: 2.5rem;
      margin-bottom: 1.5rem;
      text-align: center;
    }
    
    .verb-type {
      color: var(--accent-soft);
      font-size: 0.85rem;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      margin-bottom: 0.75rem;
    }
    
    .verb-kanji {
      font-size: 3.5rem;
      color: var(--paper);
      font-weight: 700;
      margin-bottom: 0.5rem;
    }
    
    .verb-info {
      color: rgba(255,255,255,0.6);
      font-size: 1.15rem;
    }
    
    .prompt-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 0.75rem;
      gap: 1rem;
    }
    
    .prompt-text {
      font-weight: 500;
      color: var(--ink);
      flex: 1;
    }
    
    .prompt-form {
      color: var(--accent);
      font-weight: 600;
      display: block;
      font-size: 1.05rem;
      margin-top: 0.25rem;
      line-height: 1.4;
    }
    
    .hint-btn {
      background: none;
      border: none;
      color: var(--text-light);
      font-size: 0.9rem;
      cursor: pointer;
      font-family: inherit;
      white-space: nowrap;
      flex-shrink: 0;
      padding: 0.25rem 0.5rem;
    }
    
    .hint-btn:hover {
      color: var(--accent);
    }
    
    .hint-box {
      background: linear-gradient(135deg, #fdf8ed 0%, #fef9f0 100%);
      border-left: 3px solid var(--gold);
      padding: 1rem 1.25rem;
      margin-bottom: 1rem;
      font-size: 0.9rem;
      color: var(--text);
      display: none;
      border-radius: 0 4px 4px 0;
      line-height: 1.6;
    }
    
    .hint-box.visible {
      display: block;
    }
    
    .hint-box .hint-label {
      font-weight: 600;
      color: var(--gold);
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }
    
    .hint-box .hint-rule {
      background: rgba(255,255,255,0.7);
      padding: 0.5rem 0.75rem;
      border-radius: 4px;
      margin: 0.5rem 0;
      font-family: 'Noto Serif JP', serif;
    }
    
    .hint-box .hint-example {
      color: var(--text-light);
      font-size: 0.85rem;
      margin-top: 0.5rem;
    }
    
    .hint-box .hint-example strong {
      color: var(--sage);
    }
    
    .answer-input {
      width: 100%;
      padding: 1.25rem;
      font-size: 1.35rem;
      border: 2px solid rgba(0,0,0,0.1);
      background: var(--paper);
      font-family: 'Noto Serif JP', serif;
      text-align: center;
      margin-bottom: 1rem;
      transition: all 0.2s;
    }
    
    .answer-input:focus {
      outline: none;
      border-color: var(--ink);
    }
    
    .answer-input:disabled {
      background: var(--paper-warm);
    }
    
    .feedback {
      padding: 1.25rem;
      margin-bottom: 1rem;
      text-align: center;
      display: none;
    }
    
    .feedback.visible {
      display: block;
    }
    
    .feedback.warning {
      background: #fef3e6;
      border: 2px solid #e6a756;
    }
    
    .feedback.correct {
      background: #eef5ef;
      border: 2px solid var(--sage);
    }
    
    .feedback.incorrect {
      background: #fbeef0;
      border: 2px solid var(--accent);
    }
    
    .feedback-title {
      font-weight: 600;
      margin-bottom: 0.25rem;
    }
    
    .feedback-answer {
      font-size: 1.25rem;
    }
    
    .feedback-explanation {
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid rgba(0,0,0,0.1);
      text-align: left;
      font-size: 0.95rem;
      line-height: 1.6;
      color: var(--text);
      display: none;
    }
    
    .feedback-explanation strong {
      color: var(--accent);
    }
    
    .check-btn {
      width: 100%;
      padding: 1.125rem;
      font-size: 1.1rem;
      font-weight: 600;
      border: none;
      cursor: pointer;
      font-family: inherit;
      transition: all 0.2s;
    }
    
    .check-btn.primary {
      background: var(--ink);
      color: var(--paper);
    }
    
    .check-btn.primary:hover:not(:disabled) {
      background: var(--ink-light);
    }
    
    .check-btn.primary:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }
    
    .check-btn.continue {
      background: var(--sage);
      color: var(--paper);
    }
    
    .check-btn.continue:hover {
      opacity: 0.9;
    }
    
    .check-btn.next {
      background: var(--sage);
      color: var(--paper);
      display: none;
    }
    
    .check-btn.next:hover {
      opacity: 0.9;
    }
    
    .skip-btn {
      width: 100%;
      padding: 0.75rem;
      margin-top: 0.5rem;
      font-size: 0.9rem;
      font-weight: 500;
      border: 1px solid rgba(0,0,0,0.15);
      background: transparent;
      color: var(--text-light);
      cursor: pointer;
      font-family: inherit;
      transition: all 0.2s;
    }
    
    .skip-btn:hover {
      background: rgba(0,0,0,0.03);
      color: var(--ink);
      border-color: rgba(0,0,0,0.25);
    }
    
    /* Responsive */
    @media (max-width: 600px) {
      .nav-inner {
        padding: 0 1rem;
        height: auto;
        min-height: 72px;
        flex-wrap: wrap;
        gap: 8px;
        padding-top: 12px;
        padding-bottom: 12px;
      }
      .nav-links {
        gap: 0.5rem;
        width: 100%;
        overflow-x: auto;
        padding-bottom: 4px;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
      }
      .nav-links::-webkit-scrollbar {
        display: none;
      }
      .nav-link {
        font-size: 0.75rem;
        white-space: nowrap;
        padding: 0.4rem 0.6rem;
        flex-shrink: 0;
      }
      .logo-text {
        font-size: 1rem;
      }
      .logo-kanji {
        font-size: 1.25rem;
      }
      .hero-content {
        padding: 2rem 1rem;
      }
      .features {
        padding: 4rem 1rem;
      }
      .tabs {
        flex-wrap: wrap;
      }
      .tab {
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
      }
    }
  </style>
</head>
<body>

  <!-- NAVIGATION -->
  <nav class="nav">
    <div class="nav-inner">
      <div class="logo" onclick="showPage('home')">
        <span class="logo-kanji jp">Ê¥ªÁî®</span>
        <span class="logo-text">Katsuy≈ç Academy</span>
      </div>
      <div class="nav-links">
        <button class="nav-link active" data-page="home" onclick="showPage('home')">Home</button>
        <span style="color: var(--accent); opacity: 0.6; user-select: none; font-weight: 300; padding: 0 0.25rem;">|</span>
        <button class="nav-link" data-page="kana" onclick="showPage('kana')">Kana</button>
        <button class="nav-link" data-page="learn" onclick="showPage('learn')">Learn</button>
        <button class="nav-link" data-page="forms" onclick="showPage('forms')">Forms</button>
        <button class="nav-link" data-page="verblist" onclick="showPage('verblist')">Verbs</button>
        <span style="color: var(--accent); opacity: 0.6; user-select: none; font-weight: 300; padding: 0 0.25rem;">|</span>
        <button class="nav-link" data-page="conjugator" onclick="showPage('conjugator')">Conjugator</button>
        <button class="nav-link" data-page="datedojo" onclick="showPage('datedojo')"><span class="jp">Êó•‰ªòÈÅìÂ†¥</span></button>
        <button class="nav-link" data-page="vocabulary" onclick="showPage('vocabulary')"><span class="jp">ÂçòË™ûÈÅìÂ†¥</span></button>
      </div>      </div>
    </div>
  </nav>

  <!-- HOME PAGE -->
  <div id="page-home" class="page active">
    <div class="home">
      <section class="hero">
        <div class="hero-content">
          <div class="hero-badge">Japanese Verb Mastery</div>
          <h1 class="hero-title">Katsuy≈ç Academy</h1>
          <p class="hero-subtitle jp">Ê¥ªÁî®„ÇíÂ≠¶„Å∂</p>
          <p class="hero-desc">
            A learning tool made by a student, for students‚Äîbringing an easy way to comprehend and practice Japanese verb conjugation.
          </p>
          <div class="hero-cta">
            <button class="btn btn-primary" onclick="showPage('learn')">Start Learning</button>
            <button class="btn btn-secondary" onclick="showPage('conjugator')">Practice Now</button>
          </div>
        </div>
      </section>
      
      <!-- INTRODUCTION -->
      <section style="max-width: 900px; margin: 0 auto; padding: 3rem 2rem;">
        <div style="background: var(--paper); border: 1px solid rgba(0,0,0,0.08); padding: 3rem; border-radius: 4px;">
          <h2 style="font-size: 2rem; font-weight: 700; color: var(--ink); margin-bottom: 1.5rem; text-align: center;">
            Welcome to Katsuy≈ç Academy
          </h2>
          
          <div style="color: var(--text); font-size: 1.08rem; line-height: 1.8;">
            <p style="margin-bottom: 1.5rem;">
              If you're learning Japanese, you know that verb conjugation can feel overwhelming. With three verb types, 
              multiple forms, and what seems like endless patterns to memorize, it's easy to feel lost.
            </p>
            
            <p style="margin-bottom: 1.5rem;">
              <strong style="color: var(--ink);">That's why Katsuy≈ç Academy exists.</strong>
            </p>
            
            <p style="margin-bottom: 1.5rem;">
              As a fellow Japanese learner, I built this site because I needed something better than scattered textbook 
              chapters and confusing online resources. I wanted a single place that would:
            </p>
            
            <ul style="margin-left: 2rem; margin-bottom: 1.5rem; line-height: 2;">
              <li><strong>Explain the logic</strong> behind conjugation patterns, not just give you charts to memorize</li>
              <li><strong>Provide focused practice</strong> with 16 verb forms, 129 verbs, and difficulty-based modes</li>
              <li><strong>Build essential vocabulary</strong> with 496 words across hiragana, kanji, and katakana</li>
              <li><strong>Give instant feedback</strong> with detailed error explanations and helpful hints</li>
              <li><strong>Support JLPT preparation</strong> with N5/N4/N3 verb filtering</li>
              <li><strong>Make it free and accessible</strong> for any student who wants to learn</li>
            </ul>
            
            <p style="margin-bottom: 1.5rem;">
              Katsuy≈ç Academy combines clear explanations with hands-on practice. Master verb conjugation, build your vocabulary with 496 essential words, 
              and practice Japanese dates and numbers. Whether you're a beginner learning your first verb forms or reviewing for the JLPT, these tools are here to help.
            </p>
            
            <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; border-left: 4px solid var(--accent); margin-top: 2rem;">
              <p style="margin: 0; font-style: italic; color: var(--text);">
                "The best way to learn is to practice. The best way to practice is to understand. 
                That's the philosophy behind every feature on this site."
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- WHAT WE OFFER -->
      <section class="features" style="background: var(--paper-warm); padding: 4rem 2rem;">
        <div class="features-inner" style="max-width: 1200px; margin: 0 auto;">
          <div class="features-header" style="text-align: center; margin-bottom: 3rem;">
            <h2 class="features-title" style="font-size: 2rem; font-weight: 700; color: var(--ink); margin-bottom: 1rem;">What You'll Find Here</h2>
            <p class="features-subtitle" style="font-size: 1.1rem; color: var(--text-light);">Five powerful tools, one complete learning experience</p>
          </div>
          <div class="features-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 1.5rem;">
            <div class="feature-card" onclick="showPage('kana')" style="background: linear-gradient(135deg, #1a1a2e 0%, #0f0f1a 100%); padding: 2rem; border-radius: 4px; border: 1px solid rgba(212,120,106,0.3); cursor: pointer; transition: transform 0.2s;">
              <div class="feature-icon" style="font-size: 3rem; margin-bottom: 1rem; color: white;">„ÅÇ</div>
              <h3 class="feature-title" style="font-size: 1.4rem; font-weight: 600; color: #d4786a; margin-bottom: 0.75rem;"><span class="jp" style="color: #d4786a;">‰ªÆÂêç</span> ‚Äî Kana</h3>
              <p class="feature-desc" style="color: #e8e6e3; line-height: 1.7; margin-bottom: 1rem;">
                Master all <strong style="color: #d4786a;">104 hiragana and katakana</strong> characters. Learn both Japanese writing systems side-by-side with 
                <strong>audio pronunciation</strong>, clear charts for basic kana, dakuten (voiced sounds), and combination characters. 
                Click any character to hear how it sounds.
              </p>
              <div style="color: #d4786a; font-weight: 600; font-size: 0.9rem;">Learn Kana ‚Üí</div>
            </div>
            <div class="feature-card" onclick="showPage('learn')" style="background: var(--paper); padding: 2rem; border-radius: 4px; border: 1px solid rgba(0,0,0,0.08); cursor: pointer; transition: transform 0.2s;">
              <div class="feature-icon" style="font-size: 3rem; margin-bottom: 1rem;">üìö</div>
              <h3 class="feature-title" style="font-size: 1.4rem; font-weight: 600; color: var(--ink); margin-bottom: 0.75rem;">Learn</h3>
              <p class="feature-desc" style="color: var(--text); line-height: 1.7; margin-bottom: 1rem;">
                Clear, visual explanations of how Japanese verb conjugation actually works. Understand the <em>why</em> 
                behind the patterns, not just the rules. Learn to identify verb types, understand the hiragana sound 
                system, and see step-by-step walkthroughs of each conjugation type.
              </p>
              <div style="color: var(--accent); font-weight: 600; font-size: 0.9rem;">Start Learning ‚Üí</div>
            </div>
            <div class="feature-card" onclick="showPage('forms')" style="background: var(--paper); padding: 2rem; border-radius: 4px; border: 1px solid rgba(0,0,0,0.08); cursor: pointer; transition: transform 0.2s;">
              <div class="feature-icon" style="font-size: 3rem; margin-bottom: 1rem;">üìñ</div>
              <h3 class="feature-title" style="font-size: 1.4rem; font-weight: 600; color: var(--ink); margin-bottom: 0.75rem;">Forms</h3>
              <p class="feature-desc" style="color: var(--text); line-height: 1.7; margin-bottom: 1rem;">
                Comprehensive quick-reference conjugation charts covering 16 verb forms for all three verb types: Godan (‰∫îÊÆµ), Ichidan (‰∏ÄÊÆµ), and Suru („Åô„Çã). 
                From basic forms (negative, polite, past) to advanced (passive, causative, conditional), color-coded tables show you exactly how each form is created. 
                Perfect for quick lookups or comparing patterns side-by-side.
              </p>
              <div style="color: var(--accent); font-weight: 600; font-size: 0.9rem;">View Forms ‚Üí</div>
            </div>
            <div class="feature-card" onclick="showPage('verblist')" style="background: var(--paper); padding: 2rem; border-radius: 4px; border: 1px solid rgba(0,0,0,0.08); cursor: pointer; transition: transform 0.2s;">
              <div class="feature-icon" style="font-size: 3rem; margin-bottom: 1rem;">üìã</div>
              <h3 class="feature-title" style="font-size: 1.4rem; font-weight: 600; color: var(--ink); margin-bottom: 0.75rem;">Verb List</h3>
              <p class="feature-desc" style="color: var(--text); line-height: 1.7; margin-bottom: 1rem;">
                Browse all <strong>129 verbs</strong> in our database, organized by type (Godan, Ichidan, Suru) with kanji, hiragana, and English meanings. 
                <strong>Search</strong> to find specific verbs instantly, or <strong>filter by JLPT level</strong> (N5, N4, N3) to focus on vocabulary appropriate for your level.
              </p>
              <div style="color: var(--accent); font-weight: 600; font-size: 0.9rem;">Browse Verbs ‚Üí</div>
            </div>
            <div class="feature-card" onclick="showPage('conjugator')" style="background: var(--paper); padding: 2rem; border-radius: 4px; border: 1px solid rgba(0,0,0,0.08); cursor: pointer; transition: transform 0.2s;">
              <div class="feature-icon" style="font-size: 3rem; margin-bottom: 1rem;">‚úèÔ∏è</div>
              <h3 class="feature-title" style="font-size: 1.4rem; font-weight: 600; color: var(--ink); margin-bottom: 0.75rem;">The Conjugator</h3>
              <p class="feature-desc" style="color: var(--text); line-height: 1.7; margin-bottom: 1rem;">
                The heart of Katsuy≈ç Academy. Practice conjugating verbs across <strong>16 different forms</strong> with instant feedback. 
                Choose <strong>Random modes by difficulty</strong> (Basic/Intermediate/Advanced) or focus on specific forms. 
                <strong>Filter by JLPT level</strong> to match your study goals. Get <strong>detailed hints</strong> showing exact rules and examples, 
                plus <strong>error explanations</strong> when you make mistakes. <strong>Skip</strong> questions without penalty when stuck. 
                Your <strong>progress saves automatically</strong>, and the <strong>Practice Report</strong> shows your statistics and weak areas.
              </p>
              <div style="color: var(--accent); font-weight: 600; font-size: 0.9rem;">Start Practicing ‚Üí</div>
            </div>
            <div class="feature-card" onclick="showPage('datedojo')" style="background: linear-gradient(135deg, #1a1a2e 0%, #0c0c0c 100%); padding: 2rem; border-radius: 4px; border: 1px solid rgba(196,30,58,0.3); cursor: pointer; transition: transform 0.2s;">
              <div class="feature-icon" style="font-size: 3rem; margin-bottom: 1rem;">üìÖ</div>
              <h3 class="feature-title" style="font-size: 1.4rem; font-weight: 600; color: #fff; margin-bottom: 0.75rem;"><span class="jp">Êó•‰ªòÈÅìÂ†¥</span> ‚Äî Date Dojo</h3>
              <p class="feature-desc" style="color: rgba(255,255,255,0.7); line-height: 1.7; margin-bottom: 1rem;">
                Practice Japanese dates, weekdays, months, and numbers. Questions cover today's date, future/past calculations, 
                relative days (<span class="jp">„Åç„ÅÆ„ÅÜ</span>, <span class="jp">„ÅÇ„Åó„Åü</span>), and large numbers.
                <strong style="color: #ff6b6b;">Full sentence answers required</strong> ‚Äî build proper grammar habits with „Åß„Åô and „Åß„Åó„Åü endings.
                Includes a handy <strong style="color: #ff6b6b;">reference chart</strong> for the tricky readings.
              </p>
              <div style="color: #c41e3a; font-weight: 600; font-size: 0.9rem;">Enter the Dojo ‚Üí</div>
            </div>
            <div class="feature-card" onclick="showPage('vocabulary')" style="background: linear-gradient(135deg, #4a4539 0%, #322d26 100%); padding: 2rem; border-radius: 4px; border: 1px solid rgba(212,120,106,0.3); cursor: pointer; transition: transform 0.2s;">
              <div class="feature-icon" style="font-size: 3rem; margin-bottom: 1rem;">üé¥</div>
              <h3 class="feature-title" style="font-size: 1.4rem; font-weight: 600; color: #d4786a; margin-bottom: 0.75rem;"><span class="jp" style="color: #d4786a;">ÂçòË™ûÈÅìÂ†¥</span> ‚Äî Tango D≈çj≈ç</h3>
              <p class="feature-desc" style="color: #e8e6e3; line-height: 1.7; margin-bottom: 1rem;">
                Master <strong style="color: #d4786a;">496 essential Japanese words</strong> with intelligent flashcards. 
                Study with <strong>hiragana, kanji, and katakana</strong> across <strong style="color: #d4786a;">8 different learning modes</strong>. 
                Toggle between Japanese‚ÜíEnglish or English‚ÜíJapanese practice, show/hide kanji and katakana readings, and see both scripts side-by-side. 
                <strong>Smart shuffle prioritizes unseen cards</strong>, progress tracking shows cards studied, and the beautiful vintage design makes learning engaging.
              </p>
              <div style="color: #d4786a; font-weight: 600; font-size: 0.9rem;">Start Learning Words ‚Üí</div>
            </div>
          </div>
        </div>
      </section>

      <!-- WHY THIS WORKS -->
      <section style="max-width: 1000px; margin: 0 auto; padding: 4rem 2rem;">
        <div style="background: var(--ink); padding: 3rem; border-radius: 4px; color: var(--paper);">
          <h2 style="font-size: 2rem; font-weight: 700; margin-bottom: 2rem; text-align: center;">
            Why Katsuy≈ç Academy Works
          </h2>
          
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2.5rem;">
            <div>
              <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--accent);">
                üéØ Focused Learning Path
              </h3>
              <p style="line-height: 1.7; color: rgba(255,255,255,0.85); font-size: 0.95rem;">
                Start with the fundamentals in Learn, reference the patterns in Forms, then drill them until they're 
                automatic in The Conjugator. Each section builds on the last.
              </p>
            </div>
            
            <div>
              <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--accent);">
                üß† Understanding Over Memorization
              </h3>
              <p style="line-height: 1.7; color: rgba(255,255,255,0.85); font-size: 0.95rem;">
                You'll learn <em>why</em> „Åô becomes „Åï for negative, not just that it does. When you understand the 
                logic, conjugation becomes intuitive instead of a memory test.
              </p>
            </div>
            
            <div>
              <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--accent);">
                üí° Helpful Feedback
              </h3>
              <p style="line-height: 1.7; color: rgba(255,255,255,0.85); font-size: 0.95rem;">
                The Conjugator doesn't just say "wrong"‚Äîit shows the exact rule you needed, identifies your specific error 
                (like using the wrong vowel row), and gives memory tips. Hints show worked examples so you can learn the pattern.
              </p>
            </div>
            
            <div>
              <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--accent);">
                üîÑ Flexible Practice Options
              </h3>
              <p style="line-height: 1.7; color: rgba(255,255,255,0.85); font-size: 0.95rem;">
                Choose difficulty modes (Basic/Intermediate/Advanced), filter by JLPT level, focus on specific forms, 
                or skip questions when stuck. Your progress saves automatically‚Äîpractice on your own terms.
              </p>
            </div>
            
            <div>
              <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--accent);">
                üé® Clean, Distraction-Free Design
              </h3>
              <p style="line-height: 1.7; color: rgba(255,255,255,0.85); font-size: 0.95rem;">
                No ads, no clutter, no overwhelming walls of text. Just clean, focused learning tools designed to help 
                you concentrate on what matters: mastering conjugation.
              </p>
            </div>
            
            <div>
              <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--accent);">
                üÜì Completely Free
              </h3>
              <p style="line-height: 1.7; color: rgba(255,255,255,0.85); font-size: 0.95rem;">
                Made by a student, for students. No paywalls, no premium tiers, no "sign up to continue." Just free, 
                quality resources available to anyone who wants to learn.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- GET STARTED -->
      <section style="max-width: 900px; margin: 0 auto; padding: 3rem 2rem 4rem 2rem;">
        <div style="background: var(--paper); border: 1px solid rgba(0,0,0,0.08); padding: 3rem; border-radius: 4px; text-align: center;">
          <h2 style="font-size: 2rem; font-weight: 700; color: var(--ink); margin-bottom: 1rem;">
            Ready to Get Started?
          </h2>
          <p style="font-size: 1.08rem; color: var(--text); margin-bottom: 2rem; line-height: 1.7;">
            Whether you're learning kana, studying verbs, building vocabulary, or practicing dates and numbers‚Äîchoose your path below.
          </p>
          <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 1rem; margin-bottom: 2rem;">
            <button onclick="showPage('kana')" style="background: linear-gradient(135deg, #1a1a2e 0%, #0f0f1a 100%); color: #d4786a; border: 2px solid #d4786a; padding: 1rem 1.75rem; font-size: 1rem; font-weight: 600; border-radius: 4px; cursor: pointer; font-family: inherit; transition: all 0.2s;">
              „ÅÇ Learn Kana
            </button>
            <button onclick="showPage('learn')" style="background: var(--ink); color: var(--paper); border: none; padding: 1rem 1.75rem; font-size: 1rem; font-weight: 600; border-radius: 4px; cursor: pointer; font-family: inherit; transition: all 0.2s;">
              üìö Learn the Basics
            </button>
            <button onclick="showPage('forms')" style="background: var(--paper); color: var(--ink); border: 2px solid var(--ink); padding: 1rem 1.75rem; font-size: 1rem; font-weight: 600; border-radius: 4px; cursor: pointer; font-family: inherit; transition: all 0.2s;">
              üìñ View Form Charts
            </button>
            <button onclick="showPage('verblist')" style="background: var(--paper); color: var(--ink); border: 2px solid var(--ink); padding: 1rem 1.75rem; font-size: 1rem; font-weight: 600; border-radius: 4px; cursor: pointer; font-family: inherit; transition: all 0.2s;">
              üìã Browse Verbs
            </button>
            <button onclick="showPage('conjugator')" style="background: var(--sage); color: var(--paper); border: none; padding: 1rem 1.75rem; font-size: 1rem; font-weight: 600; border-radius: 4px; cursor: pointer; font-family: inherit; transition: all 0.2s;">
              ‚úèÔ∏è Start Practicing
            </button>
            <button onclick="showPage('datedojo')" style="background: #1a1a2e; color: #fff; border: 2px solid #c41e3a; padding: 1rem 1.75rem; font-size: 1rem; font-weight: 600; border-radius: 4px; cursor: pointer; font-family: inherit; transition: all 0.2s;">
              üìÖ Êó•‰ªòÈÅìÂ†¥
            </button>
            <button onclick="showPage('vocabulary')" style="background: linear-gradient(135deg, #4a4539 0%, #322d26 100%); color: #d4786a; border: 2px solid #d4786a; padding: 1rem 1.75rem; font-size: 1rem; font-weight: 600; border-radius: 4px; cursor: pointer; font-family: inherit; transition: all 0.2s;">
              üé¥ ÂçòË™ûÈÅìÂ†¥
            </button>
          </div>
            
          <!-- STUDENT NOTE -->
          <div style="background: var(--paper-warm); padding: 1.75rem; border-radius: 4px; border-left: 4px solid var(--accent); margin-top: 1rem;">
            <p style="font-size: 0.95rem; color: var(--text); line-height: 1.7; margin: 0;">
              <strong style="color: var(--ink);">A note from the creator:</strong><br>
              Katsuy≈ç Academy is a passion project born from my own struggles learning Japanese. If this site helps you 
              in your journey, then it's served its purpose. <span class="jp">È†ëÂºµ„Å£„Å¶„Åè„Å†„Åï„ÅÑÔºÅ</span> (Ganbatte kudasai - Do your best!)
            </p>
          </div>
        </div>
      </section>
    </div>
  </div>



  <!-- KANA DOJO PAGE -->
  <div id="page-kana" class="page">
    <div class="kana-page" style="max-width: 1400px; margin: 0 auto; padding: 2rem;">
      
      <!-- QUICK GUIDE -->
      <div style="background: linear-gradient(135deg, #1a1a2e 0%, #0f0f1a 100%); padding: 2rem; border-radius: 8px; margin-bottom: 3rem; color: white;">
        <h2 style="font-size: 1.5rem; margin-bottom: 1rem; color: #d4786a;">üìñ Quick Guide</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
          <div>
            <h3 style="font-size: 1.1rem; margin-bottom: 0.5rem; color: #e8e6e3;">Hiragana („Å≤„Çâ„Åå„Å™)</h3>
            <p style="opacity: 0.9; line-height: 1.6; font-size: 0.95rem;">Curvy, flowing script for native Japanese words, particles, and verb endings. Example: <span class="jp" style="color: #e8e6e3; font-size: 1.2rem;">„Åï„Åè„Çâ</span> (sakura)</p>
          </div>
          <div>
            <h3 style="font-size: 1.1rem; margin-bottom: 0.5rem; color: #2d7d9a;">Katakana („Ç´„Çø„Ç´„Éä)</h3>
            <p style="opacity: 0.9; line-height: 1.6; font-size: 0.95rem;">Angular, sharp script for foreign words, emphasis, and technical terms. Example: <span class="jp" style="color: #2d7d9a; font-size: 1.2rem;">„Ç≥„Éº„Éí„Éº</span> (k≈çhƒ´ / coffee)</p>
          </div>
          <div>
            <h3 style="font-size: 1.1rem; margin-bottom: 0.5rem; color: #d4786a;">Reading the Charts</h3>
            <p style="opacity: 0.9; line-height: 1.6; font-size: 0.95rem;">Each row shares a consonant (k, s, t, etc.). Each column shares a vowel (a, i, u, e, o). Combine them: k + a = „Åã/„Ç´ (ka)</p>
          </div>
        </div>
      </div>

      <!-- COLOR KEY -->
      <div style="background: white; padding: 1.5rem 2rem; border-radius: 8px; margin-bottom: 2rem; box-shadow: 0 1px 4px rgba(0,0,0,0.05); border-left: 4px solid var(--accent);">
        <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 2rem; align-items: center;">
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <span style="font-size: 0.85rem; color: #888; font-weight: 600;">LEGEND:</span>
          </div>
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <span class="jp" style="font-size: 1.8rem; color: var(--ink);">„ÅÇ</span>
            <span style="font-size: 0.9rem; color: var(--text);">Hiragana</span>
          </div>
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <span class="jp" style="font-size: 1.8rem; color: #2d7d9a;">„Ç¢</span>
            <span style="font-size: 0.9rem; color: var(--text);">Katakana</span>
          </div>
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <span style="font-size: 0.85rem; color: #888; font-style: italic;">romaji</span>
            <span style="font-size: 0.9rem; color: var(--text);">Pronunciation</span>
          </div>
        </div>
      </div>

      <!-- BASIC KANA CHART -->
      <section style="margin-bottom: 4rem;">
        <div style="background: white; padding: 2.5rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <div style="margin-bottom: 2rem;">
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem;">
            <span style="background: var(--accent); color: white; padding: 0.25rem 0.75rem; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">46 CHARACTERS</span>
            <h2 style="font-size: 2rem; font-weight: 700; color: var(--ink); margin: 0;">Basic Kana (‰∫îÂçÅÈü≥ Goj≈´on)</h2>
          </div>
            <p style="color: var(--text); font-size: 1.05rem;">The 46 fundamental sounds of Japanese. Master these first!</p>
          </div>
          
          <!-- Kana Grid Table -->
          <div style="overflow: hidden;">
            <table class="kana-chart" style="width: 100%; border-collapse: separate; border-spacing: 4px;">
              <thead>
                <tr style="background: var(--ink); color: white;">
                  <th style="padding: 0.5rem; text-align: center; font-size: 0.85rem; font-weight: 600; width: 50px;"></th>
                  <th style="padding: 0.5rem; text-align: center; font-size: 0.9rem; font-weight: 600;">A</th>
                  <th style="padding: 0.5rem; text-align: center; font-size: 0.9rem; font-weight: 600;">I</th>
                  <th style="padding: 0.5rem; text-align: center; font-size: 0.9rem; font-weight: 600;">U</th>
                  <th style="padding: 0.5rem; text-align: center; font-size: 0.9rem; font-weight: 600;">E</th>
                  <th style="padding: 0.5rem; text-align: center; font-size: 0.9rem; font-weight: 600;">O</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="background: var(--ink); color: white; padding: 0.3rem; text-align: center; font-weight: 600; font-size: 0.65rem; width: 50px;">vowels</td>
                  <td class="kana-grid-cell" onclick="playKanaAudio('„ÅÇ')" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px; cursor: pointer;" title="Click to hear">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">a</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„ÅÇ</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç¢</div>
                  </td>
                  <td class="kana-grid-cell" onclick="playKanaAudio('„ÅÑ')" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px; cursor: pointer;" title="Click to hear">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">i</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„ÅÑ</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç§</div>
                  </td>
                  <td class="kana-grid-cell" onclick="playKanaAudio('„ÅÜ')" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px; cursor: pointer;" title="Click to hear">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">u</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„ÅÜ</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç¶</div>
                  </td>
                  <td class="kana-grid-cell" onclick="playKanaAudio('„Åà')" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px; cursor: pointer;" title="Click to hear">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">e</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åà</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç®</div>
                  </td>
                  <td class="kana-grid-cell" onclick="playKanaAudio('„Åä')" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px; cursor: pointer;" title="Click to hear">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">o</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åä</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç™</div>
                  </td>
                </tr>
                <tr>
                  <td style="background: var(--ink); color: white; padding: 0.3rem; text-align: center; font-weight: 600; font-size: 0.75rem; width: 50px;">K</td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ka</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åã</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç´</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ki</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åç</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç≠</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ku</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åè</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÇØ</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ke</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åë</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç±</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ko</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åì</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç≥</div>
                  </td>
                </tr>
                <tr>
                  <td style="background: var(--ink); color: white; padding: 0.3rem; text-align: center; font-weight: 600; font-size: 0.75rem; width: 50px;">S</td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">sa</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åï</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Çµ</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">shi</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åó</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç∑</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">su</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åô</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Çπ</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">se</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åõ</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Çª</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">so</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åù</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÇΩ</div>
                  </td>
                </tr>
                <tr>
                  <td style="background: var(--ink); color: white; padding: 0.3rem; text-align: center; font-weight: 600; font-size: 0.75rem; width: 50px;">T</td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ta</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åü</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Çø</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">chi</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å°</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÉÅ</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">tsu</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å§</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÉÑ</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">te</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å¶</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÉÜ</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">to</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å®</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éà</div>
                  </td>
                </tr>
                <tr>
                  <td style="background: var(--ink); color: white; padding: 0.3rem; text-align: center; font-weight: 600; font-size: 0.75rem; width: 50px;">N</td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">na</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å™</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éä</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ni</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å´</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éã</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">nu</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å¨</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éå</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ne</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å≠</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éç</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">no</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„ÅÆ</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éé</div>
                  </td>
                </tr>
                <tr>
                  <td style="background: var(--ink); color: white; padding: 0.3rem; text-align: center; font-weight: 600; font-size: 0.75rem; width: 50px;">H</td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ha</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„ÅØ</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éè</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">hi</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å≤</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éí</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">fu</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åµ</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éï</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">he</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å∏</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éò</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ho</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åª</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éõ</div>
                  </td>
                </tr>
                <tr>
                  <td style="background: var(--ink); color: white; padding: 0.3rem; text-align: center; font-weight: 600; font-size: 0.75rem; width: 50px;">M</td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ma</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åæ</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éû</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">mi</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åø</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éü</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">mu</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„ÇÄ</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É†</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">me</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„ÇÅ</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É°</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">mo</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„ÇÇ</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É¢</div>
                  </td>
                </tr>
                <tr>
                  <td style="background: var(--ink); color: white; padding: 0.3rem; text-align: center; font-weight: 600; font-size: 0.75rem; width: 50px;">Y</td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ya</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„ÇÑ</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É§</div>
                  </td>
                  <td style="background: #f5f5f5; padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;"></td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">yu</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„ÇÜ</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É¶</div>
                  </td>
                  <td style="background: #f5f5f5; padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;"></td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">yo</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Çà</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É®</div>
                  </td>
                </tr>
                <tr>
                  <td style="background: var(--ink); color: white; padding: 0.3rem; text-align: center; font-weight: 600; font-size: 0.75rem; width: 50px;">R</td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ra</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Çâ</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É©</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ri</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Çä</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É™</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ru</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Çã</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É´</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">re</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Çå</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É¨</div>
                  </td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ro</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Çç</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É≠</div>
                  </td>
                </tr>
                <tr>
                  <td style="background: var(--ink); color: white; padding: 0.3rem; text-align: center; font-weight: 600; font-size: 0.75rem; width: 50px;">W</td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">wa</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Çè</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÉØ</div>
                  </td>
                  <td style="background: #f5f5f5; padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;"></td>
                  <td style="background: #f5f5f5; padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;"></td>
                  <td style="background: #f5f5f5; padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;"></td>
                  <td class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">wo</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Çí</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É≤</div>
                  </td>
                </tr>
                <tr>
                  <td style="background: var(--ink); color: white; padding: 0.3rem; text-align: center; font-weight: 600; font-size: 0.75rem; width: 50px;">N</td>
                  <td colspan="5" class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
                    <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">n</div>
                    <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Çì</div>
                    <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É≥</div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Continue with other sections... -->
      

      <!-- DAKUTEN (Voiced Sounds) -->
      <section style="margin-bottom: 4rem;">
        <div style="background: white; padding: 2.5rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <div style="margin-bottom: 2rem;">
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem;">
            <span style="background: #2d7d9a; color: white; padding: 0.25rem 0.75rem; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">25 CHARACTERS</span>
            <h2 style="font-size: 2rem; font-weight: 700; color: var(--ink); margin: 0;">Dakuten (ÊøÅÁÇπ) ‚Äî Voiced Sounds</h2>
          </div>
            <p style="color: var(--text); font-size: 1.05rem;">Add two dots <span class="jp" style="font-size: 1.3rem;">„Çõ</span> (dakuten) to voice consonants (K‚ÜíG, S‚ÜíZ, T‚ÜíD, H‚ÜíB), or a circle <span class="jp" style="font-size: 1.3rem;">„Çú</span> (handakuten) for H‚ÜíP</p>
          </div>
          
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 1rem;">
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ga</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åå</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç¨</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">gi</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åé</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÇÆ</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">gu</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åê</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç∞</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ge</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åí</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç≤</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">go</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åî</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç¥</div>
            </div>
            
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">za</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åñ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç∂</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ji</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åò</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç∏</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">zu</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åö</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç∫</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ze</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åú</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Çº</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">zo</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åû</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Çæ</div>
            </div>
            
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">da</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å†</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÉÄ</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ji</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å¢</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÉÇ</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">zu</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å•</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÉÖ</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">de</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åß</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éá</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">do</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å©</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éâ</div>
            </div>
            
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ba</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å∞</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éê</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">bi</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å≥</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éì</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">bu</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å∂</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éñ</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">be</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åπ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éô</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">bo</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åº</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éú</div>
            </div>
            
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">pa</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å±</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éë</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">pi</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å¥</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éî</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">pu</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å∑</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éó</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">pe</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å∫</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éö</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">po</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„ÅΩ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éù</div>
            </div>
          </div>
        </div>
      </section>

      <!-- COMBINATIONS -->
      <section style="margin-bottom: 4rem;">
        <div style="background: white; padding: 2.5rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <div style="margin-bottom: 2rem;">
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem;">
            <span style="background: #6b9aa3; color: white; padding: 0.25rem 0.75rem; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">33 CHARACTERS</span>
            <h2 style="font-size: 2rem; font-weight: 700; color: var(--ink); margin: 0;">Combination Sounds (ÊãóÈü≥ Y≈çon)</h2>
          </div>
            <p style="color: var(--text); font-size: 1.05rem;">Combine characters with small „ÇÑ, „ÇÜ, „Çà to create new sounds like kya, shu, cho</p>
          </div>
          
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 1rem;">
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">kya</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åç„ÇÉ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç≠„É£</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">kyu</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åç„ÇÖ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç≠„É•</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">kyo</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åç„Çá</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç≠„Éß</div>
            </div>
            
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">sha</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åó„ÇÉ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç∑„É£</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">shu</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åó„ÇÖ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç∑„É•</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">sho</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åó„Çá</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç∑„Éß</div>
            </div>
            
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">cha</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å°„ÇÉ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÉÅ„É£</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">chu</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å°„ÇÖ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÉÅ„É•</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">cho</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å°„Çá</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÉÅ„Éß</div>
            </div>
            
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">nya</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å´„ÇÉ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éã„É£</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">nyu</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å´„ÇÖ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éã„É•</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">nyo</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å´„Çá</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éã„Éß</div>
            </div>
            
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">hya</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å≤„ÇÉ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éí„É£</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">hyu</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å≤„ÇÖ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éí„É•</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">hyo</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å≤„Çá</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éí„Éß</div>
            </div>
            
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">mya</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åø„ÇÉ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éü„É£</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">myu</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åø„ÇÖ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éü„É•</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">myo</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åø„Çá</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éü„Éß</div>
            </div>
            
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">rya</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Çä„ÇÉ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É™„É£</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ryu</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Çä„ÇÖ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É™„É•</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ryo</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Çä„Çá</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„É™„Éß</div>
            </div>
            
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">gya</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åé„ÇÉ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÇÆ„É£</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">gyu</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åé„ÇÖ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÇÆ„É•</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">gyo</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åé„Çá</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„ÇÆ„Éß</div>
            </div>
            
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ja</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åò„ÇÉ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç∏„É£</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">ju</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åò„ÇÖ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç∏„É•</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">jo</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Åò„Çá</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Ç∏„Éß</div>
            </div>
            
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">bya</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å≥„ÇÉ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éì„É£</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">byu</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å≥„ÇÖ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éì„É•</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">byo</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å≥„Çá</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éì„Éß</div>
            </div>
            
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">pya</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å¥„ÇÉ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éî„É£</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">pyu</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å¥„ÇÖ</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éî„É•</div>
            </div>
            <div class="kana-grid-cell" style="background: var(--paper-warm); padding: 0.75rem 0.5rem; text-align: center; border-radius: 4px;">
              <div style="font-size: 0.7rem; color: #888; margin-bottom: 0.25rem;">pyo</div>
              <div style="font-size: 1.75rem; color: var(--ink); margin-bottom: 0.15rem;" class="jp">„Å¥„Çá</div>
              <div style="font-size: 1.75rem; color: #2d7d9a;" class="jp">„Éî„Éß</div>
            </div>
          </div>
        </div>
      </section>

      <!-- PRACTICE CTA -->
      <div style="text-align: center; padding: 3rem 2rem; margin-top: 2rem;">
        <p style="font-size: 1.1rem; color: var(--text); margin-bottom: 1.5rem;">Ready to practice reading Japanese?</p>
        <button onclick="showPage('vocabulary')" style="background: var(--accent); color: white; border: none; padding: 1rem 2.5rem; font-size: 1.1rem; font-weight: 600; border-radius: 4px; cursor: pointer; font-family: inherit; transition: background 0.2s;">
          Practice with Flashcards ‚Üí
        </button>
      </div>

    </div>
  </div>

  <!-- LEARN PAGE -->
  <div id="page-learn" class="page">
    <div class="learn-page" style="max-width: 900px;">
      <div class="page-header">
        <div class="page-tag">Understanding Conjugation</div>
        <h1 class="page-title">How Japanese Verbs Work</h1>
        <p class="page-desc">
          A clear, visual guide to understanding Japanese verb conjugation patterns.
          Master the logic behind the forms so you can conjugate any verb with confidence.
        </p>
      </div>

      <!-- INTRODUCTION -->
      <section style="margin-bottom: 3rem;">
        <div style="background: var(--paper); border: 1px solid rgba(0,0,0,0.08); padding: 2.5rem; margin-bottom: 2rem;">
          <h2 style="font-size: 1.75rem; font-weight: 700; color: var(--ink); margin-bottom: 1rem;">
            Why Conjugation Matters
          </h2>
          <p style="color: var(--text); font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
            In Japanese, verbs change their form to express time (past/present), politeness, negation, desire, ability, and more. 
            Unlike English where we add helper words ("I <em>will</em> go", "I <em>can</em> go"), Japanese transforms the verb itself.
          </p>
          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; border-left: 4px solid var(--accent);">
            <div style="font-weight: 600; margin-bottom: 0.5rem; color: var(--ink);">Example:</div>
            <div style="color: var(--text); font-size: 1rem; line-height: 1.8;">
              <strong class="jp">È£ü„Åπ„Çã</strong> (taberu) = to eat<br>
              <strong class="jp">È£ü„Åπ„Å™„ÅÑ</strong> (tabenai) = don't eat<br>
              <strong class="jp">È£ü„Åπ„Åæ„Åô</strong> (tabemasu) = eat (polite)<br>
              <strong class="jp">È£ü„Åπ„Åü</strong> (tabeta) = ate<br>
              <strong class="jp">È£ü„Åπ„Åü„ÅÑ</strong> (tabetai) = want to eat
            </div>
          </div>
        </div>
      </section>

      <!-- THE THREE VERB GROUPS -->
      <section style="margin-bottom: 3rem;">
        <h2 style="font-size: 2rem; font-weight: 700; color: var(--ink); margin-bottom: 1.5rem; text-align: center;">
          The Three Verb Types
        </h2>
        <p style="text-align: center; color: var(--text-light); font-size: 1.05rem; margin-bottom: 2rem;">
          Every Japanese verb falls into one of three categories. Understanding which type you're working with is the first step.
        </p>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
          <div style="background: #eef4f8; padding: 2rem; border: 3px solid #4a90a4; border-radius: 4px;">
            <h3 style="font-size: 1.5rem; font-weight: 700; color: #4a90a4; margin-bottom: 0.5rem;" class="jp">
              ‰∫îÊÆµ Godan
            </h3>
            <p style="color: var(--text); font-size: 0.95rem; margin-bottom: 1rem;">
              "Five-step" verbs that conjugate by shifting through <strong>5 vowel rows</strong>
            </p>
            <div style="font-size: 0.9rem; color: var(--text);">
              Examples:<br>
              <span class="jp">Ë°å„Åè„ÄÅË©±„Åô„ÄÅÈ£≤„ÇÄ</span>
            </div>
          </div>

          <div style="background: #eef5ef; padding: 2rem; border: 3px solid var(--sage); border-radius: 4px;">
            <h3 style="font-size: 1.5rem; font-weight: 700; color: var(--sage); margin-bottom: 0.5rem;" class="jp">
              ‰∏ÄÊÆµ Ichidan
            </h3>
            <p style="color: var(--text); font-size: 0.95rem; margin-bottom: 1rem;">
              "One-step" verbs with a <strong>stem that never changes</strong>
            </p>
            <div style="font-size: 0.9rem; color: var(--text);">
              Examples:<br>
              <span class="jp">È£ü„Åπ„Çã„ÄÅË¶ã„Çã„ÄÅÂØù„Çã</span>
            </div>
          </div>

          <div style="background: #f3eef8; padding: 2rem; border: 3px solid #7a5ba4; border-radius: 4px;">
            <h3 style="font-size: 1.5rem; font-weight: 700; color: #7a5ba4; margin-bottom: 0.5rem;">
              „Åô„Çã Suru
            </h3>
            <p style="color: var(--text); font-size: 0.95rem; margin-bottom: 1rem;">
              <strong>Irregular verbs</strong> formed by adding „Åô„Çã to nouns
            </p>
            <div style="font-size: 0.9rem; color: var(--text);">
              Examples:<br>
              <span class="jp">„Åô„Çã„ÄÅÂãâÂº∑„Åô„Çã„ÄÅÊñôÁêÜ„Åô„Çã</span>
            </div>
          </div>
        </div>
      </section>

      <!-- IDENTIFYING VERB TYPES -->
      <section style="margin-bottom: 3rem;">
        <div style="background: var(--paper); border: 1px solid rgba(0,0,0,0.08); padding: 2.5rem;">
          <h2 style="font-size: 1.75rem; font-weight: 700; color: var(--ink); margin-bottom: 1.5rem;">
            How to Identify Verb Types
          </h2>

          <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem;">
            <h3 style="font-weight: 600; color: var(--ink); margin-bottom: 1.5rem; font-size: 1.25rem;">
              Step 1: Does it end in „Åô„Çã?
            </h3>
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
              <div style="font-size: 2rem;">‚úì</div>
              <div>
                <div style="font-weight: 600; color: var(--text);">YES ‚Üí It's a <strong style="color: #7a5ba4;">Suru verb</strong></div>
                <div style="font-size: 0.9rem; color: var(--text-light);">Examples: „Åô„Çã„ÄÅÂãâÂº∑„Åô„Çã„ÄÅÊï£Ê≠©„Åô„Çã</div>
              </div>
            </div>
            <div style="display: flex; align-items: center; gap: 1rem;">
              <div style="font-size: 2rem;">‚Üí</div>
              <div style="color: var(--text);">NO ‚Üí Continue to Step 2</div>
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem;">
            <h3 style="font-weight: 600; color: var(--ink); margin-bottom: 1.5rem; font-size: 1.25rem;">
              Step 2: Does it end in -eru („Åà„Çã) or -iru („ÅÑ„Çã)?
            </h3>
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
              <div style="font-size: 2rem;">‚úì</div>
              <div>
                <div style="font-weight: 600; color: var(--text);">YES ‚Üí <em>Probably</em> <strong style="color: var(--sage);">Ichidan</strong></div>
                <div style="font-size: 0.9rem; color: var(--text-light);">Examples: È£ü„Åπ„Çã (taberu), Ë¶ã„Çã (miru), Ëµ∑„Åç„Çã (okiru)</div>
              </div>
            </div>
            <div style="background: #fdf8ed; padding: 1rem; border-radius: 4px; margin-top: 1rem; border-left: 4px solid var(--gold);">
              <div style="font-weight: 600; font-size: 0.9rem; color: var(--text); margin-bottom: 0.5rem;">‚ö†Ô∏è Watch Out for Exceptions!</div>
              <div style="font-size: 0.85rem; color: var(--text);">
                Some verbs <em>look</em> like ichidan but are actually godan:<br>
                <span class="jp">Ëµ∞„Çã (hashiru)</span> - to run [GODAN]<br>
                <span class="jp">Â∏∞„Çã (kaeru)</span> - to return [GODAN]<br>
                <span class="jp">Áü•„Çã (shiru)</span> - to know [GODAN]
              </div>
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px;">
            <h3 style="font-weight: 600; color: var(--ink); margin-bottom: 1.5rem; font-size: 1.25rem;">
              Step 3: Everything else
            </h3>
            <div style="display: flex; align-items: center; gap: 1rem;">
              <div style="font-size: 2rem;">‚úì</div>
              <div>
                <div style="font-weight: 600; color: var(--text);">It's <strong style="color: #4a90a4;">Godan</strong></div>
                <div style="font-size: 0.9rem; color: var(--text-light); margin-top: 0.5rem;">
                  Ends in: „Åè„ÄÅ„Åê„ÄÅ„Åô„ÄÅ„Å§„ÄÅ„Å¨„ÄÅ„Å∂„ÄÅ„ÇÄ„ÄÅ„Çã„ÄÅ„ÅÜ<br>
                  Examples: Ë°å„Åè (iku), Ë©±„Åô (hanasu), È£≤„ÇÄ (nomu), Ë≤∑„ÅÜ (kau)
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- THE FOUNDATION - HIRAGANA CHART -->
      <section style="margin-bottom: 3rem;">
        <div style="background: var(--paper); border: 1px solid rgba(0,0,0,0.08); padding: 2.5rem;">
          <h2 style="font-size: 1.75rem; font-weight: 700; color: var(--ink); margin-bottom: 1rem;">
            Foundation: The Hiragana Sound System
          </h2>
          <p style="color: var(--text); font-size: 1.05rem; line-height: 1.7; margin-bottom: 1.5rem;">
            Japanese sounds are organized in <strong>rows</strong> and <strong>columns</strong>. Godan verbs work by shifting between these rows:
          </p>

          <div style="overflow-x: auto; margin-bottom: 2rem;">
            <table style="width: 100%; border-collapse: collapse; font-size: 0.95rem;">
              <thead>
                <tr style="background: var(--ink);">
                  <th style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; color: var(--paper); font-weight: 600;">Row</th>
                  <th style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; color: var(--paper); font-weight: 600;">k-</th>
                  <th style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; color: var(--paper); font-weight: 600;">s-</th>
                  <th style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; color: var(--paper); font-weight: 600;">t-</th>
                  <th style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; color: var(--paper); font-weight: 600;">m-</th>
                  <th style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; color: var(--paper); font-weight: 600;">r-</th>
                  <th style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; color: var(--paper); font-weight: 600;">w-</th>
                </tr>
              </thead>
              <tbody>
                <tr style="background: #fbeef0;">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-weight: 700; color: #c45c4a;">„ÅÇ (A)</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Åã</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Åï</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Åü</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Åæ</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Çâ</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Çè</td>
                </tr>
                <tr style="background: #eef5ef;">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-weight: 700; color: #7a9e7e;">„ÅÑ (I)</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Åç</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Åó</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Å°</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Åø</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Çä</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„ÅÑ</td>
                </tr>
                <tr style="background: #eef4f8;">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-weight: 700; color: #4a90a4;">„ÅÜ (U)</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Åè</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Åô</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Å§</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„ÇÄ</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Çã</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„ÅÜ</td>
                </tr>
                <tr style="background: #f3eef8;">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-weight: 700; color: #7a5ba4;">„Åà (E)</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Åë</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Åõ</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Å¶</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„ÇÅ</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Çå</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Åà</td>
                </tr>
                <tr style="background: #fdf8ed;">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-weight: 700; color: #c9a962;">„Åä (O)</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Åì</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Åù</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Å®</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„ÇÇ</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Çç</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem;" class="jp">„Åä</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div style="background: #eef4f8; padding: 1.5rem; border-radius: 4px; border-left: 4px solid #4a90a4;">
            <div style="font-weight: 600; margin-bottom: 0.75rem; color: var(--ink);">üí° Key Insight:</div>
            <div style="color: var(--text); line-height: 1.7;">
              Notice how each column keeps the same consonant sound (k-, s-, t-, etc.), but the vowel changes (a, i, u, e, o).
              When we conjugate godan verbs, we're moving <strong>up and down these columns</strong> to create different forms.
            </div>
          </div>
        </div>
      </section>

      <!-- GODAN VERBS IN DEPTH -->
      <section style="margin-bottom: 3rem;">
        <div style="background: var(--paper); border: 1px solid rgba(0,0,0,0.08); padding: 2.5rem;">
          <h2 style="font-size: 1.75rem; font-weight: 700; color: #4a90a4; margin-bottom: 1rem;">
            Godan Verbs: The Five-Row System
          </h2>
          <p style="color: var(--text); font-size: 1.05rem; line-height: 1.7; margin-bottom: 2rem;">
            Godan verbs work by <strong>changing the final sound</strong> to a different row. Let's use <span class="jp">Ë©±„Åô</span> (hanasu - to speak) as our example:
          </p>

          <!-- VISUAL TRANSFORMATION -->
          <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem;">
            <h3 style="font-weight: 600; color: var(--ink); margin-bottom: 1.5rem; text-align: center;">
              Watch the Transformation
            </h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; text-align: center;">
              <div style="padding: 1rem; background: #fbeef0; border-radius: 4px;">
                <div style="font-size: 0.85rem; color: #c45c4a; font-weight: 600; margin-bottom: 0.5rem;">NEGATIVE („ÅÇ)</div>
                <div style="font-size: 1.5rem; font-weight: 700;" class="jp">Ë©±„Åï„Å™„ÅÑ</div>
                <div style="font-size: 0.75rem; color: var(--text-light); margin-top: 0.25rem;">hanasanai</div>
              </div>
              <div style="padding: 1rem; background: #eef5ef; border-radius: 4px;">
                <div style="font-size: 0.85rem; color: #7a9e7e; font-weight: 600; margin-bottom: 0.5rem;">„Åæ„Åô-STEM („ÅÑ)</div>
                <div style="font-size: 1.5rem; font-weight: 700;" class="jp">Ë©±„Åó„Åæ„Åô</div>
                <div style="font-size: 0.75rem; color: var(--text-light); margin-top: 0.25rem;">hanashimasu</div>
              </div>
              <div style="padding: 1rem; background: #eef4f8; border-radius: 4px;">
                <div style="font-size: 0.85rem; color: #4a90a4; font-weight: 600; margin-bottom: 0.5rem;">DICTIONARY („ÅÜ)</div>
                <div style="font-size: 1.5rem; font-weight: 700;" class="jp">Ë©±„Åô</div>
                <div style="font-size: 0.75rem; color: var(--text-light); margin-top: 0.25rem;">hanasu</div>
              </div>
              <div style="padding: 1rem; background: #f3eef8; border-radius: 4px;">
                <div style="font-size: 0.85rem; color: #7a5ba4; font-weight: 600; margin-bottom: 0.5rem;">POTENTIAL („Åà)</div>
                <div style="font-size: 1.5rem; font-weight: 700;" class="jp">Ë©±„Åõ„Çã</div>
                <div style="font-size: 0.75rem; color: var(--text-light); margin-top: 0.25rem;">hanaseru</div>
              </div>
              <div style="padding: 1rem; background: #fdf8ed; border-radius: 4px;">
                <div style="font-size: 0.85rem; color: #c9a962; font-weight: 600; margin-bottom: 0.5rem;">VOLITIONAL („Åä)</div>
                <div style="font-size: 1.5rem; font-weight: 700;" class="jp">Ë©±„Åù„ÅÜ</div>
                <div style="font-size: 0.75rem; color: var(--text-light); margin-top: 0.25rem;">hanasou</div>
              </div>
            </div>
          </div>

          <!-- STEP BY STEP -->
          <div style="background: #eef4f8; padding: 2rem; border-radius: 4px; margin-bottom: 2rem;">
            <h3 style="font-weight: 600; color: var(--ink); margin-bottom: 1.5rem;">
              Step-by-Step Process
            </h3>
            <div style="font-size: 1rem; line-height: 2; color: var(--text);">
              <div style="margin-bottom: 1rem;">
                <strong>1.</strong> Start with the dictionary form: <span class="jp" style="font-size: 1.25rem; color: #4a90a4;">Ë©±„Åô</span> (hana<strong>su</strong>)
              </div>
              <div style="margin-bottom: 1rem;">
                <strong>2.</strong> Identify the final sound: <strong style="color: #4a90a4;">„Åô (su)</strong> - this is in the <strong>„ÅÜ-row</strong>
              </div>
              <div style="margin-bottom: 1rem;">
                <strong>3.</strong> Find it in the chart: Look in the <strong>s-column</strong>, <strong>„ÅÜ-row</strong> = „Åô
              </div>
              <div style="margin-bottom: 1rem;">
                <strong>4.</strong> To make negative: Move to the <strong style="color: #c45c4a;">„ÅÇ-row</strong> in the same column: „Åô ‚Üí <strong style="color: #c45c4a;">„Åï</strong>
              </div>
              <div>
                <strong>5.</strong> Add the ending: „ÅØ„Å™<strong style="color: #c45c4a;">„Åï</strong> + „Å™„ÅÑ = <span class="jp">Ë©±„Åï„Å™„ÅÑ</span>
              </div>
            </div>
          </div>

          <!-- PAST TENSE SPECIAL -->
          <div style="background: #fdf8ed; padding: 2rem; border-radius: 4px; border-left: 4px solid var(--gold);">
            <h3 style="font-weight: 600; color: var(--ink); margin-bottom: 1rem;">
              ‚ö†Ô∏è Past Tense: Special Sound Changes
            </h3>
            <p style="color: var(--text); margin-bottom: 1.5rem; line-height: 1.7;">
              Past tense is the one exception to the row-shift pattern. Instead, godan verbs use special endings based on the final sound:
            </p>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem; font-size: 0.9rem;">
              <div>
                <strong>„Åè ‚Üí „ÅÑ„Åü</strong><br>
                <span class="jp">Êõ∏„Åè ‚Üí Êõ∏„ÅÑ„Åü</span>
              </div>
              <div>
                <strong>„Åê ‚Üí „ÅÑ„Å†</strong><br>
                <span class="jp">Ê≥≥„Åê ‚Üí Ê≥≥„ÅÑ„Å†</span>
              </div>
              <div>
                <strong>„Åô ‚Üí „Åó„Åü</strong><br>
                <span class="jp">Ë©±„Åô ‚Üí Ë©±„Åó„Åü</span>
              </div>
              <div>
                <strong>„Å§/„Çã/„ÅÜ ‚Üí „Å£„Åü</strong><br>
                <span class="jp">Ë≤∑„ÅÜ ‚Üí Ë≤∑„Å£„Åü</span>
              </div>
              <div>
                <strong>„ÇÄ/„Å∂/„Å¨ ‚Üí „Çì„Å†</strong><br>
                <span class="jp">È£≤„ÇÄ ‚Üí È£≤„Çì„Å†</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ICHIDAN VERBS -->
      <section style="margin-bottom: 3rem;">
        <div style="background: var(--paper); border: 1px solid rgba(0,0,0,0.08); padding: 2.5rem;">
          <h2 style="font-size: 1.75rem; font-weight: 700; color: var(--sage); margin-bottom: 1rem;">
            Ichidan Verbs: The Simple Pattern
          </h2>
          <p style="color: var(--text); font-size: 1.05rem; line-height: 1.7; margin-bottom: 2rem;">
            Ichidan verbs are called "one-step" because the stem <strong>never changes</strong>. You simply drop „Çã and add endings.
          </p>

          <div style="text-align: center; margin-bottom: 2rem;">
            <div style="display: inline-block; background: var(--paper-warm); padding: 2rem 3rem; border-radius: 8px; border: 3px solid var(--sage);">
              <div style="font-size: 1.5rem; font-weight: 700; color: var(--sage); margin-bottom: 1rem;">
                The Formula
              </div>
              <div style="font-size: 1.75rem; line-height: 1.6;">
                <span style="color: var(--text-light);">Stem</span> + 
                <span style="color: var(--accent); text-decoration: line-through; margin: 0 0.5rem;">„Çã</span> ‚Üí 
                <span style="color: var(--text-light); margin-left: 0.5rem;">Stem</span> + 
                <span style="color: var(--sage); font-weight: 700; margin-left: 0.5rem;">ending</span>
              </div>
            </div>
          </div>

          <div style="background: #eef5ef; padding: 2rem; border-radius: 4px; margin-bottom: 2rem;">
            <h3 style="font-weight: 600; color: var(--ink); margin-bottom: 1.5rem; text-align: center;">
              Example: <span class="jp">È£ü„Åπ„Çã</span> (taberu - to eat)
            </h3>
            <table style="width: 100%; border-collapse: collapse;">
              <thead>
                <tr style="background: var(--sage);">
                  <th style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; color: var(--paper);">Form</th>
                  <th style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; color: var(--paper);">Process</th>
                  <th style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; color: var(--paper);">Result</th>
                </tr>
              </thead>
              <tbody style="font-size: 1rem;">
                <tr style="background: var(--paper);">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;">Negative</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;" class="jp">„Åü„Åπ + „Å™„ÅÑ</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem; font-weight: 700;" class="jp">È£ü„Åπ„Å™„ÅÑ</td>
                </tr>
                <tr style="background: var(--paper-warm);">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;">Polite</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;" class="jp">„Åü„Åπ + „Åæ„Åô</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem; font-weight: 700;" class="jp">È£ü„Åπ„Åæ„Åô</td>
                </tr>
                <tr style="background: var(--paper);">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;">Past</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;" class="jp">„Åü„Åπ + „Åü</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem; font-weight: 700;" class="jp">È£ü„Åπ„Åü</td>
                </tr>
                <tr style="background: var(--paper-warm);">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;">Want to</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;" class="jp">„Åü„Åπ + „Åü„ÅÑ</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem; font-weight: 700;" class="jp">È£ü„Åπ„Åü„ÅÑ</td>
                </tr>
                <tr style="background: var(--paper);">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;">Potential</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;" class="jp">„Åü„Åπ + „Çâ„Çå„Çã</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem; font-weight: 700;" class="jp">È£ü„Åπ„Çâ„Çå„Çã</td>
                </tr>
                <tr style="background: var(--paper-warm);">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;">Volitional</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;" class="jp">„Åü„Åπ + „Çà„ÅÜ</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem; font-weight: 700;" class="jp">È£ü„Åπ„Çà„ÅÜ</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; border-left: 4px solid var(--sage);">
            <div style="font-weight: 600; margin-bottom: 0.75rem; color: var(--ink);">üí° Why It's Easy:</div>
            <div style="color: var(--text); line-height: 1.7;">
              With ichidan verbs, once you memorize the endings („Å™„ÅÑ, „Åæ„Åô, „Åü, „Åü„ÅÑ, „Çâ„Çå„Çã, „Çà„ÅÜ), 
              you can conjugate <strong>any</strong> ichidan verb. No row-shifting, no special rules, no exceptions!
            </div>
          </div>
        </div>
      </section>

      <!-- SURU VERBS -->
      <section style="margin-bottom: 3rem;">
        <div style="background: var(--paper); border: 1px solid rgba(0,0,0,0.08); padding: 2.5rem;">
          <h2 style="font-size: 1.75rem; font-weight: 700; color: #7a5ba4; margin-bottom: 1rem;">
            Suru Verbs: The Irregular Pattern
          </h2>
          <p style="color: var(--text); font-size: 1.05rem; line-height: 1.7; margin-bottom: 2rem;">
            Suru verbs are formed by adding <span class="jp">„Åô„Çã</span> to a noun. They're irregular, but once you learn how <span class="jp">„Åô„Çã</span> conjugates, you can apply it to all suru verbs.
          </p>

          <div style="background: #f3eef8; padding: 2rem; border-radius: 4px; margin-bottom: 2rem;">
            <h3 style="font-weight: 600; color: var(--ink); margin-bottom: 1.5rem; text-align: center;">
              Example: <span class="jp">ÂãâÂº∑„Åô„Çã</span> (benkyou suru - to study)
            </h3>
            <table style="width: 100%; border-collapse: collapse;">
              <thead>
                <tr style="background: #7a5ba4;">
                  <th style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; color: var(--paper);">Form</th>
                  <th style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; color: var(--paper);">„Åô„Çã becomes...</th>
                  <th style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; color: var(--paper);">Result</th>
                </tr>
              </thead>
              <tbody style="font-size: 1rem;">
                <tr style="background: var(--paper);">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;">Negative</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;" class="jp">„Åó„Å™„ÅÑ</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem; font-weight: 700;" class="jp">ÂãâÂº∑„Åó„Å™„ÅÑ</td>
                </tr>
                <tr style="background: var(--paper-warm);">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;">Polite</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;" class="jp">„Åó„Åæ„Åô</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem; font-weight: 700;" class="jp">ÂãâÂº∑„Åó„Åæ„Åô</td>
                </tr>
                <tr style="background: var(--paper);">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;">Past</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;" class="jp">„Åó„Åü</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem; font-weight: 700;" class="jp">ÂãâÂº∑„Åó„Åü</td>
                </tr>
                <tr style="background: var(--paper-warm);">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;">Want to</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;" class="jp">„Åó„Åü„ÅÑ</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem; font-weight: 700;" class="jp">ÂãâÂº∑„Åó„Åü„ÅÑ</td>
                </tr>
                <tr style="background: var(--paper);">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;">Potential</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;" class="jp">„Åß„Åç„Çã</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem; font-weight: 700;" class="jp">ÂãâÂº∑„Åß„Åç„Çã</td>
                </tr>
                <tr style="background: var(--paper-warm);">
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;">Volitional</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem;" class="jp">„Åó„Çà„ÅÜ</td>
                  <td style="border: 1px solid rgba(0,0,0,0.1); padding: 0.75rem; font-size: 1.25rem; font-weight: 700;" class="jp">ÂãâÂº∑„Åó„Çà„ÅÜ</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; border-left: 4px solid #7a5ba4;">
            <div style="font-weight: 600; margin-bottom: 0.75rem; color: var(--ink);">üí° Special Note:</div>
            <div style="color: var(--text); line-height: 1.7;">
              Notice that the potential form uses <span class="jp">„Åß„Åç„Çã</span> instead of following the regular pattern. 
              This is why suru verbs are considered "irregular" - they have their own special rules!
            </div>
          </div>
        </div>
      </section>

      <!-- PUTTING IT ALL TOGETHER -->
      <section style="margin-bottom: 3rem;">
        <div style="background: var(--ink); padding: 3rem 2.5rem; border-radius: 4px; color: var(--paper);">
          <h2 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1.5rem; text-align: center;">
            Putting It All Together
          </h2>
          <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 2rem; text-align: center; color: rgba(255,255,255,0.8);">
            Now that you understand the patterns, here's your strategy for success:
          </p>

          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
            <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 4px; border: 1px solid rgba(255,255,255,0.2);">
              <div style="font-size: 2rem; margin-bottom: 0.75rem;">1Ô∏è‚É£</div>
              <div style="font-weight: 600; font-size: 1.1rem; margin-bottom: 0.5rem;">Identify the Type</div>
              <div style="font-size: 0.95rem; line-height: 1.6; color: rgba(255,255,255,0.8);">
                First, figure out if your verb is godan, ichidan, or suru
              </div>
            </div>

            <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 4px; border: 1px solid rgba(255,255,255,0.2);">
              <div style="font-size: 2rem; margin-bottom: 0.75rem;">2Ô∏è‚É£</div>
              <div style="font-weight: 600; font-size: 1.1rem; margin-bottom: 0.5rem;">Apply the Pattern</div>
              <div style="font-size: 0.95rem; line-height: 1.6; color: rgba(255,255,255,0.8);">
                Use the right conjugation method for that verb type
              </div>
            </div>

            <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 4px; border: 1px solid rgba(255,255,255,0.2);">
              <div style="font-size: 2rem; margin-bottom: 0.75rem;">3Ô∏è‚É£</div>
              <div style="font-weight: 600; font-size: 1.1rem; margin-bottom: 0.5rem;">Practice, Practice!</div>
              <div style="font-size: 0.95rem; line-height: 1.6; color: rgba(255,255,255,0.8);">
                Use The Conjugator to drill until it becomes automatic
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- CALL TO ACTION -->
      <div style="text-align: center; margin-top: 3rem;">
        <button 
          class="btn btn-primary" 
          onclick="showPage('conjugator')"
          style="font-size: 1.15rem; padding: 1.25rem 2.5rem;"
        >
          Start Practicing with The Conjugator ‚Üí
        </button>
      </div>
    </div>
  </div>

  <!-- FORMS PAGE -->
  <div id="page-forms" class="page">
    <div class="forms-page">
      <div class="page-header">
        <div class="page-tag">Quick Reference</div>
        <h1 class="page-title">Verb Forms & Adjectives</h1>
        <p class="page-desc">
          Comprehensive conjugation reference covering 16 verb forms from beginner through advanced levels. 
          Essential patterns you'll use in everyday Japanese conversation, plus advanced forms for nuanced expression.
        </p>
      </div>

      <!-- Difficulty Legend -->
      <div style="display: flex; justify-content: center; margin-bottom: 2rem;">
        <div style="display: inline-flex; gap: 2rem; background: var(--paper-warm); padding: 0.75rem 2rem; border-radius: 50px; border: 1px solid rgba(0,0,0,0.08); box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <span style="font-size: 1.1rem;">üìö</span>
            <span style="font-size: 0.85rem; font-weight: 500; color: var(--text);">Basic</span>
          </div>
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <span style="font-size: 1.1rem;">üéØ</span>
            <span style="font-size: 0.85rem; font-weight: 500; color: var(--text);">Essential</span>
          </div>
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <span style="font-size: 1.1rem;">üî•</span>
            <span style="font-size: 0.85rem; font-weight: 500; color: var(--text);">Advanced</span>
          </div>
        </div>
      </div>

      <div style="margin-bottom: 2rem;">
        <div class="tabs" style="display: flex; flex-wrap: wrap; gap: 0.5rem; justify-content: center; max-width: 1100px; margin: 0 auto;">
          <!-- Basic Forms -->
          <button class="tab active" data-tab="masu" onclick="showTab('masu')" style="flex: 0 1 auto; min-width: 90px;">üìö „Åæ„Åô</button>
          <button class="tab" data-tab="te" onclick="showTab('te')" style="flex: 0 1 auto; min-width: 90px;">üìö „Å¶</button>
          <button class="tab" data-tab="dict" onclick="showTab('dict')" style="flex: 0 1 auto; min-width: 90px;">üìö Dictionary</button>
          <button class="tab" data-tab="ta" onclick="showTab('ta')" style="flex: 0 1 auto; min-width: 90px;">üìö „Åü</button>
          <button class="tab" data-tab="negative" onclick="showTab('negative')" style="flex: 0 1 auto; min-width: 90px;">üìö „Å™„ÅÑ</button>
          <!-- Essential Forms -->
          <button class="tab" data-tab="tai" onclick="showTab('tai')" style="flex: 0 1 auto; min-width: 90px;">üéØ „Åü„ÅÑ</button>
          <button class="tab" data-tab="potential" onclick="showTab('potential')" style="flex: 0 1 auto; min-width: 90px;">üéØ Potential</button>
          <button class="tab" data-tab="volitional" onclick="showTab('volitional')" style="flex: 0 1 auto; min-width: 90px;">üéØ Volitional</button>
          <button class="tab" data-tab="conditional" onclick="showTab('conditional')" style="flex: 0 1 auto; min-width: 90px;">üéØ Conditional</button>
          <!-- Advanced Forms -->
          <button class="tab" data-tab="passive" onclick="showTab('passive')" style="flex: 0 1 auto; min-width: 90px;">üî• Passive</button>
          <button class="tab" data-tab="causative" onclick="showTab('causative')" style="flex: 0 1 auto; min-width: 90px;">üî• Causative</button>
          <button class="tab" data-tab="imperative" onclick="showTab('imperative')" style="flex: 0 1 auto; min-width: 90px;">üî• Command</button>
          <!-- Reference -->
          <button class="tab" data-tab="adjectives" onclick="showTab('adjectives')" style="flex: 0 1 auto; min-width: 90px;">üìö Adjectives</button>
        </div>
      </div>

      <!-- MASU FORM -->
      <div id="tab-masu" class="form-card active">
        <h2 class="form-card-title jp">„Åæ„ÅôÂΩ¢ ‚Äî The Polite Form</h2>
        <p class="form-card-desc">
          The „Åæ„Åô form is the cornerstone of polite Japanese speech. It's the default conjugation you'll use in most everyday situations‚Äîfrom casual conversations with acquaintances to formal business interactions. Understanding when and how to use „Åæ„Åô correctly is essential for sounding respectful and natural in Japanese.
        </p>

        <div class="info-box blue">
          <div class="info-box-title">When to Use „Åæ„Åô</div>
          <p class="info-box-text" style="line-height: 1.9;">
            Use the „Åæ„Åô form when speaking politely to:<br>
            ‚Ä¢ People you don't know well or have just met<br>
            ‚Ä¢ Anyone older than you or in a higher social position<br>
            ‚Ä¢ In professional, academic, or business settings<br>
            ‚Ä¢ When you want to show respect or maintain social distance<br>
            ‚Ä¢ In customer service situations (restaurants, stores, etc.)<br><br>
            <strong>Rule of thumb:</strong> When in doubt, use „Åæ„Åô. It's safer to be too polite than not polite enough in Japanese culture.
          </p>
        </div>

        <h3 class="section-title">Understanding the „Åæ„Åô Form</h3>
        <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem; border-left: 4px solid #4a90a4;">
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            The „Åæ„Åô form is technically called the <strong>polite present/future form</strong>. Despite its name, it doesn't just indicate present tense‚Äîit can express:
          </p>
          <ul style="margin-left: 1.5rem; line-height: 1.9; margin-bottom: 1rem;">
            <li><strong>Habitual actions:</strong> <span class="jp">ÊØéÊó•ÂãâÂº∑„Åó„Åæ„Åô</span> (I study every day)</li>
            <li><strong>Future actions:</strong> <span class="jp">ÊòéÊó•Ë°å„Åç„Åæ„Åô</span> (I will go tomorrow)</li>
            <li><strong>General truths:</strong> <span class="jp">Â§™ÈôΩ„ÅØÊù±„Åã„ÇâÊòá„Çä„Åæ„Åô</span> (The sun rises from the east)</li>
            <li><strong>Scheduled events:</strong> <span class="jp">‰ºöË≠∞„ÅØ3ÊôÇ„Å´Âßã„Åæ„Çä„Åæ„Åô</span> (The meeting starts at 3:00)</li>
          </ul>
          <div style="background: white; padding: 1rem; border-radius: 4px;">
            <strong>Key Point:</strong> Japanese doesn't distinguish between present and future tense the way English does. Context determines whether „Åæ„Åô refers to now or later.
          </div>
        </div>

        <h3 class="section-title">How to Form „Åæ„Åô ‚Äî Step by Step</h3>
        <table class="conj-table">
          <thead>
            <tr>
              <th>Verb Type</th>
              <th>Formation Rule</th>
              <th>Dictionary Form</th>
              <th>„Åæ„Åô Form</th>
              <th>Explanation</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td rowspan="3"><strong style="color: #4a90a4;">Godan</strong></td>
              <td rowspan="3">Change final „ÅÜ-row sound to „ÅÑ-row + „Åæ„Åô</td>
              <td class="jp">Ë©±„Åô (hanasu)</td>
              <td class="highlight jp">Ë©±„Åó„Åæ„Åô (hanashimasu)</td>
              <td>„Åô ‚Üí „Åó + „Åæ„Åô</td>
            </tr>
            <tr>
              <td class="jp">È£≤„ÇÄ (nomu)</td>
              <td class="highlight jp">È£≤„Åø„Åæ„Åô (nomimasu)</td>
              <td>„ÇÄ ‚Üí „Åø + „Åæ„Åô</td>
            </tr>
            <tr>
              <td class="jp">Ë≤∑„ÅÜ (kau)</td>
              <td class="highlight jp">Ë≤∑„ÅÑ„Åæ„Åô (kaimasu)</td>
              <td>„ÅÜ ‚Üí „ÅÑ + „Åæ„Åô</td>
            </tr>
            <tr>
              <td rowspan="2"><strong style="color: var(--sage);">Ichidan</strong></td>
              <td rowspan="2">Drop „Çã + „Åæ„Åô</td>
              <td class="jp">È£ü„Åπ„Çã (taberu)</td>
              <td class="highlight jp">È£ü„Åπ„Åæ„Åô (tabemasu)</td>
              <td>Remove „Çã, add „Åæ„Åô</td>
            </tr>
            <tr>
              <td class="jp">Ë¶ã„Çã (miru)</td>
              <td class="highlight jp">Ë¶ã„Åæ„Åô (mimasu)</td>
              <td>Remove „Çã, add „Åæ„Åô</td>
            </tr>
            <tr>
              <td rowspan="2"><strong style="color: #7a5ba4;">Suru</strong></td>
              <td rowspan="2">„Åô„Çã ‚Üí „Åó„Åæ„Åô</td>
              <td class="jp">„Åô„Çã (suru)</td>
              <td class="highlight jp">„Åó„Åæ„Åô (shimasu)</td>
              <td>Irregular conjugation</td>
            </tr>
            <tr>
              <td class="jp">ÂãâÂº∑„Åô„Çã (benkyousuru)</td>
              <td class="highlight jp">ÂãâÂº∑„Åó„Åæ„Åô (benkyoushimasu)</td>
              <td>„Åô„Çã part becomes „Åó„Åæ„Åô</td>
            </tr>
          </tbody>
        </table>

        <div style="background: #eef4f8; padding: 1.5rem; border-radius: 4px; margin-top: 1.5rem; margin-bottom: 2rem; border-left: 4px solid #4a90a4;">
          <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">Understanding Godan Conjugation:</div>
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            Godan verbs shift from the „ÅÜ-row to the „ÅÑ-row of the same consonant column. Think of it as moving up one row in the hiragana chart:
          </p>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.75rem; font-size: 0.95rem;">
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Åè ‚Üí „Åç</strong><br>
              <span class="jp">Êõ∏„Åè ‚Üí Êõ∏„Åç„Åæ„Åô</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Åê ‚Üí „Åé</strong><br>
              <span class="jp">Ê≥≥„Åê ‚Üí Ê≥≥„Åé„Åæ„Åô</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Åô ‚Üí „Åó</strong><br>
              <span class="jp">Ë©±„Åô ‚Üí Ë©±„Åó„Åæ„Åô</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Å§ ‚Üí „Å°</strong><br>
              <span class="jp">ÂæÖ„Å§ ‚Üí ÂæÖ„Å°„Åæ„Åô</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Å¨ ‚Üí „Å´</strong><br>
              <span class="jp">Ê≠ª„Å¨ ‚Üí Ê≠ª„Å´„Åæ„Åô</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Å∂ ‚Üí „Å≥</strong><br>
              <span class="jp">ÈÅä„Å∂ ‚Üí ÈÅä„Å≥„Åæ„Åô</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„ÇÄ ‚Üí „Åø</strong><br>
              <span class="jp">Ë™≠„ÇÄ ‚Üí Ë™≠„Åø„Åæ„Åô</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Çã ‚Üí „Çä</strong><br>
              <span class="jp">Â∏∞„Çã ‚Üí Â∏∞„Çä„Åæ„Åô</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„ÅÜ ‚Üí „ÅÑ</strong><br>
              <span class="jp">Ë≤∑„ÅÜ ‚Üí Ë≤∑„ÅÑ„Åæ„Åô</span>
            </div>
          </div>
        </div>

        <h3 class="section-title">Essential „Åæ„Åô Variations</h3>
        <div style="margin-bottom: 2rem;">
          <p style="margin-bottom: 1rem; line-height: 1.8;">
            The „Åæ„Åô form has four main variations that express different tenses and polarities. All maintain the same level of politeness:
          </p>
          
          <table class="conj-table">
            <thead>
              <tr>
                <th>Form</th>
                <th>Pattern</th>
                <th>Example: <span class="jp">Ë©±„Åô</span></th>
                <th>Meaning</th>
                <th>Usage</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Present/Future</strong></td>
                <td>Stem + „Åæ„Åô</td>
                <td class="highlight jp">Ë©±„Åó„Åæ„Åô</td>
                <td>speak(s), will speak</td>
                <td>Habitual actions, future plans</td>
              </tr>
              <tr>
                <td><strong>Negative</strong></td>
                <td>Stem + „Åæ„Åõ„Çì</td>
                <td class="highlight jp">Ë©±„Åó„Åæ„Åõ„Çì</td>
                <td>don't/doesn't speak</td>
                <td>Polite negation</td>
              </tr>
              <tr>
                <td><strong>Past</strong></td>
                <td>Stem + „Åæ„Åó„Åü</td>
                <td class="highlight jp">Ë©±„Åó„Åæ„Åó„Åü</td>
                <td>spoke, did speak</td>
                <td>Completed actions</td>
              </tr>
              <tr>
                <td><strong>Negative Past</strong></td>
                <td>Stem + „Åæ„Åõ„Çì„Åß„Åó„Åü</td>
                <td class="highlight jp">Ë©±„Åó„Åæ„Åõ„Çì„Åß„Åó„Åü</td>
                <td>didn't speak</td>
                <td>Negated past actions</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="info-box yellow">
          <div class="info-box-title">üìù Important Note: The „Åæ„Åô-Stem</div>
          <p class="info-box-text" style="line-height: 1.8;">
            The part of the verb before „Åæ„Åô is called the <strong>„Åæ„Åô-stem</strong> or <strong>ÈÄ£Áî®ÂΩ¢ (ren'youkei)</strong>. This stem is incredibly important because it's used to create many other forms:<br><br>
            <strong>From the stem Ë©±„Åó (hanashi):</strong><br>
            ‚Ä¢ <span class="jp">Ë©±„Åó„Åæ„Åô</span> (polite form)<br>
            ‚Ä¢ <span class="jp">Ë©±„Åó„Åü„ÅÑ</span> (want to speak) ‚Äî stem + „Åü„ÅÑ<br>
            ‚Ä¢ <span class="jp">Ë©±„Åó„Å™„Åå„Çâ</span> (while speaking) ‚Äî stem + „Å™„Åå„Çâ<br>
            ‚Ä¢ <span class="jp">Ë©±„ÅóÊñπ</span> (way of speaking) ‚Äî stem + Êñπ<br>
            ‚Ä¢ <span class="jp">Ë©±„Åó„Åô„Åé„Çã</span> (speak too much) ‚Äî stem + „Åô„Åé„Çã
          </p>
        </div>

        <h3 class="section-title">Common Patterns with „Åæ„Åô</h3>
        <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem;">
          <div style="margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">1. „Åæ„Åô„ÅãÔºü‚Äî Polite Questions</div>
            <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
              <span class="jp" style="font-size: 1.05rem;">Êó•Êú¨Ë™û„ÇíË©±„Åó„Åæ„Åô„ÅãÔºü</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Nihongo wo hanashimasu ka?</span><br>
              <span>Do you speak Japanese?</span>
            </div>
            <p style="font-size: 0.9rem; color: var(--text-light); margin-top: 0.5rem;">
              Simply add „Åã to make any „Åæ„Åô statement into a polite question.
            </p>
          </div>

          <div style="margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">2. „Åæ„Åó„Çá„ÅÜ ‚Äî "Let's" Invitation</div>
            <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
              <span class="jp" style="font-size: 1.05rem;">‰∏ÄÁ∑í„Å´Ë°å„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Issho ni ikimashou.</span><br>
              <span>Let's go together.</span>
            </div>
            <p style="font-size: 0.9rem; color: var(--text-light); margin-top: 0.5rem;">
              Replace „Åæ„Åô with „Åæ„Åó„Çá„ÅÜ to suggest doing something together politely.
            </p>
          </div>

          <div style="margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">3. „Åæ„Åõ„Çì„ÅãÔºü‚Äî Polite Invitation</div>
            <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
              <span class="jp" style="font-size: 1.05rem;">‰∏ÄÁ∑í„Å´È£ü„Åπ„Åæ„Åõ„Çì„ÅãÔºü</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Issho ni tabemasen ka?</span><br>
              <span>Won't you eat together (with me)? / Would you like to eat together?</span>
            </div>
            <p style="font-size: 0.9rem; color: var(--text-light); margin-top: 0.5rem;">
              Negative question form creates a soft, polite invitation (similar to "wouldn't you like to...").
            </p>
          </div>

          <div>
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">4. „Åæ„Åó„Çá„ÅÜ„ÅãÔºü‚Äî Offering to Do Something</div>
            <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
              <span class="jp" style="font-size: 1.05rem;">Á™ì„ÇíÈñã„Åë„Åæ„Åó„Çá„ÅÜ„ÅãÔºü</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Mado wo akemashou ka?</span><br>
              <span>Shall I open the window?</span>
            </div>
            <p style="font-size: 0.9rem; color: var(--text-light); margin-top: 0.5rem;">
              Use „Åæ„Åó„Çá„ÅÜ„Åã to politely offer to do something for someone.
            </p>
          </div>
        </div>

        <h3 class="section-title">Practical Examples in Context</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1rem;">
          <div style="margin-bottom: 1.25rem;">
            <div style="font-weight: 600; color: var(--ink); margin-bottom: 0.5rem;">Daily Routine</div>
            <span class="jp" style="font-size: 1.1rem;">ÊØéÊúù6ÊôÇ„Å´Ëµ∑„Åç„Å¶„ÄÅÊúù„Åî„ÅØ„Çì„ÇíÈ£ü„Åπ„Åæ„Åô„ÄÇ</span><br>
            <span style="color: var(--text-light); font-size: 0.9rem;">Maiasa rokuji ni okite, asagohan wo tabemasu.</span><br>
            <span style="color: var(--text);">I wake up at 6:00 every morning and eat breakfast.</span>
          </div>

          <div style="margin-bottom: 1.25rem;">
            <div style="font-weight: 600; color: var(--ink); margin-bottom: 0.5rem;">Making Plans</div>
            <span class="jp" style="font-size: 1.1rem;">ÊòéÊó•„ÄÅÂèãÈÅî„Å®Êò†Áîª„ÇíË¶ã„Åæ„Åô„ÄÇ</span><br>
            <span style="color: var(--text-light); font-size: 0.9rem;">Ashita, tomodachi to eiga wo mimasu.</span><br>
            <span style="color: var(--text);">Tomorrow, I will watch a movie with friends.</span>
          </div>

          <div style="margin-bottom: 1.25rem;">
            <div style="font-weight: 600; color: var(--ink); margin-bottom: 0.5rem;">Talking About the Past</div>
            <span class="jp" style="font-size: 1.1rem;">ÂÖàÈÄ±‰∫¨ÈÉΩ„Å´Ë°å„Åç„Åæ„Åó„Åü„ÄÇ„Å®„Å¶„ÇÇ„Åç„Çå„ÅÑ„Åß„Åó„Åü„ÄÇ</span><br>
            <span style="color: var(--text-light); font-size: 0.9rem;">Senshuu Kyoto ni ikimashita. Totemo kirei deshita.</span><br>
            <span style="color: var(--text);">Last week I went to Kyoto. It was very beautiful.</span>
          </div>

          <div>
            <div style="font-weight: 600; color: var(--ink); margin-bottom: 0.5rem;">Expressing Habits</div>
            <span class="jp" style="font-size: 1.1rem;">ÁßÅ„ÅØÊØéÊó•Êó•Êú¨Ë™û„ÇíÂãâÂº∑„Åó„Åæ„Åô„Åå„ÄÅÊº¢Â≠ó„ÅØÂãâÂº∑„Åó„Åæ„Åõ„Çì„ÄÇ</span><br>
            <span style="color: var(--text-light); font-size: 0.9rem;">Watashi wa mainichi nihongo wo benkyou shimasu ga, kanji wa benkyou shimasen.</span><br>
            <span style="color: var(--text);">I study Japanese every day, but I don't study kanji.</span>
          </div>
        </div>

        <div class="info-box green">
          <div class="info-box-title">üí° Learning Tips for „Åæ„Åô Form</div>
          <p class="info-box-text" style="line-height: 1.9;">
            <strong>1. Master the stem first:</strong> Once you know how to form the „Åæ„Åô-stem, you can create many other conjugations.<br><br>
            <strong>2. Practice all four variations:</strong> „Åæ„Åô, „Åæ„Åõ„Çì, „Åæ„Åó„Åü, „Åæ„Åõ„Çì„Åß„Åó„Åü should become automatic.<br><br>
            <strong>3. Think in patterns:</strong> Godan verbs always shift vowels (u‚Üíi), ichidan verbs always drop „Çã, suru is always irregular.<br><br>
            <strong>4. Start polite, relax later:</strong> It's easier to learn formal speech first and then simplify to casual than the reverse.<br><br>
            <strong>5. Listen for „Åæ„Åô endings:</strong> Pay attention in Japanese media‚Äîyou'll hear „Åæ„Åô constantly in polite contexts.
          </p>
        </div>
      </div>

      <!-- TE FORM -->
      <div id="tab-te" class="form-card">
        <h2 class="form-card-title jp">„Å¶ÂΩ¢ ‚Äî The Connecting Form</h2>
        <p class="form-card-desc">
          The „Å¶ form is arguably the most versatile and essential verb form in Japanese. It functions as the connective tissue of the language, allowing you to link actions, make requests, describe ongoing states, give permissions, and express countless other nuances. Mastering the „Å¶ form opens up a vast range of expressive possibilities.
        </p>

        <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem; border-left: 4px solid var(--sage);">
          <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.1rem;">Why is „Å¶ Form So Important?</div>
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            Unlike other conjugations that express tense or politeness, the „Å¶ form is fundamentally about <strong>connection and continuation</strong>. It's the bridge that allows verbs to work together in complex sentences. Think of it as Japanese's most powerful grammatical "connector piece."
          </p>
          <div style="background: white; padding: 1.25rem; border-radius: 4px;">
            <strong>The „Å¶ form cannot stand alone.</strong> It must be followed by something else‚Äîanother verb, an auxiliary, or a grammatical structure. This is what makes it a connecting form rather than a complete conjugation.
          </div>
        </div>

        <div class="info-box green">
          <div class="info-box-title">Essential Uses of „Å¶ Form</div>
          <p class="info-box-text" style="line-height: 1.9;">
            <strong>1. Linking sequential actions:</strong> <span class="jp">Ëµ∑„Åç„Å¶„ÄÅÈ°î„ÇíÊ¥ó„Å£„Å¶„ÄÅÊúù„Åî„ÅØ„Çì„ÇíÈ£ü„Åπ„Åæ„Åô</span><br>
            <span style="font-size: 0.85rem; color: var(--text-light);">(Wake up, wash my face, and eat breakfast)</span><br><br>
            
            <strong>2. Making polite requests:</strong> <span class="jp">„Å°„Çá„Å£„Å®ÂæÖ„Å£„Å¶„Åè„Å†„Åï„ÅÑ</span><br>
            <span style="font-size: 0.85rem; color: var(--text-light);">(Please wait a moment)</span><br><br>
            
            <strong>3. Describing ongoing actions:</strong> <span class="jp">‰ªä„ÄÅÂãâÂº∑„Åó„Å¶„ÅÑ„Åæ„Åô</span><br>
            <span style="font-size: 0.85rem; color: var(--text-light);">(I'm studying now)</span><br><br>
            
            <strong>4. Asking permission:</strong> <span class="jp">ÂÜôÁúü„ÇíÊíÆ„Å£„Å¶„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„Åã</span><br>
            <span style="font-size: 0.85rem; color: var(--text-light);">(May I take a photo?)</span><br><br>
            
            <strong>5. Giving reasons:</strong> <span class="jp">Èõ®„ÅåÈôç„Å£„Å¶„ÄÅË©¶Âêà„Åå‰∏≠Ê≠¢„Å´„Å™„Å£„Åü</span><br>
            <span style="font-size: 0.85rem; color: var(--text-light);">(Because it rained, the game was cancelled)</span>
          </p>
        </div>

        <h3 class="section-title">Formation Rules ‚Äî Understanding the Pattern</h3>
        <div style="background: #eef5ef; padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem; border-left: 4px solid var(--sage);">
          <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">The Logic Behind „Å¶ Form Sound Changes:</div>
          <p style="line-height: 1.8;">
            The „Å¶ form conjugation, especially for godan verbs, follows <strong>euphonic rules</strong>‚Äîsound changes that make pronunciation smoother and more natural. These aren't arbitrary; they reflect how sounds naturally flow together in Japanese. The patterns are based on making the verb + „Å¶/„Åß combination easier to pronounce.
          </p>
        </div>

        <table class="conj-table">
          <thead>
            <tr>
              <th>Verb Type</th>
              <th>Dictionary Ending</th>
              <th>„Å¶ Form Ending</th>
              <th>Example</th>
              <th>Why This Change?</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td rowspan="5"><strong style="color: #4a90a4;">Godan</strong></td>
              <td>„Åè</td>
              <td>„ÅÑ„Å¶</td>
              <td><span class="jp">Êõ∏„Åè ‚Üí Êõ∏„ÅÑ„Å¶ (kaite)</span></td>
              <td>„Åè drops, „ÅÑ inserted as glide</td>
            </tr>
            <tr>
              <td>„Åê</td>
              <td>„ÅÑ„Åß</td>
              <td><span class="jp">Ê≥≥„Åê ‚Üí Ê≥≥„ÅÑ„Åß (oyoide)</span></td>
              <td>Voiced version: „Åß instead of „Å¶</td>
            </tr>
            <tr>
              <td>„Åô</td>
              <td>„Åó„Å¶</td>
              <td><span class="jp">Ë©±„Åô ‚Üí Ë©±„Åó„Å¶ (hanashite)</span></td>
              <td>„Åô naturally becomes „Åó before „Å¶</td>
            </tr>
            <tr>
              <td>„Å§ / „Çã / „ÅÜ</td>
              <td>„Å£„Å¶</td>
              <td><span class="jp">ÂæÖ„Å§ ‚Üí ÂæÖ„Å£„Å¶ (matte)</span><br><span class="jp">Â£≤„Çã ‚Üí Â£≤„Å£„Å¶ (utte)</span><br><span class="jp">Ë≤∑„ÅÜ ‚Üí Ë≤∑„Å£„Å¶ (katte)</span></td>
              <td>Final sound doubles the „Å£</td>
            </tr>
            <tr>
              <td>„ÇÄ / „Å∂ / „Å¨</td>
              <td>„Çì„Åß</td>
              <td><span class="jp">È£≤„ÇÄ ‚Üí È£≤„Çì„Åß (nonde)</span><br><span class="jp">ÈÅä„Å∂ ‚Üí ÈÅä„Çì„Åß (asonde)</span><br><span class="jp">Ê≠ª„Å¨ ‚Üí Ê≠ª„Çì„Åß (shinde)</span></td>
              <td>„Çì sound bridges to „Åß</td>
            </tr>
            <tr>
              <td><strong style="color: var(--sage);">Ichidan</strong></td>
              <td>„Çã</td>
              <td>„Å¶</td>
              <td><span class="jp">È£ü„Åπ„Çã ‚Üí È£ü„Åπ„Å¶ (tabete)</span><br><span class="jp">Ë¶ã„Çã ‚Üí Ë¶ã„Å¶ (mite)</span></td>
              <td>Simple: drop „Çã, add „Å¶</td>
            </tr>
            <tr>
              <td><strong style="color: #7a5ba4;">Suru</strong></td>
              <td>„Åô„Çã</td>
              <td>„Åó„Å¶</td>
              <td><span class="jp">ÂãâÂº∑„Åô„Çã ‚Üí ÂãâÂº∑„Åó„Å¶ (benkyou shite)</span></td>
              <td>Irregular: „Åô„Çã ‚Üí „Åó„Å¶</td>
            </tr>
          </tbody>
        </table>

        <div class="info-box yellow" style="margin-top: 1.5rem;">
          <div class="info-box-title">‚ö†Ô∏è The Big Exception: Ë°å„Åè (iku - to go)</div>
          <p class="info-box-text" style="line-height: 1.8;">
            <span class="jp">Ë°å„Åè</span> is the only „Åè-ending verb that becomes <strong><span class="jp">Ë°å„Å£„Å¶</span></strong> instead of the expected <span class="jp">Ë°å„ÅÑ„Å¶</span>.<br><br>
            <strong>Why?</strong> This exception exists for historical phonetic reasons. The „Å£„Å¶ form is easier to pronounce and has become standard over time. This is the ONLY exception to the „Åè ‚Üí „ÅÑ„Å¶ rule, so it's worth memorizing specifically.
          </p>
        </div>

        <h3 class="section-title">Major Patterns Using „Å¶ Form</h3>
        <div style="margin-bottom: 2rem;">
          
          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">1. Sequential Actions („Å¶ + „Å¶ + „Åæ„Åô)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Use „Å¶ form to list actions in chronological order. The last verb is conjugated for tense; all earlier verbs stay in „Å¶ form.
            </p>
            <div style="background: white; padding: 1.25rem; border-radius: 4px; margin-bottom: 0.75rem;">
              <span class="jp" style="font-size: 1.1rem;">ÊúùËµ∑„Åç„Å¶„ÄÅ„Ç∑„É£„ÉØ„Éº„ÇíÊµ¥„Å≥„Å¶„ÄÅÊúù„Åî„ÅØ„Çì„ÇíÈ£ü„Åπ„Åæ„Åô„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Asa okite, shawaa wo abite, asagohan wo tabemasu.</span><br>
              <span style="color: var(--text);">In the morning, I wake up, take a shower, and eat breakfast.</span>
            </div>
            <div style="font-size: 0.9rem; color: var(--text-light); padding: 0.75rem; background: #f5f3ef; border-radius: 4px;">
              <strong>Structure:</strong> Verb‚ÇÅ„Å¶ + Verb‚ÇÇ„Å¶ + Verb‚ÇÉ[tense]<br>
              All actions inherit the tense of the final verb.
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">2. Making Requests („Äú„Å¶„Åè„Å†„Åï„ÅÑ)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              „Å¶ form + „Åè„Å†„Åï„ÅÑ creates polite requests and instructions. This is one of the most common patterns you'll use.
            </p>
            <div style="display: grid; grid-template-columns: 1fr; gap: 0.75rem;">
              <div style="background: white; padding: 1rem; border-radius: 4px;">
                <span class="jp" style="font-size: 1.05rem;">„Å°„Çá„Å£„Å®ÂæÖ„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</span><br>
                <span style="font-size: 0.85rem; color: var(--text-light);">Chotto matte kudasai.</span><br>
                <span style="font-size: 0.9rem;">Please wait a moment.</span>
              </div>
              <div style="background: white; padding: 1rem; border-radius: 4px;">
                <span class="jp" style="font-size: 1.05rem;">„ÇÇ„ÅÜ‰∏ÄÂ∫¶Ë®Ä„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</span><br>
                <span style="font-size: 0.85rem; color: var(--text-light);">Mou ichido itte kudasai.</span><br>
                <span style="font-size: 0.9rem;">Please say it one more time.</span>
              </div>
              <div style="background: white; padding: 1rem; border-radius: 4px;">
                <span class="jp" style="font-size: 1.05rem;">„ÇÜ„Å£„Åè„ÇäË©±„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</span><br>
                <span style="font-size: 0.85rem; color: var(--text-light);">Yukkuri hanashite kudasai.</span><br>
                <span style="font-size: 0.9rem;">Please speak slowly.</span>
              </div>
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">3. Progressive/Continuous Actions („Äú„Å¶„ÅÑ„Åæ„Åô)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              „Å¶ form + „ÅÑ„Çã/„ÅÑ„Åæ„Åô expresses ongoing actions or resulting states. This is equivalent to "-ing" in English.
            </p>
            <div style="background: #eef5ef; padding: 1.25rem; border-radius: 4px; margin-bottom: 1rem; border-left: 4px solid var(--sage);">
              <strong>Two meanings depending on verb type:</strong><br><br>
              <strong>Action in progress:</strong> <span class="jp">‰ªä„ÄÅÈ£ü„Åπ„Å¶„ÅÑ„Åæ„Åô„ÄÇ</span> (I'm eating now.)<br>
              <strong>Resulting state:</strong> <span class="jp">„É°„Ç¨„Éç„Çí„Åã„Åë„Å¶„ÅÑ„Åæ„Åô„ÄÇ</span> (I'm wearing glasses. / I wear glasses.)
            </div>
            <div style="display: grid; grid-template-columns: 1fr; gap: 0.75rem;">
              <div style="background: white; padding: 1rem; border-radius: 4px;">
                <span class="jp" style="font-size: 1.05rem;">‰ªä„ÄÅÂãâÂº∑„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ</span><br>
                <span style="font-size: 0.85rem; color: var(--text-light);">Ima, benkyou shite imasu.</span><br>
                <span style="font-size: 0.9rem;">I'm studying now. [action in progress]</span>
              </div>
              <div style="background: white; padding: 1rem; border-radius: 4px;">
                <span class="jp" style="font-size: 1.05rem;">Êù±‰∫¨„Å´‰Ωè„Çì„Åß„ÅÑ„Åæ„Åô„ÄÇ</span><br>
                <span style="font-size: 0.85rem; color: var(--text-light);">Tokyo ni sunde imasu.</span><br>
                <span style="font-size: 0.9rem;">I live in Tokyo. [resulting state]</span>
              </div>
              <div style="background: white; padding: 1rem; border-radius: 4px;">
                <span class="jp" style="font-size: 1.05rem;">Êó•Êú¨Ë™û„ÇíÂãâÂº∑„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ</span><br>
                <span style="font-size: 0.85rem; color: var(--text-light);">Nihongo wo benkyou shite imasu.</span><br>
                <span style="font-size: 0.9rem;">I'm studying Japanese. [habitual/ongoing]</span>
              </div>
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">4. Permission & Prohibition</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Use „Å¶ form with permission/prohibition patterns to ask for or grant permission.
            </p>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
              <div style="background: white; padding: 1.25rem; border-radius: 4px;">
                <div style="font-weight: 600; margin-bottom: 0.5rem;">„Äú„Å¶„ÇÇ„ÅÑ„ÅÑ (Permission)</div>
                <span class="jp" style="font-size: 1.05rem;">„Åì„Åì„ÅßÂÜôÁúü„ÇíÊíÆ„Å£„Å¶„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„ÅãÔºü</span><br>
                <span style="font-size: 0.85rem; color: var(--text-light);">Koko de shashin wo totte mo ii desu ka?</span><br>
                <span style="font-size: 0.9rem;">May I take photos here?</span>
              </div>
              <div style="background: white; padding: 1.25rem; border-radius: 4px;">
                <div style="font-weight: 600; margin-bottom: 0.5rem;">„Äú„Å¶„ÅØ„ÅÑ„Åë„Å™„ÅÑ (Prohibition)</div>
                <span class="jp" style="font-size: 1.05rem;">„Åì„Åì„Å´ÂÖ•„Å£„Å¶„ÅØ„ÅÑ„Åë„Åæ„Åõ„Çì„ÄÇ</span><br>
                <span style="font-size: 0.85rem; color: var(--text-light);">Koko ni haitte wa ikemasen.</span><br>
                <span style="font-size: 0.9rem;">You must not enter here.</span>
              </div>
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">5. Trying Something („Äú„Å¶„Åø„Çã)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              „Å¶ form + „Åø„Çã means "to try doing" something to see what it's like.
            </p>
            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <span class="jp" style="font-size: 1.05rem;">„Åì„ÅÆÊñôÁêÜ„ÇíÈ£ü„Åπ„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Kono ryouri wo tabete mite kudasai.</span><br>
              <span style="font-size: 0.9rem;">Please try eating this dish (to see how it tastes).</span>
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">6. Giving/Receiving Favors („Äú„Å¶„ÅÇ„Åí„Çã / „Äú„Å¶„Åè„Çå„Çã / „Äú„Å¶„ÇÇ„Çâ„ÅÜ)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Combine „Å¶ form with giving/receiving verbs to express who benefits from an action.
            </p>
            <div style="display: grid; grid-template-columns: 1fr; gap: 0.75rem;">
              <div style="background: white; padding: 1rem; border-radius: 4px;">
                <strong>„Äú„Å¶„ÅÇ„Åí„Çã:</strong> I do for them<br>
                <span class="jp" style="font-size: 1.05rem;">ÂèãÈÅî„Å´Êú¨„ÇíË≤∏„Åó„Å¶„ÅÇ„Åí„Åæ„Åó„Åü„ÄÇ</span><br>
                <span style="font-size: 0.85rem;">I lent a book to my friend (as a favor).</span>
              </div>
              <div style="background: white; padding: 1rem; border-radius: 4px;">
                <strong>„Äú„Å¶„Åè„Çå„Çã:</strong> They do for me<br>
                <span class="jp" style="font-size: 1.05rem;">ÂèãÈÅî„ÅåÊâã‰ºù„Å£„Å¶„Åè„Çå„Åæ„Åó„Åü„ÄÇ</span><br>
                <span style="font-size: 0.85rem;">My friend helped me (as a favor).</span>
              </div>
              <div style="background: white; padding: 1rem; border-radius: 4px;">
                <strong>„Äú„Å¶„ÇÇ„Çâ„ÅÜ:</strong> I receive their doing<br>
                <span class="jp" style="font-size: 1.05rem;">ÂÖàÁîü„Å´Ë™¨Êòé„Åó„Å¶„ÇÇ„Çâ„ÅÑ„Åæ„Åó„Åü„ÄÇ</span><br>
                <span style="font-size: 0.85rem;">I had the teacher explain it to me.</span>
              </div>
            </div>
          </div>

        </div>

        <h3 class="section-title">Common „Å¶ Form Patterns Chart</h3>
        <div style="margin-bottom: 2rem;">
          <table class="conj-table">
            <thead>
              <tr>
                <th>Pattern</th>
                <th>Meaning</th>
                <th>Example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>„Äú„Å¶„Åè„Å†„Åï„ÅÑ</td>
                <td>Please do...</td>
                <td><span class="jp">ÂæÖ„Å£„Å¶„Åè„Å†„Åï„ÅÑ</span> (Please wait)</td>
              </tr>
              <tr>
                <td>„Äú„Å¶„ÅÑ„Åæ„Åô</td>
                <td>Is doing / Does habitually</td>
                <td><span class="jp">ÂãâÂº∑„Åó„Å¶„ÅÑ„Åæ„Åô</span> (Am studying)</td>
              </tr>
              <tr>
                <td>„Äú„Å¶„ÇÇ„ÅÑ„ÅÑ</td>
                <td>May do / It's okay to do</td>
                <td><span class="jp">Ë°å„Å£„Å¶„ÇÇ„ÅÑ„ÅÑ</span> (May go)</td>
              </tr>
              <tr>
                <td>„Äú„Å¶„ÅØ„ÅÑ„Åë„Å™„ÅÑ</td>
                <td>Must not do</td>
                <td><span class="jp">ÂÖ•„Å£„Å¶„ÅØ„ÅÑ„Åë„Å™„ÅÑ</span> (Must not enter)</td>
              </tr>
              <tr>
                <td>„Äú„Å¶„Åø„Çã</td>
                <td>Try doing</td>
                <td><span class="jp">È£ü„Åπ„Å¶„Åø„Çã</span> (Try eating)</td>
              </tr>
              <tr>
                <td>„Äú„Å¶„Åã„Çâ</td>
                <td>After doing</td>
                <td><span class="jp">È£ü„Åπ„Å¶„Åã„Çâ</span> (After eating)</td>
              </tr>
              <tr>
                <td>„Äú„Å¶„Åó„Åæ„ÅÜ</td>
                <td>End up doing / Completely do</td>
                <td><span class="jp">È£ü„Åπ„Å¶„Åó„Åæ„Å£„Åü</span> (Ate it all up)</td>
              </tr>
              <tr>
                <td>„Äú„Å¶„Åä„Åè</td>
                <td>Do in advance / Leave as is</td>
                <td><span class="jp">Ë≤∑„Å£„Å¶„Åä„Åè</span> (Buy in advance)</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="info-box blue">
          <div class="info-box-title">üí° Learning Tips for „Å¶ Form</div>
          <p class="info-box-text" style="line-height: 1.9;">
            <strong>1. Memorize the sound groups:</strong> Group godan verbs by their „Å¶ form pattern („Åè/„Åê, „Åô, „Å§/„Çã/„ÅÜ, „ÇÄ/„Å∂/„Å¨).<br><br>
            <strong>2. Practice with common verbs first:</strong> Master „Å¶ form for everyday verbs like Ë°å„Åè, È£ü„Åπ„Çã, „Åô„Çã, Êù•„Çã.<br><br>
            <strong>3. Learn patterns as chunks:</strong> Memorize „Äú„Å¶„Åè„Å†„Åï„ÅÑ, „Äú„Å¶„ÅÑ„Åæ„Åô as complete phrases, not individual parts.<br><br>
            <strong>4. Connect to „Åü form:</strong> „Å¶ and „Åü forms follow identical patterns‚Äîjust swap „Å¶/„Åß for „Åü/„Å†.<br><br>
            <strong>5. Listen for „Å¶ in natural speech:</strong> Native speakers use „Å¶ form constantly. Train your ear to recognize it in context.
          </p>
        </div>
      </div>

      <!-- DICTIONARY FORM -->
      <div id="tab-dict" class="form-card">
        <h2 class="form-card-title jp">ËæûÊõ∏ÂΩ¢ ‚Äî The Dictionary Form</h2>
        <p class="form-card-desc">
          The dictionary form‚Äîalso called the plain form, casual form, or simply „ÅÜ-form‚Äîis the foundational, unconjugated form of Japanese verbs. It's how verbs appear in dictionaries, how they're listed in textbooks, and how friends speak to each other. Understanding the dictionary form is essential because it's the starting point for all other conjugations and the basis of casual Japanese conversation.
        </p>

        <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem; border-left: 4px solid #4a90a4;">
          <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.1rem;">Why is it Called "Dictionary Form"?</div>
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            This is the form you'll find when looking up a verb in a dictionary. It's the verb's "default" state‚Äîno politeness markers, no tense indicators, just the pure verb. Think of it as the verb's name or identity.
          </p>
          <div style="background: white; padding: 1.25rem; border-radius: 4px;">
            <strong>Three names, one form:</strong><br>
            ‚Ä¢ <strong>Dictionary form</strong> (how it appears in dictionaries)<br>
            ‚Ä¢ <strong>Plain form</strong> (casual, without polite markers)<br>
            ‚Ä¢ <strong>„ÅÜ-form</strong> (godan verbs end in „ÅÜ-row sounds)
          </div>
        </div>

        <div class="info-box blue">
          <div class="info-box-title">Key Characteristics</div>
          <p class="info-box-text" style="line-height: 1.9;">
            <strong>Godan verbs</strong> end in: „Åè„ÄÅ„Åê„ÄÅ„Åô„ÄÅ„Å§„ÄÅ„Å¨„ÄÅ„Å∂„ÄÅ„ÇÄ„ÄÅ„Çã„ÄÅ„ÅÜ (the „ÅÜ-row)<br>
            Examples: <span class="jp">Êõ∏„Åè„ÄÅÊ≥≥„Åê„ÄÅË©±„Åô„ÄÅÂæÖ„Å§„ÄÅÊ≠ª„Å¨„ÄÅÈÅä„Å∂„ÄÅË™≠„ÇÄ„ÄÅÂ∏∞„Çã„ÄÅË≤∑„ÅÜ</span><br><br>
            <strong>Ichidan verbs</strong> end in: -eru („Åà„Çã) or -iru („ÅÑ„Çã) sounds<br>
            Examples: <span class="jp">È£ü„Åπ„Çã„ÄÅË¶ã„Çã„ÄÅËµ∑„Åç„Çã„ÄÅÂØù„Çã</span><br><br>
            <strong>Suru verbs</strong> end in: „Åô„Çã<br>
            Examples: <span class="jp">„Åô„Çã„ÄÅÂãâÂº∑„Åô„Çã„ÄÅÊñôÁêÜ„Åô„Çã„ÄÅÊï£Ê≠©„Åô„Çã</span>
          </p>
        </div>

        <h3 class="section-title">When to Use Dictionary Form</h3>
        <div style="margin-bottom: 2rem;">
          <p style="margin-bottom: 1.5rem; line-height: 1.8;">
            The dictionary form has two primary functions: as a <strong>grammatical component</strong> in certain structures, and as <strong>casual speech</strong> among friends and family.
          </p>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
            <div style="background: #eef4f8; padding: 1.5rem; border-radius: 4px; border: 2px solid #4a90a4;">
              <div style="font-weight: 700; color: #4a90a4; margin-bottom: 1rem;">Grammatical Uses</div>
              <ul style="margin-left: 1.25rem; line-height: 1.9; font-size: 0.95rem;">
                <li><strong>Before particles/conjunctions:</strong><br><span class="jp">È£ü„Åπ„ÇãÂâç„Å´</span> (before eating)<br><span class="jp">Ë°å„Åè„Å§„ÇÇ„Çä</span> (intend to go)</li>
                <li><strong>With „Å®ÊÄù„ÅÜ:</strong><br><span class="jp">Ë°å„Åè„Å®ÊÄù„ÅÜ</span> (I think I'll go)</li>
                <li><strong>Modifying nouns:</strong><br><span class="jp">È£ü„Åπ„Çã‰∫∫</span> (person who eats)</li>
                <li><strong>In conditionals:</strong><br><span class="jp">Ë°å„Åè„Å™„Çâ</span> (if you go)</li>
              </ul>
            </div>

            <div style="background: #eef5ef; padding: 1.5rem; border-radius: 4px; border: 2px solid var(--sage);">
              <div style="font-weight: 700; color: var(--sage); margin-bottom: 1rem;">Casual Speech</div>
              <ul style="margin-left: 1.25rem; line-height: 1.9; font-size: 0.95rem;">
                <li>Talking with close friends</li>
                <li>Family conversations</li>
                <li>Inner monologue in writing</li>
                <li>Casual diary entries</li>
                <li>Manga and anime dialogue</li>
                <li>Informal text messages</li>
              </ul>
              <div style="margin-top: 1rem; padding: 0.75rem; background: white; border-radius: 4px; font-size: 0.85rem;">
                <strong>Caution:</strong> Don't use with people you should be polite to‚Äîteachers, bosses, strangers, elders, customers.
              </div>
            </div>
          </div>
        </div>

        <h3 class="section-title">Dictionary Form by Verb Type</h3>
        <table class="conj-table">
          <thead>
            <tr>
              <th>Type</th>
              <th>Ending Pattern</th>
              <th>Verb (Kanji)</th>
              <th>Hiragana</th>
              <th>Romaji</th>
              <th>Meaning</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td rowspan="9"><strong style="color: #4a90a4;">Godan</strong></td>
              <td>„Äú„Åè</td>
              <td class="jp">Êõ∏„Åè</td>
              <td class="jp">„Åã„Åè</td>
              <td>kaku</td>
              <td>to write</td>
            </tr>
            <tr>
              <td>„Äú„Åê</td>
              <td class="jp">Ê≥≥„Åê</td>
              <td class="jp">„Åä„Çà„Åê</td>
              <td>oyogu</td>
              <td>to swim</td>
            </tr>
            <tr>
              <td>„Äú„Åô</td>
              <td class="jp">Ë©±„Åô</td>
              <td class="jp">„ÅØ„Å™„Åô</td>
              <td>hanasu</td>
              <td>to speak</td>
            </tr>
            <tr>
              <td>„Äú„Å§</td>
              <td class="jp">ÂæÖ„Å§</td>
              <td class="jp">„Åæ„Å§</td>
              <td>matsu</td>
              <td>to wait</td>
            </tr>
            <tr>
              <td>„Äú„Å¨</td>
              <td class="jp">Ê≠ª„Å¨</td>
              <td class="jp">„Åó„Å¨</td>
              <td>shinu</td>
              <td>to die</td>
            </tr>
            <tr>
              <td>„Äú„Å∂</td>
              <td class="jp">ÈÅä„Å∂</td>
              <td class="jp">„ÅÇ„Åù„Å∂</td>
              <td>asobu</td>
              <td>to play</td>
            </tr>
            <tr>
              <td>„Äú„ÇÄ</td>
              <td class="jp">È£≤„ÇÄ</td>
              <td class="jp">„ÅÆ„ÇÄ</td>
              <td>nomu</td>
              <td>to drink</td>
            </tr>
            <tr>
              <td>„Äú„Çã</td>
              <td class="jp">Â∏∞„Çã</td>
              <td class="jp">„Åã„Åà„Çã</td>
              <td>kaeru</td>
              <td>to return</td>
            </tr>
            <tr>
              <td>„Äú„ÅÜ</td>
              <td class="jp">Ë≤∑„ÅÜ</td>
              <td class="jp">„Åã„ÅÜ</td>
              <td>kau</td>
              <td>to buy</td>
            </tr>
            <tr>
              <td rowspan="4"><strong style="color: var(--sage);">Ichidan</strong></td>
              <td>„Äú„Åà„Çã</td>
              <td class="jp">È£ü„Åπ„Çã</td>
              <td class="jp">„Åü„Åπ„Çã</td>
              <td>taberu</td>
              <td>to eat</td>
            </tr>
            <tr>
              <td>„Äú„Åà„Çã</td>
              <td class="jp">Ëµ∑„Åç„Çã</td>
              <td class="jp">„Åä„Åç„Çã</td>
              <td>okiru</td>
              <td>to wake up</td>
            </tr>
            <tr>
              <td>„Äú„ÅÑ„Çã</td>
              <td class="jp">Ë¶ã„Çã</td>
              <td class="jp">„Åø„Çã</td>
              <td>miru</td>
              <td>to see</td>
            </tr>
            <tr>
              <td>„Äú„ÅÑ„Çã</td>
              <td class="jp">ÂØù„Çã</td>
              <td class="jp">„Å≠„Çã</td>
              <td>neru</td>
              <td>to sleep</td>
            </tr>
            <tr>
              <td rowspan="3"><strong style="color: #7a5ba4;">Suru</strong></td>
              <td>„Äú„Åô„Çã</td>
              <td class="jp">„Åô„Çã</td>
              <td class="jp">„Åô„Çã</td>
              <td>suru</td>
              <td>to do</td>
            </tr>
            <tr>
              <td>„Äú„Åô„Çã</td>
              <td class="jp">ÂãâÂº∑„Åô„Çã</td>
              <td class="jp">„Åπ„Çì„Åç„Çá„ÅÜ„Åô„Çã</td>
              <td>benkyou suru</td>
              <td>to study</td>
            </tr>
            <tr>
              <td>„Äú„Åô„Çã</td>
              <td class="jp">ÊñôÁêÜ„Åô„Çã</td>
              <td class="jp">„Çä„Çá„ÅÜ„Çä„Åô„Çã</td>
              <td>ryouri suru</td>
              <td>to cook</td>
            </tr>
          </tbody>
        </table>

        <h3 class="section-title">Common Grammatical Patterns Using Dictionary Form</h3>
        <div style="margin-bottom: 2rem;">
          
          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">1. „Äú„Å®ÊÄù„ÅÜ (I think that...)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Express opinions or assumptions about what will happen.
            </p>
            <div style="background: white; padding: 1.25rem; border-radius: 4px; margin-bottom: 0.5rem;">
              <span class="jp" style="font-size: 1.1rem;">ÊòéÊó•Èõ®„ÅåÈôç„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Ashita ame ga furu to omoimasu.</span><br>
              <span style="font-size: 0.9rem;">I think it will rain tomorrow.</span>
            </div>
            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <span class="jp" style="font-size: 1.1rem;">ÂΩº„ÅØÊù•„Å™„ÅÑ„Å®ÊÄù„ÅÜ„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Kare wa konai to omou.</span><br>
              <span style="font-size: 0.9rem;">I think he won't come.</span>
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">2. „ÄúÂâç„Å´ (before doing...)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Indicates an action happens before another action.
            </p>
            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <span class="jp" style="font-size: 1.1rem;">ÂØù„ÇãÂâç„Å´„ÄÅÊ≠Ø„ÇíÁ£®„Åç„Åæ„Åô„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Neru mae ni, ha wo migakimasu.</span><br>
              <span style="font-size: 0.9rem;">Before sleeping, I brush my teeth.</span>
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">3. „Äú„Å§„ÇÇ„Çä (plan/intend to...)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Express plans or intentions.
            </p>
            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <span class="jp" style="font-size: 1.1rem;">Êù•Âπ¥Êó•Êú¨„Å´Ë°å„Åè„Å§„ÇÇ„Çä„Åß„Åô„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Rainen Nihon ni iku tsumori desu.</span><br>
              <span style="font-size: 0.9rem;">I plan to go to Japan next year.</span>
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">4. Modifying Nouns (Relative Clauses)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Use dictionary form to describe or specify which noun you're talking about.
            </p>
            <div style="background: white; padding: 1.25rem; border-radius: 4px; margin-bottom: 0.75rem;">
              <span class="jp" style="font-size: 1.1rem;">Êó•Êú¨Ë™û„Çí<strong style="color: var(--accent);">Ë©±„Åô</strong>‰∫∫</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Nihongo wo hanasu hito</span><br>
              <span style="font-size: 0.9rem;">A person who speaks Japanese</span>
            </div>
            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <span class="jp" style="font-size: 1.1rem;">Êò®Êó•<strong style="color: var(--accent);">È£ü„Åπ„Åü</strong>ÊñôÁêÜ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Kinou tabeta ryouri</span><br>
              <span style="font-size: 0.9rem;">The dish (I) ate yesterday</span>
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">5. „Äú„Åì„Å®„Åå„Åß„Åç„Çã (can do / be able to)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Express ability or possibility.
            </p>
            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <span class="jp" style="font-size: 1.1rem;">Êó•Êú¨Ë™û„ÇíË©±„Åô„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Nihongo wo hanasu koto ga dekimasu.</span><br>
              <span style="font-size: 0.9rem;">I can speak Japanese.</span>
            </div>
          </div>
        </div>

        <h3 class="section-title">Dictionary Form in Casual Conversation</h3>
        <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem;">
          <p style="line-height: 1.8; margin-bottom: 1.5rem;">
            In casual speech among friends and family, the dictionary form replaces „Åæ„Åô. This creates a relaxed, friendly tone. Note that questions often use rising intonation instead of „Åã.
          </p>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
            <div>
              <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">Polite („Åæ„Åô form)</div>
              <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.75rem;">
                <span class="jp">ÊòéÊó•Â≠¶Ê†°„Å´Ë°å„Åç„Åæ„Åô„ÅãÔºü</span><br>
                <span style="font-size: 0.85rem;">Will you go to school tomorrow?</span>
              </div>
              <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.75rem;">
                <span class="jp">„ÅØ„ÅÑ„ÄÅË°å„Åç„Åæ„Åô„ÄÇ</span><br>
                <span style="font-size: 0.85rem;">Yes, I will go.</span>
              </div>
              <div style="background: white; padding: 1rem; border-radius: 4px;">
                <span class="jp">‰Ωï„ÇíÈ£ü„Åπ„Åæ„Åó„Åü„ÅãÔºü</span><br>
                <span style="font-size: 0.85rem;">What did you eat?</span>
              </div>
            </div>

            <div>
              <div style="font-weight: 700; color: var(--sage); margin-bottom: 0.75rem;">Casual (Dictionary form)</div>
              <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.75rem;">
                <span class="jp">ÊòéÊó•Â≠¶Ê†°„Å´Ë°å„ÅèÔºü</span><br>
                <span style="font-size: 0.85rem;">You going to school tomorrow?</span>
              </div>
              <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.75rem;">
                <span class="jp">„ÅÜ„Çì„ÄÅË°å„Åè„ÄÇ</span><br>
                <span style="font-size: 0.85rem;">Yeah, I'm going.</span>
              </div>
              <div style="background: white; padding: 1rem; border-radius: 4px;">
                <span class="jp">‰ΩïÈ£ü„Åπ„ÅüÔºü</span><br>
                <span style="font-size: 0.85rem;">What'd you eat?</span>
              </div>
            </div>
          </div>
        </div>

        <div class="info-box yellow">
          <div class="info-box-title">‚ö†Ô∏è Important: Dictionary Form ‚â† Present Tense Only</div>
          <p class="info-box-text" style="line-height: 1.8;">
            Despite being called "present tense" in some textbooks, the dictionary form can express:<br><br>
            <strong>Present habitual:</strong> <span class="jp">ÊØéÊó•Ëµ∞„Çã</span> (I run every day)<br>
            <strong>Future:</strong> <span class="jp">ÊòéÊó•Ë°å„Åè</span> (I'll go tomorrow)<br>
            <strong>General truths:</strong> <span class="jp">Â§™ÈôΩ„ÅåÊòá„Çã</span> (The sun rises)<br><br>
            Context determines the time reference, not the verb form itself!
          </p>
        </div>

        <div class="info-box blue">
          <div class="info-box-title">üí° Learning Tips for Dictionary Form</div>
          <p class="info-box-text" style="line-height: 1.9;">
            <strong>1. Start here:</strong> Learn the dictionary form first‚Äîit's the foundation for all other conjugations.<br><br>
            <strong>2. Memorize verb types with the dictionary form:</strong> When learning a new verb, note if it's godan, ichidan, or suru.<br><br>
            <strong>3. Practice casual conversation:</strong> Watch anime or J-dramas to hear dictionary form in natural contexts.<br><br>
            <strong>4. Master grammatical patterns:</strong> Focus on common structures like „Å®ÊÄù„ÅÜ, Ââç„Å´, „Å§„ÇÇ„Çä, „Åì„Å®„Åå„Åß„Åç„Çã.<br><br>
            <strong>5. Know your audience:</strong> Use dictionary form only with close friends/family. When in doubt, use „Åæ„Åô form.
          </p>
        </div>
      </div>

      <!-- TA FORM (PAST) -->
      <div id="tab-ta" class="form-card">
        <h2 class="form-card-title jp">„ÅüÂΩ¢ ‚Äî The Past Form</h2>
        <p class="form-card-desc">
          The „Åü form expresses completed actions and events that have already occurred. As the casual/plain past tense, it's used among friends and family, in narrative writing, and as a grammatical building block for more complex expressions. Understanding „Åü form is essential because it shares its conjugation pattern with the „Å¶ form, making it a "two-for-one" learning opportunity.
        </p>

        <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem; border-left: 4px solid #7a5ba4;">
          <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.1rem;">The „Åü Form: More Than Just Past Tense</div>
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            While primarily used for past tense, the „Åü form has several important functions in Japanese grammar:
          </p>
          <ul style="margin-left: 1.5rem; line-height: 1.9; margin-bottom: 1rem;">
            <li><strong>Completed actions:</strong> <span class="jp">Êò®Êó•„É©„Éº„É°„É≥„ÇíÈ£ü„Åπ„Åü</span> (I ate ramen yesterday)</li>
            <li><strong>Past experience:</strong> <span class="jp">Êó•Êú¨„Å´Ë°å„Å£„Åü„Åì„Å®„Åå„ÅÇ„Çã</span> (I've been to Japan before)</li>
            <li><strong>Discovery/realization:</strong> <span class="jp">„ÅÇ„ÄÅÈõ®„ÅåÈôç„Å£„ÅüÔºÅ</span> (Oh, it rained!)</li>
            <li><strong>Sequential past actions:</strong> <span class="jp">Ëµ∑„Åç„ÅüÂæå„Åß„ÄÅ„Ç∑„É£„ÉØ„Éº„ÇíÊµ¥„Å≥„Åü</span> (After waking up, I took a shower)</li>
          </ul>
          <div style="background: white; padding: 1.25rem; border-radius: 4px;">
            <strong>Important Connection:</strong> The „Åü form and „Å¶ form follow <em>identical</em> conjugation patterns. Master one, and you've mastered both! Just replace „Å¶/„Åß with „Åü/„Å†.
          </div>
        </div>

        <div class="info-box purple">
          <div class="info-box-title">The Big Secret: „Åü = „Å¶ with Different Endings</div>
          <p class="info-box-text" style="line-height: 1.8;">
            If you already know „Å¶ form, you already know „Åü form!<br><br>
            <strong>„Å¶ form:</strong> <span class="jp">Êõ∏„ÅÑ„Å¶„ÄÅÊ≥≥„ÅÑ„Åß„ÄÅË©±„Åó„Å¶„ÄÅÂæÖ„Å£„Å¶„ÄÅÈ£≤„Çì„Åß</span><br>
            <strong>„Åü form:</strong> <span class="jp">Êõ∏„ÅÑ„Åü„ÄÅÊ≥≥„ÅÑ„Å†„ÄÅË©±„Åó„Åü„ÄÅÂæÖ„Å£„Åü„ÄÅÈ£≤„Çì„Å†</span><br><br>
            The pattern is identical‚Äîjust swap „Å¶‚Üí„Åü and „Åß‚Üí„Å†.
          </p>
        </div>

        <h3 class="section-title">Formation Rules ‚Äî Parallel to „Å¶ Form</h3>
        <div style="background: #f3eef8; padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem; border-left: 4px solid #7a5ba4;">
          <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">Understanding the Sound Changes:</div>
          <p style="line-height: 1.8;">
            Like „Å¶ form, „Åü form follows euphonic (pleasant-sounding) patterns. The changes aren't random‚Äîthey reflect how sounds naturally combine in Japanese to create smooth, pronounceable words. The „Åü/„Å† distinction follows voicing: unvoiced consonants take „Åü, voiced consonants take „Å†.
          </p>
        </div>

        <table class="conj-table">
          <thead>
            <tr>
              <th>Verb Type</th>
              <th>Dictionary Ending</th>
              <th>„Åü Form Ending</th>
              <th>„Å¶ Form (Compare)</th>
              <th>Example</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td rowspan="5"><strong style="color: #4a90a4;">Godan</strong></td>
              <td>„Åè</td>
              <td>„ÅÑ„Åü</td>
              <td>„ÅÑ„Å¶</td>
              <td><span class="jp">Êõ∏„Åè ‚Üí Êõ∏„ÅÑ„Åü (kaita)</span></td>
            </tr>
            <tr>
              <td>„Åê</td>
              <td>„ÅÑ„Å†</td>
              <td>„ÅÑ„Åß</td>
              <td><span class="jp">Ê≥≥„Åê ‚Üí Ê≥≥„ÅÑ„Å† (oyoida)</span></td>
            </tr>
            <tr>
              <td>„Åô</td>
              <td>„Åó„Åü</td>
              <td>„Åó„Å¶</td>
              <td><span class="jp">Ë©±„Åô ‚Üí Ë©±„Åó„Åü (hanashita)</span></td>
            </tr>
            <tr>
              <td>„Å§ / „Çã / „ÅÜ</td>
              <td>„Å£„Åü</td>
              <td>„Å£„Å¶</td>
              <td><span class="jp">ÂæÖ„Å§ ‚Üí ÂæÖ„Å£„Åü (matta)</span><br><span class="jp">Â£≤„Çã ‚Üí Â£≤„Å£„Åü (utta)</span><br><span class="jp">Ë≤∑„ÅÜ ‚Üí Ë≤∑„Å£„Åü (katta)</span></td>
            </tr>
            <tr>
              <td>„ÇÄ / „Å∂ / „Å¨</td>
              <td>„Çì„Å†</td>
              <td>„Çì„Åß</td>
              <td><span class="jp">È£≤„ÇÄ ‚Üí È£≤„Çì„Å† (nonda)</span><br><span class="jp">ÈÅä„Å∂ ‚Üí ÈÅä„Çì„Å† (asonda)</span><br><span class="jp">Ê≠ª„Å¨ ‚Üí Ê≠ª„Çì„Å† (shinda)</span></td>
            </tr>
            <tr>
              <td><strong style="color: var(--sage);">Ichidan</strong></td>
              <td>„Çã</td>
              <td>„Åü</td>
              <td>„Å¶</td>
              <td><span class="jp">È£ü„Åπ„Çã ‚Üí È£ü„Åπ„Åü (tabeta)</span><br><span class="jp">Ë¶ã„Çã ‚Üí Ë¶ã„Åü (mita)</span></td>
            </tr>
            <tr>
              <td><strong style="color: #7a5ba4;">Suru</strong></td>
              <td>„Åô„Çã</td>
              <td>„Åó„Åü</td>
              <td>„Åó„Å¶</td>
              <td><span class="jp">ÂãâÂº∑„Åô„Çã ‚Üí ÂãâÂº∑„Åó„Åü (benkyou shita)</span></td>
            </tr>
          </tbody>
        </table>

        <div class="info-box yellow" style="margin-top: 1.5rem;">
          <div class="info-box-title">‚ö†Ô∏è Don't Forget: Ë°å„Åè (iku)</div>
          <p class="info-box-text" style="line-height: 1.8;">
            <span class="jp">Ë°å„Åè</span> is the only „Åè-ending verb that becomes <strong><span class="jp">Ë°å„Å£„Åü</span></strong> (not Ë°å„ÅÑ„Åü).<br><br>
            This is the same exception as in „Å¶ form (<span class="jp">Ë°å„Å£„Å¶</span>). Memorize this single exception and you're good to go!
          </p>
        </div>

        <h3 class="section-title">Polite vs. Casual Past Forms</h3>
        <div style="margin-bottom: 2rem;">
          <p style="margin-bottom: 1.5rem; line-height: 1.8;">
            Japanese has both casual and polite past forms. The „Åü form is casual; for polite speech, use „Åæ„Åó„Åü.
          </p>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
            <div style="background: #f3eef8; padding: 1.5rem; border-radius: 4px; border: 2px solid #7a5ba4;">
              <div style="font-weight: 700; color: #7a5ba4; margin-bottom: 1rem;">Casual („Åü Form)</div>
              <div style="margin-bottom: 0.75rem;">
                <span class="jp" style="font-size: 1.05rem;">È£ü„Åπ„Åü</span><br>
                <span style="font-size: 0.85rem; color: var(--text-light);">tabeta</span><br>
                <span style="font-size: 0.9rem;">ate</span>
              </div>
              <div style="margin-bottom: 0.75rem;">
                <span class="jp" style="font-size: 1.05rem;">È£≤„Çì„Å†</span><br>
                <span style="font-size: 0.85rem; color: var(--text-light);">nonda</span><br>
                <span style="font-size: 0.9rem;">drank</span>
              </div>
              <div>
                <span class="jp" style="font-size: 1.05rem;">ÂãâÂº∑„Åó„Åü</span><br>
                <span style="font-size: 0.85rem; color: var(--text-light);">benkyou shita</span><br>
                <span style="font-size: 0.9rem;">studied</span>
              </div>
            </div>

            <div style="background: #eef4f8; padding: 1.5rem; border-radius: 4px; border: 2px solid #4a90a4;">
              <div style="font-weight: 700; color: #4a90a4; margin-bottom: 1rem;">Polite („Åæ„Åó„Åü Form)</div>
              <div style="margin-bottom: 0.75rem;">
                <span class="jp" style="font-size: 1.05rem;">È£ü„Åπ„Åæ„Åó„Åü</span><br>
                <span style="font-size: 0.85rem; color: var(--text-light);">tabemashita</span><br>
                <span style="font-size: 0.9rem;">ate [polite]</span>
              </div>
              <div style="margin-bottom: 0.75rem;">
                <span class="jp" style="font-size: 1.05rem;">È£≤„Åø„Åæ„Åó„Åü</span><br>
                <span style="font-size: 0.85rem; color: var(--text-light);">nomimashita</span><br>
                <span style="font-size: 0.9rem;">drank [polite]</span>
              </div>
              <div>
                <span class="jp" style="font-size: 1.05rem;">ÂãâÂº∑„Åó„Åæ„Åó„Åü</span><br>
                <span style="font-size: 0.85rem; color: var(--text-light);">benkyou shimashita</span><br>
                <span style="font-size: 0.9rem;">studied [polite]</span>
              </div>
            </div>
          </div>

          <div style="background: #fdf8ed; padding: 1.25rem; border-radius: 4px; border-left: 4px solid var(--gold);">
            <strong>When to use which:</strong><br>
            ‚Ä¢ „Åü form: Friends, family, casual writing, inner thoughts<br>
            ‚Ä¢ „Åæ„Åó„Åü form: Polite conversation, formal situations, with strangers/superiors
          </div>
        </div>

        <h3 class="section-title">Essential Patterns Using „Åü Form</h3>
        <div style="margin-bottom: 2rem;">
          
          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">1. Simple Past Narrative</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Use „Åü form to tell stories or describe what happened in casual speech.
            </p>
            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <span class="jp" style="font-size: 1.1rem;">Êò®Êó•ÂèãÈÅî„Å®Êò†Áîª„ÇíË¶ã„Åü„ÄÇ„Å®„Å¶„ÇÇÈù¢ÁôΩ„Åã„Å£„Åü„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Kinou tomodachi to eiga wo mita. Totemo omoshirokatta.</span><br>
              <span style="font-size: 0.9rem;">Yesterday I watched a movie with friends. It was very interesting.</span>
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">2. „Äú„Åü„Åì„Å®„Åå„ÅÇ„Çã (Have experienced...)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Express past experience‚Äîsomething you've done at least once before.
            </p>
            <div style="background: white; padding: 1.25rem; border-radius: 4px; margin-bottom: 0.75rem;">
              <span class="jp" style="font-size: 1.1rem;">Êó•Êú¨„Å´Ë°å„Å£„Åü„Åì„Å®„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Nihon ni itta koto ga arimasu.</span><br>
              <span style="font-size: 0.9rem;">I have been to Japan (before).</span>
            </div>
            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <span class="jp" style="font-size: 1.1rem;">Á¥çË±Ü„ÇíÈ£ü„Åπ„Åü„Åì„Å®„Åå„ÅÇ„Çä„Åæ„Åô„ÅãÔºü</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Nattou wo tabeta koto ga arimasu ka?</span><br>
              <span style="font-size: 0.9rem;">Have you ever eaten natto?</span>
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">3. „Äú„ÅüÂæå„Åß (After doing...)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Indicate that one action happened after another was completed.
            </p>
            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <span class="jp" style="font-size: 1.1rem;">ÂÆøÈ°å„Çí„Åó„ÅüÂæå„Åß„ÄÅ„Ç≤„Éº„É†„Çí„Åó„Åü„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Shukudai wo shita ato de, geemu wo shita.</span><br>
              <span style="font-size: 0.9rem;">After doing homework, I played games.</span>
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">4. „Äú„Åü„Å∞„Åã„Çä (Just did...)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Express that something just happened very recently.
            </p>
            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <span class="jp" style="font-size: 1.1rem;">‰ªäÂ∏∞„Å£„Åü„Å∞„Åã„Çä„Åß„Åô„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Ima kaetta bakari desu.</span><br>
              <span style="font-size: 0.9rem;">I just got home now.</span>
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">5. „Äú„Åü„Çä„Äú„Åü„Çä„Åô„Çã (Do things like... and...)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              List example activities from a larger set of similar actions.
            </p>
            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <span class="jp" style="font-size: 1.1rem;">ÈÄ±Êú´„ÅØÊú¨„ÇíË™≠„Çì„Å†„Çä„ÄÅÈü≥Ê•Ω„ÇíËÅû„ÅÑ„Åü„Çä„Åó„Åæ„Åô„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Shuumatsu wa hon wo yondari, ongaku wo kiitari shimasu.</span><br>
              <span style="font-size: 0.9rem;">On weekends, I do things like read books and listen to music.</span>
            </div>
          </div>

          <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">6. „Äú„Åü„Çâ (If/When... happened)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Create conditional sentences expressing "if" or "when" something happens.
            </p>
            <div style="background: white; padding: 1.25rem; border-radius: 4px; margin-bottom: 0.75rem;">
              <span class="jp" style="font-size: 1.1rem;">Êò•„Å´„Å™„Å£„Åü„Çâ„ÄÅÊ°ú„ÅåÂí≤„Åç„Åæ„Åô„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Haru ni nattara, sakura ga sakimasu.</span><br>
              <span style="font-size: 0.9rem;">When spring comes, the cherry blossoms will bloom.</span>
            </div>
            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <span class="jp" style="font-size: 1.1rem;">Êó•Êú¨„Å´Ë°å„Å£„Åü„Çâ„ÄÅ‰∫¨ÈÉΩ„ÇíË®™„Çå„Åü„ÅÑ„Åß„Åô„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Nihon ni ittara, Kyoto wo otozuretai desu.</span><br>
              <span style="font-size: 0.9rem;">If I go to Japan, I want to visit Kyoto.</span>
            </div>
          </div>

        </div>

        <h3 class="section-title">„Åü Form Pattern Summary</h3>
        <div style="margin-bottom: 2rem;">
          <table class="conj-table">
            <thead>
              <tr>
                <th>Pattern</th>
                <th>Meaning</th>
                <th>Example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>„Äú„Åü</td>
                <td>Simple past (casual)</td>
                <td><span class="jp">È£ü„Åπ„Åü</span> (ate)</td>
              </tr>
              <tr>
                <td>„Äú„Åü„Åì„Å®„Åå„ÅÇ„Çã</td>
                <td>Have experienced</td>
                <td><span class="jp">Ë¶ã„Åü„Åì„Å®„Åå„ÅÇ„Çã</span> (have seen before)</td>
              </tr>
              <tr>
                <td>„Äú„ÅüÂæå„Åß</td>
                <td>After doing</td>
                <td><span class="jp">È£ü„Åπ„ÅüÂæå„Åß</span> (after eating)</td>
              </tr>
              <tr>
                <td>„Äú„Åü„Å∞„Åã„Çä</td>
                <td>Just did</td>
                <td><span class="jp">Êù•„Åü„Å∞„Åã„Çä</span> (just came)</td>
              </tr>
              <tr>
                <td>„Äú„Åü„Çä„Äú„Åü„Çä„Åô„Çã</td>
                <td>Do things like... and...</td>
                <td><span class="jp">ÈÅä„Çì„Å†„ÇäÂãâÂº∑„Åó„Åü„Çä„Åô„Çã</span> (play and study, etc.)</td>
              </tr>
              <tr>
                <td>„Äú„Åü„Çâ</td>
                <td>If/When (conditional)</td>
                <td><span class="jp">Èõ®„ÅåÈôç„Å£„Åü„Çâ</span> (if/when it rains)</td>
              </tr>
              <tr>
                <td>„Äú„Åü„Åª„ÅÜ„Åå„ÅÑ„ÅÑ</td>
                <td>Should do / had better do</td>
                <td><span class="jp">‰ºë„Çì„Å†„Åª„ÅÜ„Åå„ÅÑ„ÅÑ</span> (you should rest)</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h3 class="section-title">Real-Life Examples in Context</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1rem;">
          <div style="margin-bottom: 1.25rem;">
            <div style="font-weight: 600; color: var(--ink); margin-bottom: 0.5rem;">Casual Conversation</div>
            <span class="jp" style="font-size: 1.15rem; font-weight: 600;">Êò®Êó•‰Ωï„Åó„ÅüÔºü</span><br>
            <span style="color: var(--text-light); font-size: 0.9rem;">Kinou nani shita?</span><br>
            <span style="color: var(--text);">What did you do yesterday? [casual]</span>
          </div>

          <div style="margin-bottom: 1.25rem;">
            <div style="font-weight: 600; color: var(--ink); margin-bottom: 0.5rem;">Polite Past</div>
            <span class="jp" style="font-size: 1.15rem; font-weight: 600;">ÂÖàÈÄ±‰∫¨ÈÉΩ„Å´Ë°å„Åç„Åæ„Åó„Åü„ÄÇ„Å®„Å¶„ÇÇÊ•Ω„Åó„Åã„Å£„Åü„Åß„Åô„ÄÇ</span><br>
            <span style="color: var(--text-light); font-size: 0.9rem;">Senshuu Kyoto ni ikimashita. Totemo tanoshikatta desu.</span><br>
            <span style="color: var(--text);">Last week I went to Kyoto. It was very fun. [polite]</span>
          </div>

          <div style="margin-bottom: 1.25rem;">
            <div style="font-weight: 600; color: var(--ink); margin-bottom: 0.5rem;">Storytelling</div>
            <span class="jp" style="font-size: 1.15rem; font-weight: 600;">ÊúùËµ∑„Åç„Å¶„ÄÅÊúù„Åî„ÅØ„Çì„ÇíÈ£ü„Åπ„Å¶„ÄÅÂ≠¶Ê†°„Å´Ë°å„Å£„Åü„ÄÇ</span><br>
            <span style="color: var(--text-light); font-size: 0.9rem;">Asa okite, asagohan wo tabete, gakkou ni itta.</span><br>
            <span style="color: var(--text);">In the morning I woke up, ate breakfast, and went to school. [casual narrative]</span>
          </div>

          <div>
            <div style="font-weight: 600; color: var(--ink); margin-bottom: 0.5rem;">Past Experience</div>
            <span class="jp" style="font-size: 1.15rem; font-weight: 600;">ÂØåÂ£´Â±±„Å´Áôª„Å£„Åü„Åì„Å®„Åå„ÅÇ„Çä„Åæ„Åô„ÅãÔºü</span><br>
            <span style="color: var(--text-light); font-size: 0.9rem;">Fujisan ni nobotta koto ga arimasu ka?</span><br>
            <span style="color: var(--text);">Have you ever climbed Mt. Fuji?</span>
          </div>
        </div>

        <div class="info-box blue">
          <div class="info-box-title">üí° Learning Tips for „Åü Form</div>
          <p class="info-box-text" style="line-height: 1.9;">
            <strong>1. Master „Å¶ form first:</strong> Once you know „Å¶ form, „Åü form is automatic‚Äîjust swap the endings.<br><br>
            <strong>2. Practice the patterns:</strong> Focus on common structures like „Äú„Åü„Åì„Å®„Åå„ÅÇ„Çã, „Äú„ÅüÂæå„Åß, „Äú„Åü„Çâ.<br><br>
            <strong>3. Read Japanese stories:</strong> Novels and manga use „Åü form constantly for narration‚Äîgreat practice!<br><br>
            <strong>4. Know when to be polite:</strong> Use „Åü with friends/family, „Åæ„Åó„Åü in professional or polite contexts.<br><br>
            <strong>5. Connect to present:</strong> Remember that „Åü form + „ÅÑ„Çã can express resulting states (e.g., <span class="jp">ÁµêÂ©ö„Åó„Å¶„ÅÑ„Çã</span> = is married).
          </p>
        </div>
      </div>

      <!-- NEGATIVE FORM TAB -->
      <div id="tab-negative" class="form-card">
        <h2 class="form-card-title jp">„Å™„ÅÑÂΩ¢ ‚Äî The Negative Form</h2>
        <p class="form-card-desc">
          The negative form („Å™„ÅÑÂΩ¢) is one of the foundational conjugations in Japanese, expressing that an action does not happen, will not happen, or is not the case. Unlike English, which relies on helper words like "don't," "doesn't," or "won't," Japanese transforms the verb itself to create negation. Mastering the negative form is essential because it serves as the building block for numerous other grammar patterns and appears in virtually every conversation.
        </p>

        <div class="info-box blue">
          <div class="info-box-title">When to Use the Negative Form</div>
          <p class="info-box-text" style="line-height: 1.9;">
            Use the „Å™„ÅÑ form when:<br>
            ‚Ä¢ Speaking casually with friends, family, or close acquaintances<br>
            ‚Ä¢ Writing informal messages, diary entries, or personal notes<br>
            ‚Ä¢ Expressing habitual non-actions or general negations<br>
            ‚Ä¢ Stating preferences or dislikes (e.g., Â•Ω„Åç„Åò„ÇÉ„Å™„ÅÑ = don't like)<br>
            ‚Ä¢ Before certain grammar patterns („Äú„Å™„ÅÑ„Åß„ÄÅ„Äú„Å™„Åë„Çå„Å∞„Å™„Çâ„Å™„ÅÑ„ÄÅ„Äú„Å™„Åè„Å¶„ÇÇ„ÅÑ„ÅÑ)<br>
            ‚Ä¢ In reported speech or indirect statements<br><br>
            <strong>Politeness Note:</strong> For formal or polite situations, use „Åæ„Åõ„Çì instead of „Å™„ÅÑ. The „Å™„ÅÑ form is the casual equivalent and should be reserved for informal contexts.
          </p>
        </div>

        <h3 class="section-title">Understanding Japanese Negation</h3>
        <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem; border-left: 4px solid #4a90a4;">
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            The negative form in Japanese works differently from English negation. Rather than adding separate negative words, Japanese modifies the verb ending itself. This creates a unified negative form that can then conjugate further‚Äîbecause „Å™„ÅÑ behaves grammatically like an „ÅÑ-adjective.
          </p>
          <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 1rem;">
            <strong>Key Insight:</strong> Once you form the „Å™„ÅÑ negative, you can treat it like an „ÅÑ-adjective:<br>
            ‚Ä¢ „Å™„ÅÑ ‚Üí „Å™„Åã„Å£„Åü (past negative)<br>
            ‚Ä¢ „Å™„ÅÑ ‚Üí „Å™„Åè„Å¶ (connective form)<br>
            ‚Ä¢ „Å™„ÅÑ ‚Üí „Å™„Åë„Çå„Å∞ (conditional negative)<br>
            ‚Ä¢ „Å™„ÅÑ ‚Üí „Å™„Åï„Åù„ÅÜ (seems like it won't...)
          </div>
          <p style="line-height: 1.8;">
            This adjective-like behavior makes the negative form incredibly versatile and explains why it appears in so many grammar patterns.
          </p>
        </div>

        <h3 class="section-title">How to Form the Negative ‚Äî Step by Step</h3>
        <table class="conj-table">
          <thead>
            <tr>
              <th>Verb Type</th>
              <th>Formation Rule</th>
              <th>Dictionary Form</th>
              <th>„Å™„ÅÑ Form</th>
              <th>Detailed Explanation</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td rowspan="3"><strong style="color: #4a90a4;">Godan</strong></td>
              <td rowspan="3">Change final „ÅÜ-row sound to „ÅÇ-row + „Å™„ÅÑ</td>
              <td class="jp">Ë©±„Åô (hanasu)</td>
              <td class="highlight jp">Ë©±„Åï„Å™„ÅÑ (hanasanai)</td>
              <td>„Åô ‚Üí „Åï + „Å™„ÅÑ</td>
            </tr>
            <tr>
              <td class="jp">È£≤„ÇÄ (nomu)</td>
              <td class="highlight jp">È£≤„Åæ„Å™„ÅÑ (nomanai)</td>
              <td>„ÇÄ ‚Üí „Åæ + „Å™„ÅÑ</td>
            </tr>
            <tr>
              <td class="jp">Ë≤∑„ÅÜ (kau)</td>
              <td class="highlight jp">Ë≤∑„Çè„Å™„ÅÑ (kawanai)</td>
              <td>„ÅÜ ‚Üí „Çè + „Å™„ÅÑ (special case)</td>
            </tr>
            <tr>
              <td rowspan="2"><strong style="color: var(--sage);">Ichidan</strong></td>
              <td rowspan="2">Drop „Çã + „Å™„ÅÑ</td>
              <td class="jp">È£ü„Åπ„Çã (taberu)</td>
              <td class="highlight jp">È£ü„Åπ„Å™„ÅÑ (tabenai)</td>
              <td>Remove „Çã entirely, add „Å™„ÅÑ</td>
            </tr>
            <tr>
              <td class="jp">Ë¶ã„Çã (miru)</td>
              <td class="highlight jp">Ë¶ã„Å™„ÅÑ (minai)</td>
              <td>Remove „Çã entirely, add „Å™„ÅÑ</td>
            </tr>
            <tr>
              <td rowspan="2"><strong style="color: #7a5ba4;">Suru</strong></td>
              <td rowspan="2">„Åô„Çã ‚Üí „Åó„Å™„ÅÑ</td>
              <td class="jp">„Åô„Çã (suru)</td>
              <td class="highlight jp">„Åó„Å™„ÅÑ (shinai)</td>
              <td>Irregular: memorize this form</td>
            </tr>
            <tr>
              <td class="jp">ÂãâÂº∑„Åô„Çã (benkyousuru)</td>
              <td class="highlight jp">ÂãâÂº∑„Åó„Å™„ÅÑ (benkyoushinai)</td>
              <td>Only „Åô„Çã part becomes „Åó„Å™„ÅÑ</td>
            </tr>
          </tbody>
        </table>

        <div style="background: #eef4f8; padding: 1.5rem; border-radius: 4px; margin-top: 1.5rem; margin-bottom: 2rem; border-left: 4px solid #4a90a4;">
          <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">Understanding Godan Negative Conjugation</div>
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            For Godan verbs, the negative form shifts from the „ÅÜ-row to the „ÅÇ-row of the same consonant column‚Äîexactly the opposite direction from the „Åæ„Åô form (which goes to „ÅÑ-row). Think of it as moving down one row in the hiragana chart:
          </p>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.75rem; font-size: 0.95rem;">
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Åè ‚Üí „Åã</strong><br>
              <span class="jp">Êõ∏„Åè ‚Üí Êõ∏„Åã„Å™„ÅÑ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">write ‚Üí don't write</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Åê ‚Üí „Åå</strong><br>
              <span class="jp">Ê≥≥„Åê ‚Üí Ê≥≥„Åå„Å™„ÅÑ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">swim ‚Üí don't swim</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Åô ‚Üí „Åï</strong><br>
              <span class="jp">Ë©±„Åô ‚Üí Ë©±„Åï„Å™„ÅÑ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">speak ‚Üí don't speak</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Å§ ‚Üí „Åü</strong><br>
              <span class="jp">ÂæÖ„Å§ ‚Üí ÂæÖ„Åü„Å™„ÅÑ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">wait ‚Üí don't wait</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Å¨ ‚Üí „Å™</strong><br>
              <span class="jp">Ê≠ª„Å¨ ‚Üí Ê≠ª„Å™„Å™„ÅÑ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">die ‚Üí don't die</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Å∂ ‚Üí „Å∞</strong><br>
              <span class="jp">ÈÅä„Å∂ ‚Üí ÈÅä„Å∞„Å™„ÅÑ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">play ‚Üí don't play</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„ÇÄ ‚Üí „Åæ</strong><br>
              <span class="jp">Ë™≠„ÇÄ ‚Üí Ë™≠„Åæ„Å™„ÅÑ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">read ‚Üí don't read</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Çã ‚Üí „Çâ</strong><br>
              <span class="jp">Â∏∞„Çã ‚Üí Â∏∞„Çâ„Å™„ÅÑ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">return ‚Üí don't return</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„ÅÜ ‚Üí „Çè</strong><br>
              <span class="jp">Ë≤∑„ÅÜ ‚Üí Ë≤∑„Çè„Å™„ÅÑ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">buy ‚Üí don't buy</span>
            </div>
          </div>
        </div>

        <h3 class="section-title">„Å™„ÅÑ Form Variations and Conjugations</h3>
        <div style="margin-bottom: 2rem;">
          <p style="margin-bottom: 1rem; line-height: 1.8;">
            Because „Å™„ÅÑ conjugates like an „ÅÑ-adjective, it creates several important variations that you'll use constantly in Japanese. All of these maintain the negative meaning while adding temporal or logical nuances:
          </p>
          
          <table class="conj-table">
            <thead>
              <tr>
                <th>Form</th>
                <th>Pattern</th>
                <th>Example: <span class="jp">Ë©±„Åô</span></th>
                <th>Meaning</th>
                <th>Usage Context</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Present Negative</strong></td>
                <td>Stem + „Å™„ÅÑ</td>
                <td class="highlight jp">Ë©±„Åï„Å™„ÅÑ</td>
                <td>don't speak</td>
                <td>Current habit or general truth</td>
              </tr>
              <tr>
                <td><strong>Past Negative</strong></td>
                <td>Stem + „Å™„Åã„Å£„Åü</td>
                <td class="highlight jp">Ë©±„Åï„Å™„Åã„Å£„Åü</td>
                <td>didn't speak</td>
                <td>Completed non-action in past</td>
              </tr>
              <tr>
                <td><strong>Connective</strong></td>
                <td>Stem + „Å™„Åè„Å¶</td>
                <td class="highlight jp">Ë©±„Åï„Å™„Åè„Å¶</td>
                <td>not speaking and...</td>
                <td>Connecting negative clauses</td>
              </tr>
              <tr>
                <td><strong>Conditional</strong></td>
                <td>Stem + „Å™„Åë„Çå„Å∞</td>
                <td class="highlight jp">Ë©±„Åï„Å™„Åë„Çå„Å∞</td>
                <td>if don't speak</td>
                <td>Negative condition</td>
              </tr>
              <tr>
                <td><strong>Obligation</strong></td>
                <td>Stem + „Å™„Åë„Çå„Å∞„Å™„Çâ„Å™„ÅÑ</td>
                <td class="highlight jp">Ë©±„Åï„Å™„Åë„Çå„Å∞„Å™„Çâ„Å™„ÅÑ</td>
                <td>must speak</td>
                <td>Double negative = obligation</td>
              </tr>
              <tr>
                <td><strong>Permission</strong></td>
                <td>Stem + „Å™„Åè„Å¶„ÇÇ„ÅÑ„ÅÑ</td>
                <td class="highlight jp">Ë©±„Åï„Å™„Åè„Å¶„ÇÇ„ÅÑ„ÅÑ</td>
                <td>don't have to speak</td>
                <td>Permission to not do</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="info-box yellow">
          <div class="info-box-title">‚ö†Ô∏è Critical Exception: „ÅÇ„Çã (to exist)</div>
          <p class="info-box-text" style="line-height: 1.8;">
            The verb „ÅÇ„Çã (to exist/have) is highly irregular in the negative. Instead of following the standard godan pattern (which would give „ÅÇ„Çâ„Å™„ÅÑ), it becomes:<br><br>
            <span class="jp">„ÅÇ„Çã ‚Üí „Å™„ÅÑ</span> (NOT „ÅÇ„Çâ„Å™„ÅÑ)<br><br>
            This is one of the most common errors Japanese learners make. The negative form of „ÅÇ„Çã completely replaces the verb:<br><br>
            <strong>Examples:</strong><br>
            ‚Ä¢ <span class="jp">ÊôÇÈñì„Åå„Å™„ÅÑ</span> ‚Äî There's no time (NOT ÊôÇÈñì„Åå„ÅÇ„Çâ„Å™„ÅÑ)<br>
            ‚Ä¢ <span class="jp">„ÅäÈáë„Åå„Å™„Åã„Å£„Åü</span> ‚Äî There was no money<br>
            ‚Ä¢ <span class="jp">ÂïèÈ°å„Åå„Å™„Åë„Çå„Å∞</span> ‚Äî If there's no problem<br><br>
            <strong>Note:</strong> The verb „ÅÑ„Çã (animate existence) DOES follow regular conjugation: „ÅÑ„Çã ‚Üí „ÅÑ„Å™„ÅÑ
          </p>
        </div>

        <h3 class="section-title">Common Grammar Patterns Using „Å™„ÅÑ</h3>
        <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem;">
          <p style="line-height: 1.8; margin-bottom: 1.5rem;">
            The negative form serves as the foundation for many essential grammar patterns. Here are the most frequently used ones:
          </p>
          
          <div style="display: grid; gap: 1rem;">
            <div style="background: white; padding: 1rem; border-radius: 4px; border-left: 3px solid #4a90a4;">
              <div style="font-weight: 700; margin-bottom: 0.5rem;">„Äú„Å™„ÅÑ„Åß (without doing / don't... and)</div>
              <div style="font-size: 0.95rem; line-height: 1.7;">
                <span class="jp">ÂãâÂº∑„Åó„Å™„ÅÑ„ÅßÂØù„Åü</span> ‚Äî Slept without studying<br>
                <span class="jp">Êúù„ÅîÈ£Ø„ÇíÈ£ü„Åπ„Å™„ÅÑ„ÅßÂ≠¶Ê†°„Å´Ë°å„Å£„Åü</span> ‚Äî Went to school without eating breakfast
              </div>
            </div>
            
            <div style="background: white; padding: 1rem; border-radius: 4px; border-left: 3px solid #4a90a4;">
              <div style="font-weight: 700; margin-bottom: 0.5rem;">„Äú„Å™„Åë„Çå„Å∞„Å™„Çâ„Å™„ÅÑ / „Äú„Å™„Åè„Å¶„ÅØ„ÅÑ„Åë„Å™„ÅÑ (must/have to)</div>
              <div style="font-size: 0.95rem; line-height: 1.7;">
                <span class="jp">ÂÆøÈ°å„Çí„Åó„Å™„Åë„Çå„Å∞„Å™„Çâ„Å™„ÅÑ</span> ‚Äî Must do homework<br>
                <span class="jp">Êó©„ÅèËµ∑„Åç„Å™„Åè„Å¶„ÅØ„ÅÑ„Åë„Å™„ÅÑ</span> ‚Äî Have to wake up early
              </div>
            </div>
            
            <div style="background: white; padding: 1rem; border-radius: 4px; border-left: 3px solid #4a90a4;">
              <div style="font-weight: 700; margin-bottom: 0.5rem;">„Äú„Å™„Åè„Å¶„ÇÇ„ÅÑ„ÅÑ (don't have to / it's okay not to)</div>
              <div style="font-size: 0.95rem; line-height: 1.7;">
                <span class="jp">‰ªäÊó•„ÅØÊù•„Å™„Åè„Å¶„ÇÇ„ÅÑ„ÅÑ„Åß„Åô</span> ‚Äî You don't have to come today<br>
                <span class="jp">ÁÑ°ÁêÜ„Åó„Å™„Åè„Å¶„ÇÇ„ÅÑ„ÅÑ„Çà</span> ‚Äî You don't have to push yourself
              </div>
            </div>
            
            <div style="background: white; padding: 1rem; border-radius: 4px; border-left: 3px solid #4a90a4;">
              <div style="font-weight: 700; margin-bottom: 0.5rem;">„Äú„Å™„ÅÑ„Å®„ÅÑ„Åë„Å™„ÅÑ (must / have to - colloquial)</div>
              <div style="font-size: 0.95rem; line-height: 1.7;">
                <span class="jp">„ÇÇ„ÅÜÂ∏∞„Çâ„Å™„ÅÑ„Å®„ÅÑ„Åë„Å™„ÅÑ</span> ‚Äî I have to go home now<br>
                <span class="jp">Ëñ¨„ÇíÈ£≤„Åæ„Å™„ÅÑ„Å®„ÅÑ„Åë„Å™„ÅÑ</span> ‚Äî I have to take medicine
              </div>
            </div>
          </div>
        </div>

        <h3 class="section-title">Practical Usage Examples in Context</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 2rem;">
          <div style="line-height: 1.9;">
            <strong>Daily Life:</strong><br>
            ‚Ä¢ <span class="jp">‰ªäÊó•„ÅØÂ≠¶Ê†°„Å´Ë°å„Åã„Å™„ÅÑ</span> ‚Äî I'm not going to school today<br>
            ‚Ä¢ <span class="jp">„Ç≥„Éº„Éí„Éº„ÅØÈ£≤„Åæ„Å™„ÅÑ</span> ‚Äî I don't drink coffee<br>
            ‚Ä¢ <span class="jp">„Åæ„Å†ÂÆøÈ°å„Çí„Åó„Å¶„ÅÑ„Å™„ÅÑ</span> ‚Äî I haven't done homework yet<br><br>
            
            <strong>Preferences & Abilities:</strong><br>
            ‚Ä¢ <span class="jp">È≠ö„ÅØÂ•Ω„Åç„Åò„ÇÉ„Å™„ÅÑ</span> ‚Äî I don't like fish<br>
            ‚Ä¢ <span class="jp">Êó•Êú¨Ë™û„ÅåÂàÜ„Åã„Çâ„Å™„ÅÑ</span> ‚Äî I don't understand Japanese<br>
            ‚Ä¢ <span class="jp">Êº¢Â≠ó„ÅåË™≠„ÇÅ„Å™„ÅÑ</span> ‚Äî I can't read kanji<br><br>
            
            <strong>Past Actions:</strong><br>
            ‚Ä¢ <span class="jp">Êò®Êó•„ÅØ‰Ωï„ÇÇ„Åó„Å™„Åã„Å£„Åü</span> ‚Äî I didn't do anything yesterday<br>
            ‚Ä¢ <span class="jp">ÂΩº„ÅØÊù•„Å™„Åã„Å£„Åü</span> ‚Äî He didn't come<br>
            ‚Ä¢ <span class="jp">„ÉÜ„Çπ„Éà„ÅÆÂãâÂº∑„Çí„Åó„Å™„Åã„Å£„Åü</span> ‚Äî I didn't study for the test<br><br>
            
            <strong>Requesting/Prohibiting:</strong><br>
            ‚Ä¢ <span class="jp">ÂøÉÈÖç„Åó„Å™„ÅÑ„Åß</span> ‚Äî Don't worry<br>
            ‚Ä¢ <span class="jp">Âøò„Çå„Å™„ÅÑ„Åß„Å≠</span> ‚Äî Don't forget, okay?<br>
            ‚Ä¢ <span class="jp">ÁÑ°ÁêÜ„Åó„Å™„ÅÑ„Åß„Åè„Å†„Åï„ÅÑ</span> ‚Äî Please don't overdo it
          </div>
        </div>

        <div class="info-box yellow">
          <div class="info-box-title">üí° Learning Tips for Mastery</div>
          <p class="info-box-text" style="line-height: 1.8;">
            <strong>1. Connect to „Åæ„Åô form:</strong> The negative uses the „ÅÇ-row, while „Åæ„Åô uses „ÅÑ-row. Both start from the same verb stem concept.<br><br>
            <strong>2. Practice the sound changes:</strong> Say the conjugations out loud to internalize the pattern („Åè‚Üí„Åã, „Åô‚Üí„Åï, „ÇÄ‚Üí„Åæ, etc.)<br><br>
            <strong>3. Remember „ÅÇ„Çã's exception:</strong> This is the #1 mistake learners make. Always use „Å™„ÅÑ, never „ÅÇ„Çâ„Å™„ÅÑ.<br><br>
            <strong>4. Memorize common patterns:</strong> The grammar patterns („Äú„Å™„ÅÑ„Åß„ÄÅ„Äú„Å™„Åë„Çå„Å∞„ÄÅetc.) are essential for natural Japanese.<br><br>
            <strong>5. Listen for it:</strong> The negative form appears constantly in anime, dramas, and everyday conversation. Train your ear to recognize it.
          </p>
        </div>
      </div>

      <!-- TAI FORM TAB -->
      <div id="tab-tai" class="form-card">
        <h2 class="form-card-title jp">„Åü„ÅÑÂΩ¢ ‚Äî The Desiderative Form (Want To)</h2>
        <p class="form-card-desc">
          The „Åü„ÅÑ form (È°òÊúõÂΩ¢ ganb≈çkei) is the Japanese desiderative form, expressing the speaker's personal desires, wishes, and wants. It's one of the most useful and frequently used forms for expressing what you want to do. Unlike English, which uses a separate word ("want"), Japanese attaches „Åü„ÅÑ directly to the verb stem, creating a single word that means "want to [verb]." Understanding „Åü„ÅÑ is essential for expressing your needs and preferences in Japanese conversation.
        </p>

        <div class="info-box blue">
          <div class="info-box-title">When and How to Use „Åü„ÅÑ</div>
          <p class="info-box-text" style="line-height: 1.9;">
            <strong>Primary Uses:</strong><br>
            ‚Ä¢ Expressing your own desires and wants<br>
            ‚Ä¢ Asking about the listener's desires (questions only)<br>
            ‚Ä¢ Making suggestions based on desires<br>
            ‚Ä¢ Expressing wishes and aspirations<br>
            ‚Ä¢ Comparing preferences<br><br>
            <strong>Critical Limitation:</strong> „Åü„ÅÑ can ONLY be used for the speaker's own desires (first person) or in questions to the listener (second person). For third person ("he wants to..."), you must use „Åü„Åå„Çã instead.<br><br>
            <strong>Formality:</strong> „Åü„ÅÑ is casual. For polite speech, add „Åß„Åô: „Åü„ÅÑ„Åß„Åô
          </p>
        </div>

        <h3 class="section-title">Understanding the „Åü„ÅÑ Form</h3>
        <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem; border-left: 4px solid var(--sage);">
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            The „Åü„ÅÑ form is remarkably straightforward because it uses the exact same stem as the „Åæ„Åô form. If you know how to make „Åæ„Åô, you already know 90% of how to make „Åü„ÅÑ‚Äîjust replace „Åæ„Åô with „Åü„ÅÑ.
          </p>
          <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 1rem;">
            <strong>The Connection:</strong><br>
            <span class="jp">È£ü„Åπ„Åæ„Åô</span> (tabemasu) ‚Üí <span class="jp">È£ü„Åπ</span> (stem) ‚Üí <span class="jp">È£ü„Åπ„Åü„ÅÑ</span> (tabetai)<br>
            <span class="jp">Ë°å„Åç„Åæ„Åô</span> (ikimasu) ‚Üí <span class="jp">Ë°å„Åç</span> (stem) ‚Üí <span class="jp">Ë°å„Åç„Åü„ÅÑ</span> (ikitai)<br>
            <span class="jp">ÂãâÂº∑„Åó„Åæ„Åô</span> (benkyoushimasu) ‚Üí <span class="jp">ÂãâÂº∑„Åó</span> (stem) ‚Üí <span class="jp">ÂãâÂº∑„Åó„Åü„ÅÑ</span> (benkyoushitai)
          </div>
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            <strong>Grammatical Nature:</strong> Once „Åü„ÅÑ is attached, the whole form conjugates like an „ÅÑ-adjective, not a verb. This means it follows adjective conjugation patterns:
          </p>
          <div style="background: white; padding: 1rem; border-radius: 4px;">
            ‚Ä¢ Present: „Åü„ÅÑ (want to)<br>
            ‚Ä¢ Past: „Åü„Åã„Å£„Åü (wanted to)<br>
            ‚Ä¢ Negative: „Åü„Åè„Å™„ÅÑ (don't want to)<br>
            ‚Ä¢ Negative Past: „Åü„Åè„Å™„Åã„Å£„Åü (didn't want to)
          </div>
        </div>

        <h3 class="section-title">How to Form „Åü„ÅÑ ‚Äî Complete Guide</h3>
        <table class="conj-table">
          <thead>
            <tr>
              <th>Verb Type</th>
              <th>Formation Rule</th>
              <th>Dictionary Form</th>
              <th>„Åü„ÅÑ Form</th>
              <th>Detailed Explanation</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td rowspan="3"><strong style="color: #4a90a4;">Godan</strong></td>
              <td rowspan="3">Change final „ÅÜ-row to „ÅÑ-row + „Åü„ÅÑ</td>
              <td class="jp">Ë°å„Åè (iku)</td>
              <td class="highlight jp">Ë°å„Åç„Åü„ÅÑ (ikitai)</td>
              <td>„Åè ‚Üí „Åç + „Åü„ÅÑ</td>
            </tr>
            <tr>
              <td class="jp">È£≤„ÇÄ (nomu)</td>
              <td class="highlight jp">È£≤„Åø„Åü„ÅÑ (nomitai)</td>
              <td>„ÇÄ ‚Üí „Åø + „Åü„ÅÑ</td>
            </tr>
            <tr>
              <td class="jp">Ë≤∑„ÅÜ (kau)</td>
              <td class="highlight jp">Ë≤∑„ÅÑ„Åü„ÅÑ (kaitai)</td>
              <td>„ÅÜ ‚Üí „ÅÑ + „Åü„ÅÑ</td>
            </tr>
            <tr>
              <td rowspan="2"><strong style="color: var(--sage);">Ichidan</strong></td>
              <td rowspan="2">Drop „Çã + „Åü„ÅÑ</td>
              <td class="jp">È£ü„Åπ„Çã (taberu)</td>
              <td class="highlight jp">È£ü„Åπ„Åü„ÅÑ (tabetai)</td>
              <td>Remove „Çã completely, add „Åü„ÅÑ</td>
            </tr>
            <tr>
              <td class="jp">Ë¶ã„Çã (miru)</td>
              <td class="highlight jp">Ë¶ã„Åü„ÅÑ (mitai)</td>
              <td>Remove „Çã completely, add „Åü„ÅÑ</td>
            </tr>
            <tr>
              <td rowspan="2"><strong style="color: #7a5ba4;">Suru</strong></td>
              <td rowspan="2">„Åô„Çã ‚Üí „Åó„Åü„ÅÑ</td>
              <td class="jp">„Åô„Çã (suru)</td>
              <td class="highlight jp">„Åó„Åü„ÅÑ (shitai)</td>
              <td>Irregular: memorize this</td>
            </tr>
            <tr>
              <td class="jp">ÊóÖË°å„Åô„Çã (ryokousuru)</td>
              <td class="highlight jp">ÊóÖË°å„Åó„Åü„ÅÑ (ryokoushitai)</td>
              <td>Only „Åô„Çã becomes „Åó„Åü„ÅÑ</td>
            </tr>
          </tbody>
        </table>

        <div style="background: #eef5ef; padding: 1.5rem; border-radius: 4px; margin-top: 1.5rem; margin-bottom: 2rem; border-left: 4px solid var(--sage);">
          <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">Memory Trick: „Åü„ÅÑ = „Åæ„Åô-stem + „Åü„ÅÑ</div>
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            The easiest way to remember „Åü„ÅÑ conjugation is to think of it as replacing „Åæ„Åô with „Åü„ÅÑ. The stem (the part before „Åæ„Åô) stays exactly the same:
          </p>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.75rem; font-size: 0.95rem;">
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>Êõ∏„Åç„Åæ„Åô ‚Üí Êõ∏„Åç„Åü„ÅÑ</strong><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">want to write</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>Ê≥≥„Åé„Åæ„Åô ‚Üí Ê≥≥„Åé„Åü„ÅÑ</strong><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">want to swim</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>ÂæÖ„Å°„Åæ„Åô ‚Üí ÂæÖ„Å°„Åü„ÅÑ</strong><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">want to wait</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>Ë™≠„Åø„Åæ„Åô ‚Üí Ë™≠„Åø„Åü„ÅÑ</strong><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">want to read</span>
            </div>
          </div>
        </div>

        <h3 class="section-title">Complete „Åü„ÅÑ Conjugation Chart</h3>
        <div style="margin-bottom: 2rem;">
          <p style="margin-bottom: 1rem; line-height: 1.8;">
            Remember: „Åü„ÅÑ conjugates like an „ÅÑ-adjective. Here are all the forms you need to know:
          </p>
          
          <table class="conj-table">
            <thead>
              <tr>
                <th>Form</th>
                <th>Pattern</th>
                <th>Example: <span class="jp">È£ü„Åπ„Çã</span></th>
                <th>Meaning</th>
                <th>Usage</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Present</strong></td>
                <td>Stem + „Åü„ÅÑ</td>
                <td class="highlight jp">È£ü„Åπ„Åü„ÅÑ</td>
                <td>want to eat</td>
                <td>Current desire</td>
              </tr>
              <tr>
                <td><strong>Present Polite</strong></td>
                <td>Stem + „Åü„ÅÑ„Åß„Åô</td>
                <td class="highlight jp">È£ü„Åπ„Åü„ÅÑ„Åß„Åô</td>
                <td>want to eat (polite)</td>
                <td>Formal situations</td>
              </tr>
              <tr>
                <td><strong>Past</strong></td>
                <td>Stem + „Åü„Åã„Å£„Åü</td>
                <td class="highlight jp">È£ü„Åπ„Åü„Åã„Å£„Åü</td>
                <td>wanted to eat</td>
                <td>Past desire</td>
              </tr>
              <tr>
                <td><strong>Past Polite</strong></td>
                <td>Stem + „Åü„Åã„Å£„Åü„Åß„Åô</td>
                <td class="highlight jp">È£ü„Åπ„Åü„Åã„Å£„Åü„Åß„Åô</td>
                <td>wanted to eat (polite)</td>
                <td>Formal past desire</td>
              </tr>
              <tr>
                <td><strong>Negative</strong></td>
                <td>Stem + „Åü„Åè„Å™„ÅÑ</td>
                <td class="highlight jp">È£ü„Åπ„Åü„Åè„Å™„ÅÑ</td>
                <td>don't want to eat</td>
                <td>Lack of desire</td>
              </tr>
              <tr>
                <td><strong>Negative Polite</strong></td>
                <td>Stem + „Åü„Åè„Å™„ÅÑ„Åß„Åô</td>
                <td class="highlight jp">È£ü„Åπ„Åü„Åè„Å™„ÅÑ„Åß„Åô</td>
                <td>don't want to eat (polite)</td>
                <td>Formal negative</td>
              </tr>
              <tr>
                <td><strong>Negative Past</strong></td>
                <td>Stem + „Åü„Åè„Å™„Åã„Å£„Åü</td>
                <td class="highlight jp">È£ü„Åπ„Åü„Åè„Å™„Åã„Å£„Åü</td>
                <td>didn't want to eat</td>
                <td>Past lack of desire</td>
              </tr>
              <tr>
                <td><strong>Negative Past Polite</strong></td>
                <td>Stem + „Åü„Åè„Å™„Åã„Å£„Åü„Åß„Åô</td>
                <td class="highlight jp">È£ü„Åπ„Åü„Åè„Å™„Åã„Å£„Åü„Åß„Åô</td>
                <td>didn't want to eat (polite)</td>
                <td>Formal negative past</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="info-box yellow">
          <div class="info-box-title">üìù Particle Changes with „Åü„ÅÑ</div>
          <p class="info-box-text" style="line-height: 1.8;">
            <strong>Important Grammar Point:</strong> When using „Åü„ÅÑ, the direct object particle can change from „Çí to „Åå. Both are grammatically correct, but they have slightly different nuances:<br><br>
            
            <strong>Using „Çí (neutral):</strong><br>
            <span class="jp">Ê∞¥<strong>„Çí</strong>È£≤„Åø„Åü„ÅÑ</span> ‚Äî I want to drink water<br>
            This focuses on the action (drinking) as the main point.<br><br>
            
            <strong>Using „Åå (emphasized):</strong><br>
            <span class="jp">Ê∞¥<strong>„Åå</strong>È£≤„Åø„Åü„ÅÑ</span> ‚Äî I want to drink water<br>
            This emphasizes the object (water) as what you desire.<br><br>
            
            <strong>Rule of thumb:</strong> Use „Åå when the object itself is the focus of your desire ("I want WATER"). Use „Çí when emphasizing the action of doing something. In practice, both are common and interchangeable in many contexts.
          </p>
        </div>

        <h3 class="section-title">Third Person: Using „Åü„Åå„Çã</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 2rem; border-left: 4px solid #ff9800;">
          <div style="font-weight: 700; margin-bottom: 0.75rem; color: var(--ink);">When You Can't Use „Åü„ÅÑ</div>
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            You cannot use „Åü„ÅÑ to describe someone else's desires (third person). This is because „Åü„ÅÑ expresses internal feelings that you can only know about yourself. For third person, use <strong>„Åü„Åå„Çã</strong> (showing signs of wanting):
          </p>
          <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 1rem;">
            <strong>First Person (‚úì):</strong><br>
            <span class="jp">ÁßÅ„ÅØÊó•Êú¨„Å´Ë°å„Åç„Åü„ÅÑ</span> ‚Äî I want to go to Japan<br><br>
            
            <strong>Second Person in Questions (‚úì):</strong><br>
            <span class="jp">‰Ωï„ÅåÈ£ü„Åπ„Åü„ÅÑÔºü</span> ‚Äî What do you want to eat?<br><br>
            
            <strong>Third Person with „Åü„ÅÑ (‚úó):</strong><br>
            <span class="jp">ÂΩº„ÅØÊó•Êú¨„Å´Ë°å„Åç„Åü„ÅÑ</span> ‚Äî ‚úó Wrong<br><br>
            
            <strong>Third Person with „Åü„Åå„Çã (‚úì):</strong><br>
            <span class="jp">ÂΩº„ÅØÊó•Êú¨„Å´Ë°å„Åç„Åü„Åå„Å£„Å¶„ÅÑ„Çã</span> ‚Äî He wants to go to Japan (showing signs)<br>
            <span class="jp">Â≠ê‰æõ„ÅØ„Ç¢„Ç§„Çπ„ÇíÈ£ü„Åπ„Åü„Åå„Çã</span> ‚Äî Children want to eat ice cream
          </p>
          <p style="line-height: 1.8; font-size: 0.95rem;">
            <strong>Note:</strong> „Åü„Åå„Çã conjugates as a regular godan verb („Åü„Åå„Çã ‚Üí „Åü„Åå„Çä„Åæ„Åô ‚Üí „Åü„Åå„Å£„Åü, etc.)
          </p>
        </div>

        <h3 class="section-title">Practical Usage Examples in Context</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 2rem;">
          <div style="line-height: 1.9;">
            <strong>Travel & Activities:</strong><br>
            ‚Ä¢ <span class="jp">Êó•Êú¨„Å´Ë°å„Åç„Åü„ÅÑ</span> ‚Äî I want to go to Japan<br>
            ‚Ä¢ <span class="jp">ÂØåÂ£´Â±±„Å´Áôª„Çä„Åü„ÅÑ</span> ‚Äî I want to climb Mt. Fuji<br>
            ‚Ä¢ <span class="jp">Ê∏©Ê≥â„Å´ÂÖ•„Çä„Åü„ÅÑ</span> ‚Äî I want to enter a hot spring<br><br>
            
            <strong>Food & Drink:</strong><br>
            ‚Ä¢ <span class="jp">ÂØøÂè∏„ÅåÈ£ü„Åπ„Åü„ÅÑ</span> ‚Äî I want to eat sushi<br>
            ‚Ä¢ <span class="jp">„Ç≥„Éº„Éí„Éº„ÅåÈ£≤„Åø„Åü„ÅÑ</span> ‚Äî I want to drink coffee<br>
            ‚Ä¢ <span class="jp">„É©„Éº„É°„É≥„ÇíÈ£ü„Åπ„Åü„Åã„Å£„Åü</span> ‚Äî I wanted to eat ramen<br><br>
            
            <strong>Entertainment:</strong><br>
            ‚Ä¢ <span class="jp">Êò†Áîª„ÇíË¶ã„Åü„ÅÑ</span> ‚Äî I want to watch a movie<br>
            ‚Ä¢ <span class="jp">Èü≥Ê•Ω„ÇíËÅû„Åç„Åü„ÅÑ</span> ‚Äî I want to listen to music<br>
            ‚Ä¢ <span class="jp">„Ç≤„Éº„É†„Åå„Åó„Åü„ÅÑ</span> ‚Äî I want to play games<br><br>
            
            <strong>Learning & Work:</strong><br>
            ‚Ä¢ <span class="jp">Êó•Êú¨Ë™û„ÇíÂãâÂº∑„Åó„Åü„ÅÑ</span> ‚Äî I want to study Japanese<br>
            ‚Ä¢ <span class="jp">„ÇÇ„Å£„Å®Á∑¥Áøí„Åó„Åü„ÅÑ</span> ‚Äî I want to practice more<br>
            ‚Ä¢ <span class="jp">Êó©„ÅèÂ∏∞„Çä„Åü„ÅÑ</span> ‚Äî I want to go home early<br><br>
            
            <strong>Negative Desires:</strong><br>
            ‚Ä¢ <span class="jp">Ë°å„Åç„Åü„Åè„Å™„ÅÑ</span> ‚Äî I don't want to go<br>
            ‚Ä¢ <span class="jp">ÂãâÂº∑„Åó„Åü„Åè„Å™„Åã„Å£„Åü</span> ‚Äî I didn't want to study<br>
            ‚Ä¢ <span class="jp">Ë™∞„Å´„ÇÇ‰ºö„ÅÑ„Åü„Åè„Å™„ÅÑ</span> ‚Äî I don't want to meet anyone
          </div>
        </div>

        <div class="info-box yellow">
          <div class="info-box-title">üí° Mastery Tips for „Åü„ÅÑ Form</div>
          <p class="info-box-text" style="line-height: 1.8;">
            <strong>1. Practice with „Åæ„Åô first:</strong> Get comfortable with „Åæ„Åô conjugation, and „Åü„ÅÑ will come naturally.<br><br>
            <strong>2. Remember it's an adjective:</strong> Once you add „Åü„ÅÑ, conjugate it like „Åü„Åã„ÅÑ„ÄÅÂØí„ÅÑ„ÄÅetc.<br><br>
            <strong>3. Use „Åå for strong desires:</strong> When you REALLY want something, using „Åå emphasizes your desire.<br><br>
            <strong>4. Master „Åü„Åå„Çã early:</strong> You'll need it often to talk about others' desires.<br><br>
            <strong>5. Listen for it everywhere:</strong> „Åü„ÅÑ is one of the most common forms in conversation, so train your ear to recognize it.
          </p>
        </div>
      </div>
      </div>

      <!-- POTENTIAL FORM TAB -->
      <div id="tab-potential" class="form-card">
        <h2 class="form-card-title jp">ÂèØËÉΩÂΩ¢ ‚Äî The Potential Form (Can/Able To)</h2>
        <p class="form-card-desc">
          The potential form (ÂèØËÉΩÂΩ¢ kan≈çkei) expresses ability, possibility, or permission‚Äîessentially meaning "can do" or "is able to do" something. It's one of the most essential forms in Japanese for expressing capabilities, asking about possibilities, and describing what's feasible. Unlike English, which uses separate helper words like "can" or "able to," Japanese creates potential meaning by conjugating the verb itself into a new form that functions as an independent verb.
        </p>

        <div class="info-box blue">
          <div class="info-box-title">Three Main Uses of Potential Form</div>
          <p class="info-box-text" style="line-height: 1.9;">
            <strong>1. Physical/Mental Ability:</strong><br>
            „ÄÄ<span class="jp">Êó•Êú¨Ë™û„ÅåË©±„Åõ„Åæ„Åô</span> ‚Äî I can speak Japanese<br>
            „ÄÄ<span class="jp">Ê≥≥„Åí„Å™„ÅÑ</span> ‚Äî Can't swim<br><br>
            <strong>2. Possibility/Circumstance:</strong><br>
            „ÄÄ<span class="jp">ÊòéÊó•Ë°å„Åë„Åæ„Åô</span> ‚Äî I can go tomorrow (it's possible)<br>
            „ÄÄ<span class="jp">„Åì„Åì„ÅßÂÜôÁúü„ÅåÊíÆ„Çå„Çã</span> ‚Äî You can take photos here<br><br>
            <strong>3. Permission (soft):</strong><br>
            „ÄÄ<span class="jp">ÂÖ•„Çå„Åæ„Åô„ÅãÔºü</span> ‚Äî Can I enter? (May I?)<br>
            „ÄÄ<span class="jp">‰Ωø„Åà„Åæ„Åô„ÅãÔºü</span> ‚Äî Can I use this?
          </p>
        </div>

        <h3 class="section-title">Understanding Potential Verbs</h3>
        <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem; border-left: 4px solid #4a90a4;">
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            <strong>Critical Grammar Point:</strong> Potential verbs in Japanese are intransitive‚Äîthey cannot take a direct object with „Çí. Instead, the object uses the particle „Åå.
          </p>
          <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 1rem;">
            <strong>Original transitive verb:</strong><br>
            <span class="jp">Êó•Êú¨Ë™û<strong>„Çí</strong>Ë©±„Åô</span> ‚Äî speak Japanese („Çí = direct object)<br><br>
            <strong>Potential intransitive verb:</strong><br>
            <span class="jp">Êó•Êú¨Ë™û<strong>„Åå</strong>Ë©±„Åõ„Çã</span> ‚Äî can speak Japanese („Åå = subject)<br><br>
            The particle change reflects that "Japanese" becomes the grammatical subject of "is speakable (by me)."
          </div>
          <p style="line-height: 1.8;">
            This is one of the most common mistakes learners make‚Äîusing „Çí with potential forms. Always remember: potential form + „Åå (not „Çí).
          </p>
        </div>

        <h3 class="section-title">How to Form the Potential ‚Äî Complete Guide</h3>
        <table class="conj-table">
          <thead>
            <tr>
              <th>Verb Type</th>
              <th>Formation Rule</th>
              <th>Dictionary Form</th>
              <th>Potential Form</th>
              <th>Detailed Explanation</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td rowspan="3"><strong style="color: #4a90a4;">Godan</strong></td>
              <td rowspan="3">Change „ÅÜ-row to „Åà-row + „Çã</td>
              <td class="jp">Êõ∏„Åè (kaku)</td>
              <td class="highlight jp">Êõ∏„Åë„Çã (kakeru)</td>
              <td>„Åè ‚Üí „Åë + „Çã</td>
            </tr>
            <tr>
              <td class="jp">È£≤„ÇÄ (nomu)</td>
              <td class="highlight jp">È£≤„ÇÅ„Çã (nomeru)</td>
              <td>„ÇÄ ‚Üí „ÇÅ + „Çã</td>
            </tr>
            <tr>
              <td class="jp">Ë©±„Åô (hanasu)</td>
              <td class="highlight jp">Ë©±„Åõ„Çã (hanaseru)</td>
              <td>„Åô ‚Üí „Åõ + „Çã</td>
            </tr>
            <tr>
              <td rowspan="2"><strong style="color: var(--sage);">Ichidan</strong></td>
              <td rowspan="2">Drop „Çã + „Çâ„Çå„Çã</td>
              <td class="jp">È£ü„Åπ„Çã (taberu)</td>
              <td class="highlight jp">È£ü„Åπ„Çâ„Çå„Çã (taberareru)</td>
              <td>Remove „Çã, add „Çâ„Çå„Çã</td>
            </tr>
            <tr>
              <td class="jp">Ë¶ã„Çã (miru)</td>
              <td class="highlight jp">Ë¶ã„Çâ„Çå„Çã (mirareru)</td>
              <td>Remove „Çã, add „Çâ„Çå„Çã</td>
            </tr>
            <tr>
              <td rowspan="2"><strong style="color: #7a5ba4;">Suru</strong></td>
              <td rowspan="2">„Åô„Çã ‚Üí „Åß„Åç„Çã</td>
              <td class="jp">ÈÅãËª¢„Åô„Çã (untensuru)</td>
              <td class="highlight jp">ÈÅãËª¢„Åß„Åç„Çã (untendekiru)</td>
              <td>„Åô„Çã becomes „Åß„Åç„Çã</td>
            </tr>
            <tr>
              <td class="jp">ÊñôÁêÜ„Åô„Çã (ryourisuru)</td>
              <td class="highlight jp">ÊñôÁêÜ„Åß„Åç„Çã (ryouridekiru)</td>
              <td>„Åô„Çã becomes „Åß„Åç„Çã</td>
            </tr>
          </tbody>
        </table>

        <div style="background: #eef4f8; padding: 1.5rem; border-radius: 4px; margin-top: 1.5rem; margin-bottom: 2rem; border-left: 4px solid #4a90a4;">
          <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">Godan Potential: Creates Ichidan-Looking Verbs</div>
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            When you make godan verbs potential, they shift to the „Åà-row + „Çã, creating verbs that look and conjugate like ichidan verbs. This is actually helpful because it means potential forms of godan verbs follow simple, regular patterns:
          </p>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.75rem; font-size: 0.95rem;">
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Åè ‚Üí „Åë„Çã</strong><br>
              <span class="jp">ËÅû„Åè ‚Üí ËÅû„Åë„Çã</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">can hear/listen</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Åê ‚Üí „Åí„Çã</strong><br>
              <span class="jp">Ê≥≥„Åê ‚Üí Ê≥≥„Åí„Çã</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">can swim</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Åô ‚Üí „Åõ„Çã</strong><br>
              <span class="jp">Ë©±„Åô ‚Üí Ë©±„Åõ„Çã</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">can speak</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Å§ ‚Üí „Å¶„Çã</strong><br>
              <span class="jp">ÊåÅ„Å§ ‚Üí ÊåÅ„Å¶„Çã</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">can hold</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Å¨ ‚Üí „Å≠„Çã</strong><br>
              <span class="jp">Ê≠ª„Å¨ ‚Üí Ê≠ª„Å≠„Çã</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">can die</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Å∂ ‚Üí „Åπ„Çã</strong><br>
              <span class="jp">ÈÅä„Å∂ ‚Üí ÈÅä„Åπ„Çã</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">can play</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„ÇÄ ‚Üí „ÇÅ„Çã</strong><br>
              <span class="jp">Ë™≠„ÇÄ ‚Üí Ë™≠„ÇÅ„Çã</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">can read</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Çã ‚Üí „Çå„Çã</strong><br>
              <span class="jp">Âàá„Çã ‚Üí Âàá„Çå„Çã</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">can cut</span>
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„ÅÜ ‚Üí „Åà„Çã</strong><br>
              <span class="jp">Ë≤∑„ÅÜ ‚Üí Ë≤∑„Åà„Çã</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">can buy</span>
            </div>
          </div>
        </div>

        <div class="info-box yellow">
          <div class="info-box-title">‚ö†Ô∏è Ambiguity: Potential vs. Passive for Ichidan Verbs</div>
          <p class="info-box-text" style="line-height: 1.8;">
            For ichidan verbs, the potential form („Çâ„Çå„Çã) and the passive form („Çâ„Çå„Çã) look exactly the same. Only context tells them apart:<br><br>
            <span class="jp">„Åì„ÅÆÂØøÂè∏„ÅØÈ£ü„Åπ„Çâ„Çå„Çã</span> could mean:<br>
            ‚Ä¢ "This sushi CAN BE EATEN" (potential) ‚Äî it's edible<br>
            ‚Ä¢ "This sushi IS EATEN" (passive) ‚Äî someone eats it<br><br>
            In practice, context makes the meaning clear, but this ambiguity is why colloquial Japanese often drops the „Çâ to make potential forms distinct.
          </p>
        </div>

        <h3 class="section-title">Colloquial Potential: „ÇâÊäú„Åç (Ra-nuki)</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 2rem; border-left: 4px solid var(--gold);">
          <div style="font-weight: 700; margin-bottom: 0.75rem; color: var(--ink);">The "„Çâ-dropping" Phenomenon</div>
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            In casual speech, many Japanese speakers drop the „Çâ from ichidan verb potential forms. This creates shorter, more distinct forms:
          </p>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
            <div style="background: white; padding: 1rem; border-radius: 4px;">
              <strong>Standard (Textbook):</strong><br>
              <span class="jp">È£ü„Åπ„Çâ„Çå„Çã</span> (taberareru)<br>
              <span class="jp">Ë¶ã„Çâ„Çå„Çã</span> (mirareru)<br>
              <span class="jp">Ëµ∑„Åç„Çâ„Çå„Çã</span> (okirareru)
            </div>
            <div style="background: white; padding: 1rem; border-radius: 4px;">
              <strong>Colloquial („ÇâÊäú„Åç):</strong><br>
              <span class="jp">È£ü„Åπ„Çå„Çã</span> (tabereru)<br>
              <span class="jp">Ë¶ã„Çå„Çã</span> (mireru)<br>
              <span class="jp">Ëµ∑„Åç„Çå„Çã</span> (okireru)
            </div>
          </div>
          <p style="line-height: 1.8; font-size: 0.95rem;">
            <strong>Important Note:</strong> While „ÇâÊäú„Åç is extremely common in conversation and even in media, it's technically incorrect grammar. Use the full „Çâ„Çå„Çã form in:
          </p>
          <ul style="margin-left: 1.5rem; line-height: 1.8; font-size: 0.95rem; margin-top: 0.5rem;">
            <li>Formal writing (essays, reports, business documents)</li>
            <li>Formal speech (presentations, interviews)</li>
            <li>Tests and academic contexts (JLPT, school exams)</li>
            <li>When you want to sound educated and proper</li>
          </ul>
          <p style="margin-top: 1rem; line-height: 1.7; font-size: 0.95rem;">
            However, understanding „ÇâÊäú„Åç is essential for comprehension, as you'll hear it constantly in anime, dramas, and everyday conversation.
          </p>
        </div>

        <h3 class="section-title">Practical Usage Examples</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 2rem;">
          <div style="line-height: 1.9;">
            <strong>Languages & Communication:</strong><br>
            ‚Ä¢ <span class="jp">Êó•Êú¨Ë™û„ÅåË©±„Åõ„Åæ„Åô</span> ‚Äî I can speak Japanese<br>
            ‚Ä¢ <span class="jp">Êº¢Â≠ó„ÅåË™≠„ÇÅ„Å™„ÅÑ</span> ‚Äî I can't read kanji<br>
            ‚Ä¢ <span class="jp">Ëã±Ë™û„ÅßÊõ∏„Åë„Çã</span> ‚Äî I can write in English<br><br>
            
            <strong>Skills & Abilities:</strong><br>
            ‚Ä¢ <span class="jp">„Éî„Ç¢„Éé„ÅåÂºæ„Åë„Çã</span> ‚Äî I can play piano<br>
            ‚Ä¢ <span class="jp">Ê≥≥„Åí„Åæ„Åô„ÅãÔºü</span> ‚Äî Can you swim?<br>
            ‚Ä¢ <span class="jp">Ëªä„ÅåÈÅãËª¢„Åß„Åç„Çã</span> ‚Äî I can drive a car<br><br>
            
            <strong>Possibility & Circumstances:</strong><br>
            ‚Ä¢ <span class="jp">‰ªäÊó•Ë°å„Åë„Åæ„Åô</span> ‚Äî I can go today<br>
            ‚Ä¢ <span class="jp">ÊòéÊó•‰ºö„Åà„Å™„ÅÑ</span> ‚Äî I can't meet tomorrow<br>
            ‚Ä¢ <span class="jp">„Åì„Åì„Åß‰ºë„ÇÅ„Çã</span> ‚Äî You can rest here<br><br>
            
            <strong>Permission (Soft Asking):</strong><br>
            ‚Ä¢ <span class="jp">ÂÖ•„Çå„Åæ„Åô„ÅãÔºü</span> ‚Äî Can I enter?<br>
            ‚Ä¢ <span class="jp">ÂÜôÁúü„ÅåÊíÆ„Çå„Åæ„Åô„ÅãÔºü</span> ‚Äî Can I take photos?<br>
            ‚Ä¢ <span class="jp">‰Ωø„Åà„Åæ„Åô„ÅãÔºü</span> ‚Äî Can I use this?
          </div>
        </div>

        <div class="info-box yellow">
          <div class="info-box-title">üí° Mastery Tips</div>
          <p class="info-box-text" style="line-height: 1.8;">
            <strong>1. Remember the particle change:</strong> Potential form always uses „Åå, never „Çí.<br><br>
            <strong>2. Godan becomes -eru:</strong> All godan potential forms end in -eru and conjugate like ichidan.<br><br>
            <strong>3. „Åß„Åç„Çã is special:</strong> For „Åô„Çã verbs, the potential is simply „Åß„Åç„Çã (can do).<br><br>
            <strong>4. Understand „ÇâÊäú„Åç:</strong> You'll hear it everywhere, but use the full form in writing.<br><br>
            <strong>5. Practice with languages:</strong> Language abilities are the most common use of potential form.
          </p>
        </div>
      </div>

      <!-- VOLITIONAL FORM TAB -->
      <div id="tab-volitional" class="form-card">
        <h2 class="form-card-title jp">ÊÑèÂêëÂΩ¢ ‚Äî The Volitional Form (Let's/I Will)</h2>
        <p class="form-card-desc">
          The volitional form (ÊÑèÂêëÂΩ¢ ik≈çkei) expresses intention, suggestion, or volition. It's used to suggest doing something together ("let's..."), express determination ("I will..."), or make casual invitations. This form is essential for natural conversation in Japanese, as it's one of the primary ways to make suggestions and express future intentions informally.
        </p>

        <div class="info-box blue">
          <div class="info-box-title">Main Uses of Volitional Form</div>
          <p class="info-box-text" style="line-height: 1.9;">
            <strong>1. Suggestions (Let's...):</strong><br>
            „ÄÄ<span class="jp">Ë°å„Åì„ÅÜÔºÅ</span> ‚Äî Let's go!<br>
            „ÄÄ<span class="jp">‰∏ÄÁ∑í„Å´ÂãâÂº∑„Åó„Çà„ÅÜ</span> ‚Äî Let's study together<br><br>
            <strong>2. Personal Determination (I will...):</strong><br>
            „ÄÄ<span class="jp">È†ëÂºµ„Çç„ÅÜ</span> ‚Äî I'll do my best<br>
            „ÄÄ<span class="jp">ÊòéÊó•Êó©„ÅèËµ∑„Åç„Çà„ÅÜ</span> ‚Äî I'll wake up early tomorrow<br><br>
            <strong>3. Invitations/Offers:</strong><br>
            „ÄÄ<span class="jp">Êò†Áîª„ÇíË¶ã„Çà„ÅÜ„Åã</span> ‚Äî Shall we watch a movie?<br>
            „ÄÄ<span class="jp">Êâã‰ºù„Åä„ÅÜ„ÅãÔºü</span> ‚Äî Shall I help you?<br><br>
            <strong>Note:</strong> This is the casual form. For polite situations, use „Åæ„Åó„Çá„ÅÜ.
          </p>
        </div>

        <h3 class="section-title">Formation Rules</h3>
        <table class="conj-table">
          <thead>
            <tr>
              <th>Verb Type</th>
              <th>Formation Rule</th>
              <th>Dictionary Form</th>
              <th>Volitional Form</th>
              <th>Explanation</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td rowspan="3"><strong style="color: #4a90a4;">Godan</strong></td>
              <td rowspan="3">Change „ÅÜ-row to „Åä-row + „ÅÜ</td>
              <td class="jp">Ë°å„Åè (iku)</td>
              <td class="highlight jp">Ë°å„Åì„ÅÜ (ikou)</td>
              <td>„Åè ‚Üí „Åì + „ÅÜ</td>
            </tr>
            <tr>
              <td class="jp">È£≤„ÇÄ (nomu)</td>
              <td class="highlight jp">È£≤„ÇÇ„ÅÜ (nomou)</td>
              <td>„ÇÄ ‚Üí „ÇÇ + „ÅÜ</td>
            </tr>
            <tr>
              <td class="jp">Ë©±„Åô (hanasu)</td>
              <td class="highlight jp">Ë©±„Åù„ÅÜ (hanasou)</td>
              <td>„Åô ‚Üí „Åù + „ÅÜ</td>
            </tr>
            <tr>
              <td rowspan="2"><strong style="color: var(--sage);">Ichidan</strong></td>
              <td rowspan="2">Drop „Çã + „Çà„ÅÜ</td>
              <td class="jp">È£ü„Åπ„Çã (taberu)</td>
              <td class="highlight jp">È£ü„Åπ„Çà„ÅÜ (tabeyou)</td>
              <td>Remove „Çã, add „Çà„ÅÜ</td>
            </tr>
            <tr>
              <td class="jp">ÂØù„Çã (neru)</td>
              <td class="highlight jp">ÂØù„Çà„ÅÜ (neyou)</td>
              <td>Remove „Çã, add „Çà„ÅÜ</td>
            </tr>
            <tr>
              <td><strong style="color: #7a5ba4;">Suru</strong></td>
              <td>„Åô„Çã ‚Üí „Åó„Çà„ÅÜ</td>
              <td class="jp">ÂãâÂº∑„Åô„Çã</td>
              <td class="highlight jp">ÂãâÂº∑„Åó„Çà„ÅÜ</td>
              <td>„Åô„Çã becomes „Åó„Çà„ÅÜ</td>
            </tr>
          </tbody>
        </table>

        <div style="background: #eef4f8; padding: 1.5rem; border-radius: 4px; margin-top: 1.5rem; margin-bottom: 2rem; border-left: 4px solid #4a90a4;">
          <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">Godan Pattern: Long "≈ç" Sound</div>
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            Godan verbs shift to the „Åä-row + „ÅÜ, creating a characteristic long "≈ç" sound. This sound is very recognizable once you know it:
          </p>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 0.5rem; font-size: 0.9rem;">
            <div style="background: white; padding: 0.5rem; border-radius: 4px;"><span class="jp">Êõ∏„Åè ‚Üí Êõ∏„Åì„ÅÜ</span></div>
            <div style="background: white; padding: 0.5rem; border-radius: 4px;"><span class="jp">Ê≥≥„Åê ‚Üí Ê≥≥„Åî„ÅÜ</span></div>
            <div style="background: white; padding: 0.5rem; border-radius: 4px;"><span class="jp">ÂæÖ„Å§ ‚Üí ÂæÖ„Å®„ÅÜ</span></div>
            <div style="background: white; padding: 0.5rem; border-radius: 4px;"><span class="jp">ÈÅä„Å∂ ‚Üí ÈÅä„Åº„ÅÜ</span></div>
            <div style="background: white; padding: 0.5rem; border-radius: 4px;"><span class="jp">Ë™≠„ÇÄ ‚Üí Ë™≠„ÇÇ„ÅÜ</span></div>
            <div style="background: white; padding: 0.5rem; border-radius: 4px;"><span class="jp">Â∏∞„Çã ‚Üí Â∏∞„Çç„ÅÜ</span></div>
          </div>
        </div>

        <h3 class="section-title">Common Grammar Patterns</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 2rem;">
          <table class="conj-table" style="margin: 0;">
            <thead>
              <tr>
                <th>Pattern</th>
                <th>Meaning</th>
                <th>Example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Volitional + „Åã</td>
                <td>Shall we...?</td>
                <td class="jp">È£ü„Åπ„Çà„ÅÜ„Åã ‚Äî Shall we eat?</td>
              </tr>
              <tr>
                <td>Volitional + „Å®ÊÄù„ÅÜ</td>
                <td>I think I'll...</td>
                <td class="jp">Ë°å„Åì„ÅÜ„Å®ÊÄù„ÅÜ ‚Äî I think I'll go</td>
              </tr>
              <tr>
                <td>Volitional + „Å®„Åô„Çã</td>
                <td>Try to / About to</td>
                <td class="jp">Èñã„Åë„Çà„ÅÜ„Å®„Åô„Çã ‚Äî Try to open</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="info-box yellow">
          <div class="info-box-title">üí¨ Polite Alternative: „Åæ„Åó„Çá„ÅÜ</div>
          <p class="info-box-text">
            The plain volitional is casual. For polite invitations, use „Åæ„Åó„Çá„ÅÜ (which uses the same stem as „Åæ„Åô):<br>
            Casual: <span class="jp">Ë°å„Åì„ÅÜ</span> ‚Äî Let's go<br>
            Polite: <span class="jp">Ë°å„Åç„Åæ„Åó„Çá„ÅÜ</span> ‚Äî Let's go (polite)
          </p>
        </div>

        <h3 class="section-title">Usage Examples</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; line-height: 1.9;">
          ‚Ä¢ <span class="jp">Êò†Áîª„ÇíË¶ã„Çà„ÅÜ</span> ‚Äî Let's watch a movie<br>
          ‚Ä¢ <span class="jp">‰∏ÄÁ∑í„Å´ÂãâÂº∑„Åó„Çà„ÅÜ</span> ‚Äî Let's study together<br>
          ‚Ä¢ <span class="jp">‰Ωï„ÇíÈ£ü„Åπ„Çà„ÅÜ„Åã</span> ‚Äî What shall we eat?<br>
          ‚Ä¢ <span class="jp">ÊòéÊó•Êó©„ÅèËµ∑„Åç„Çà„ÅÜ</span> ‚Äî I'll wake up early tomorrow<br>
          ‚Ä¢ <span class="jp">È†ëÂºµ„Çç„ÅÜÔºÅ</span> ‚Äî Let's do our best!
        </div>
      </div>

      <!-- CONDITIONAL FORM TAB -->
      <div id="tab-conditional" class="form-card">
        <h2 class="form-card-title jp">Êù°‰ª∂ÂΩ¢ ‚Äî Conditional Forms (If/When)</h2>
        <p class="form-card-desc">
          Japanese has two primary conditional forms: the „Å∞-conditional (hypothetical) and the „Åü„Çâ-conditional (completed/temporal). Both express "if" or "when," but with important nuance differences. The „Å∞-form tends toward hypothetical or habitual conditions, while „Åü„Çâ expresses completed conditions or temporal sequences. Understanding when to use each is important for natural, nuanced Japanese expression.
        </p>

        <div class="info-box blue">
          <div class="info-box-title">„Å∞ vs. „Åü„Çâ: Quick Comparison</div>
          <p class="info-box-text" style="line-height: 1.9;">
            <strong>„Å∞-conditional (Hypothetical):</strong><br>
            ‚Ä¢ More formal and literary<br>
            ‚Ä¢ Hypothetical or general conditions<br>
            ‚Ä¢ "If X, then naturally Y"<br>
            ‚Ä¢ Cannot be used with requests/commands in the result clause<br>
            ‚Ä¢ Example: <span class="jp">ÂãâÂº∑„Åô„Çå„Å∞„ÄÅÂàÜ„Åã„Çã</span> (If you study, you'll understand)<br><br>
            
            <strong>„Åü„Çâ-conditional (Completed/Temporal):</strong><br>
            ‚Ä¢ More colloquial and natural<br>
            ‚Ä¢ Completed or temporal conditions<br>
            ‚Ä¢ "When/After X happens, then Y"<br>
            ‚Ä¢ Can be used with any result clause<br>
            ‚Ä¢ Example: <span class="jp">ÂÆ∂„Å´Â∏∞„Å£„Åü„Çâ„ÄÅÈõªË©±„Åó„Å¶</span> (When you get home, call me)<br><br>
            
            <strong>For beginners:</strong> „Åü„Çâ is generally safer and more versatile.
          </p>
        </div>

        <h3 class="section-title">„Å∞-Form: Formation</h3>
        <table class="conj-table">
          <thead>
            <tr>
              <th>Verb Type</th>
              <th>Rule</th>
              <th>Example</th>
              <th>„Å∞ Form</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong style="color: #4a90a4;">Godan</strong></td>
              <td>Change „ÅÜ-row to „Åà-row + „Å∞</td>
              <td class="jp">Ë©±„Åô</td>
              <td class="highlight jp">Ë©±„Åõ„Å∞</td>
            </tr>
            <tr>
              <td><strong style="color: var(--sage);">Ichidan</strong></td>
              <td>Drop „Çã + „Çå„Å∞</td>
              <td class="jp">È£ü„Åπ„Çã</td>
              <td class="highlight jp">È£ü„Åπ„Çå„Å∞</td>
            </tr>
            <tr>
              <td><strong style="color: #7a5ba4;">Suru</strong></td>
              <td>„Åô„Çã ‚Üí „Åô„Çå„Å∞</td>
              <td class="jp">ÂãâÂº∑„Åô„Çã</td>
              <td class="highlight jp">ÂãâÂº∑„Åô„Çå„Å∞</td>
            </tr>
          </tbody>
        </table>

        <h3 class="section-title">„Åü„Çâ-Form: Formation</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem; border-left: 4px solid var(--accent);">
          <p style="line-height: 1.8; margin-bottom: 1rem;">
            <strong>Simple Rule:</strong> Past form + „Çâ
          </p>
          <div style="background: white; padding: 1rem; border-radius: 4px; line-height: 1.7;">
            <span class="jp">Ë°å„Åè ‚Üí Ë°å„Å£„Åü ‚Üí Ë°å„Å£„Åü„Çâ</span> (if/when go)<br>
            <span class="jp">È£ü„Åπ„Çã ‚Üí È£ü„Åπ„Åü ‚Üí È£ü„Åπ„Åü„Çâ</span> (if/when eat)<br>
            <span class="jp">ÂãâÂº∑„Åô„Çã ‚Üí ÂãâÂº∑„Åó„Åü ‚Üí ÂãâÂº∑„Åó„Åü„Çâ</span> (if/when study)
          </div>
        </div>

        <h3 class="section-title">Usage Comparison</h3>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 2rem;">
          <div style="background: #eef4f8; padding: 1rem; border-radius: 4px;">
            <div style="font-weight: 700; margin-bottom: 0.5rem;">„Å∞ Examples</div>
            <div style="font-size: 0.9rem; line-height: 1.7;">
              <span class="jp">ÂãâÂº∑„Åô„Çå„Å∞„ÄÅÂàÜ„Åã„Çã</span><br>
              If you study, you'll understand<br><br>
              <span class="jp">ÂÆâ„Åë„Çå„Å∞„ÄÅË≤∑„ÅÑ„Åæ„Åô</span><br>
              If it's cheap, I'll buy it
            </div>
          </div>
          <div style="background: #eef5ef; padding: 1rem; border-radius: 4px;">
            <div style="font-weight: 700; margin-bottom: 0.5rem;">„Åü„Çâ Examples</div>
            <div style="font-size: 0.9rem; line-height: 1.7;">
              <span class="jp">ÂÆ∂„Å´Â∏∞„Å£„Åü„Çâ„ÄÅÈõªË©±„Åó„Å¶</span><br>
              When you get home, call me<br><br>
              <span class="jp">Êò•„Å´„Å™„Å£„Åü„Çâ„ÄÅËä±Ë¶ã„Å´Ë°å„Åì„ÅÜ</span><br>
              When spring comes, let's go see cherry blossoms
            </div>
          </div>
        </div>

        <div class="info-box yellow">
          <div class="info-box-title">üí° Usage Tips</div>
          <p class="info-box-text">
            <strong>Use „Åü„Çâ when:</strong> Talking about specific one-time events, making requests, or describing sequences<br>
            <strong>Use „Å∞ when:</strong> Expressing general truths, logical consequences, or hypothetical situations
          </p>
        </div>
      </div>

      <!-- PASSIVE FORM TAB -->
      <div id="tab-passive" class="form-card">
        <h2 class="form-card-title jp">ÂèóË∫´ÂΩ¢ ‚Äî The Passive Form</h2>
        <p class="form-card-desc">
          The passive form (ÂèóË∫´ÂΩ¢ ukemikei) expresses that an action is done to someone or something rather than by them. Japanese passive has broader uses than English passive, including the unique "adversative passive" for expressing suffering from uncontrollable events, and honorific passive for showing respect. Understanding these different uses is essential for natural Japanese expression.
        </p>

        <div class="info-box blue">
          <div class="info-box-title">Three Types of Japanese Passive</div>
          <p class="info-box-text" style="line-height: 1.9;">
            <strong>1. Direct Passive (Like English):</strong><br>
            „ÄÄ<span class="jp">„Åì„ÅÆÊú¨„ÅØÂ§ö„Åè„ÅÆ‰∫∫„Å´Ë™≠„Åæ„Çå„Å¶„ÅÑ„Çã</span><br>
            „ÄÄThis book is read by many people<br><br>
            
            <strong>2. Adversative Passive (Unique to Japanese):</strong><br>
            „ÄÄ<span class="jp">Èõ®„Å´Èôç„Çâ„Çå„Åü</span> ‚Äî I got rained on (and it was inconvenient)<br>
            „ÄÄ<span class="jp">Ë≤°Â∏É„ÇíÁõó„Åæ„Çå„Åü</span> ‚Äî My wallet was stolen (I suffered)<br>
            „ÄÄThis form expresses suffering or inconvenience from an action<br><br>
            
            <strong>3. Honorific Passive (Showing Respect):</strong><br>
            „ÄÄ<span class="jp">ÂÖàÁîü„ÅåÊù•„Çâ„Çå„Åæ„Åó„Åü</span> ‚Äî The teacher came (respectful)<br>
            „ÄÄUsing passive form to show respect for the subject's action
          </p>
        </div>

        <h3 class="section-title">Formation Rules</h3>
        <table class="conj-table">
          <thead>
            <tr>
              <th>Verb Type</th>
              <th>Formation Rule</th>
              <th>Dictionary Form</th>
              <th>Passive Form</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td rowspan="2"><strong style="color: #4a90a4;">Godan</strong></td>
              <td rowspan="2">Change „ÅÜ-row to „ÅÇ-row + „Çå„Çã</td>
              <td class="jp">Âëº„Å∂ (yobu)</td>
              <td class="highlight jp">Âëº„Å∞„Çå„Çã</td>
            </tr>
            <tr>
              <td class="jp">Êõ∏„Åè (kaku)</td>
              <td class="highlight jp">Êõ∏„Åã„Çå„Çã</td>
            </tr>
            <tr>
              <td rowspan="2"><strong style="color: var(--sage);">Ichidan</strong></td>
              <td rowspan="2">Drop „Çã + „Çâ„Çå„Çã</td>
              <td class="jp">È£ü„Åπ„Çã (taberu)</td>
              <td class="highlight jp">È£ü„Åπ„Çâ„Çå„Çã</td>
            </tr>
            <tr>
              <td class="jp">Ë§í„ÇÅ„Çã (homeru)</td>
              <td class="highlight jp">Ë§í„ÇÅ„Çâ„Çå„Çã</td>
            </tr>
            <tr>
              <td><strong style="color: #7a5ba4;">Suru</strong></td>
              <td>„Åô„Çã ‚Üí „Åï„Çå„Çã</td>
              <td class="jp">Á¥π‰ªã„Åô„Çã</td>
              <td class="highlight jp">Á¥π‰ªã„Åï„Çå„Çã</td>
            </tr>
          </tbody>
        </table>

        <div class="info-box yellow">
          <div class="info-box-title">‚ö†Ô∏è Ambiguity Warning</div>
          <p class="info-box-text">
            For ichidan verbs, passive („Çâ„Çå„Çã) and potential („Çâ„Çå„Çã) look identical:<br>
            <span class="jp">È£ü„Åπ„Çâ„Çå„Çã</span> = "can eat" OR "is eaten"<br>
            Context determines the meaning.
          </p>
        </div>

        <h3 class="section-title">Usage Examples</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; line-height: 1.9;">
          <strong>Direct Passive:</strong><br>
          ‚Ä¢ <span class="jp">ÂΩº„ÅØÂÖàÁîü„Å´Ë§í„ÇÅ„Çâ„Çå„Åü</span> ‚Äî He was praised by the teacher<br><br>
          
          <strong>Adversative Passive:</strong><br>
          ‚Ä¢ <span class="jp">Èõ®„Å´Èôç„Çâ„Çå„Åü</span> ‚Äî I got rained on<br>
          ‚Ä¢ <span class="jp">Âºü„Å´Ê≥£„Åã„Çå„Åü</span> ‚Äî My little brother cried on me<br>
          ‚Ä¢ <span class="jp">Ë≤°Â∏É„ÇíÁõó„Åæ„Çå„Åü</span> ‚Äî My wallet was stolen<br><br>
          
          <strong>Honorific Passive:</strong><br>
          ‚Ä¢ <span class="jp">ÂÖàÁîü„ÅåÊù•„Çâ„Çå„Åü</span> ‚Äî The teacher came (respectful)
        </div>
      </div>

      <!-- CAUSATIVE FORM TAB -->
      <div id="tab-causative" class="form-card">
        <h2 class="form-card-title jp">‰ΩøÂΩπÂΩ¢ ‚Äî The Causative Form (Make/Let)</h2>
        <p class="form-card-desc">
          The causative form (‰ΩøÂΩπÂΩ¢ shieki-kei) expresses making or letting someone do something. It has two main meanings‚Äîcompulsion ("make someone do") and permission ("let someone do")‚Äîwith context and particles helping to distinguish between them. This form is essential for expressing authority relationships, permissions, and obligations in Japanese.
        </p>

        <div class="info-box blue">
          <div class="info-box-title">Two Meanings of Causative</div>
          <p class="info-box-text" style="line-height: 1.9;">
            <strong>1. Compulsion (Make):</strong><br>
            „ÄÄ<span class="jp">ÊØç„ÅØÁßÅ„Å´ÈÉ®Â±ã„ÇíÊéÉÈô§„Åï„Åõ„Åü</span><br>
            „ÄÄMother made me clean my room<br>
            „ÄÄ(„Å´ marks the person forced to act)<br><br>
            
            <strong>2. Permission (Let/Allow):</strong><br>
            „ÄÄ<span class="jp">Â≠ê‰æõ„ÇíËá™Áî±„Å´ÈÅä„Å∞„Åõ„Çã</span><br>
            „ÄÄLet the child play freely<br>
            „ÄÄ(„Çí marks the person allowed to act)<br><br>
            
            <strong>Particle distinction:</strong><br>
            ‚Ä¢ „Å´ = tends toward "make" (compulsion)<br>
            ‚Ä¢ „Çí = tends toward "let" (permission)
          </p>
        </div>

        <h3 class="section-title">Formation Rules</h3>
        <table class="conj-table">
          <thead>
            <tr>
              <th>Verb Type</th>
              <th>Formation Rule</th>
              <th>Dictionary Form</th>
              <th>Causative Form</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td rowspan="2"><strong style="color: #4a90a4;">Godan</strong></td>
              <td rowspan="2">Change „ÅÜ-row to „ÅÇ-row + „Åõ„Çã</td>
              <td class="jp">Ë°å„Åè (iku)</td>
              <td class="highlight jp">Ë°å„Åã„Åõ„Çã</td>
            </tr>
            <tr>
              <td class="jp">È£≤„ÇÄ (nomu)</td>
              <td class="highlight jp">È£≤„Åæ„Åõ„Çã</td>
            </tr>
            <tr>
              <td rowspan="2"><strong style="color: var(--sage);">Ichidan</strong></td>
              <td rowspan="2">Drop „Çã + „Åï„Åõ„Çã</td>
              <td class="jp">È£ü„Åπ„Çã (taberu)</td>
              <td class="highlight jp">È£ü„Åπ„Åï„Åõ„Çã</td>
            </tr>
            <tr>
              <td class="jp">Ë¶ã„Çã (miru)</td>
              <td class="highlight jp">Ë¶ã„Åï„Åõ„Çã</td>
            </tr>
            <tr>
              <td><strong style="color: #7a5ba4;">Suru</strong></td>
              <td>„Åô„Çã ‚Üí „Åï„Åõ„Çã</td>
              <td class="jp">ÂãâÂº∑„Åô„Çã</td>
              <td class="highlight jp">ÂãâÂº∑„Åï„Åõ„Çã</td>
            </tr>
          </tbody>
        </table>

        <h3 class="section-title">Causative-Passive („Åï„Åõ„Çâ„Çå„Çã)</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem; border-left: 4px solid #7a5ba4;">
          <div style="font-weight: 700; margin-bottom: 0.5rem;">The "Be Made To" Form</div>
          <p style="line-height: 1.8; margin-bottom: 0.75rem;">
            Combine causative + passive to express being forced to do something:
          </p>
          <div style="font-size: 0.95rem; line-height: 1.7;">
            <span class="jp">È£ü„Åπ„Çã ‚Üí È£ü„Åπ„Åï„Åõ„Çã ‚Üí È£ü„Åπ„Åï„Åõ„Çâ„Çå„Çã</span> (be made to eat)<br>
            <span class="jp">ÂæÖ„Å§ ‚Üí ÂæÖ„Åü„Åõ„Çã ‚Üí ÂæÖ„Åü„Åõ„Çâ„Çå„Çã</span> (be made to wait)<br>
            <span class="jp">3ÊôÇÈñì„ÇÇÂæÖ„Åü„Åõ„Çâ„Çå„Åü</span> ‚Äî I was made to wait for 3 hours
          </div>
        </div>

        <h3 class="section-title">Usage Examples</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; line-height: 1.9;">
          <strong>Make/Force:</strong><br>
          ‚Ä¢ <span class="jp">ÊØç„ÅØÁßÅ„Å´ÈÉ®Â±ã„ÇíÊéÉÈô§„Åï„Åõ„Åü</span> ‚Äî Mother made me clean my room<br>
          ‚Ä¢ <span class="jp">ÂÖàÁîü„ÅØÂ≠¶Áîü„Å´Êú¨„ÇíË™≠„Åæ„Åõ„Çã</span> ‚Äî The teacher makes students read books<br><br>
          
          <strong>Let/Allow:</strong><br>
          ‚Ä¢ <span class="jp">Â≠ê‰æõ„ÇíËá™Áî±„Å´ÈÅä„Å∞„Åõ„Çã</span> ‚Äî Let the child play freely<br>
          ‚Ä¢ <span class="jp">ÂΩº„ÇíÂÖà„Å´Ë°å„Åã„Åõ„Åü</span> ‚Äî I let him go first<br><br>
          
          <strong>Causative-Passive:</strong><br>
          ‚Ä¢ <span class="jp">Èï∑„ÅÑÊôÇÈñìÂæÖ„Åü„Åõ„Çâ„Çå„Åü</span> ‚Äî I was made to wait a long time
        </div>
      </div>

      <!-- IMPERATIVE FORM TAB -->
      <div id="tab-imperative" class="form-card">
        <h2 class="form-card-title jp">ÂëΩ‰ª§ÂΩ¢ ‚Äî The Imperative Form (Commands)</h2>
        <p class="form-card-desc">
          The imperative form (ÂëΩ‰ª§ÂΩ¢ meirei-kei) is the direct command form of Japanese verbs. It's extremely forceful, often perceived as rude or aggressive, and should be used with great caution. This form appears mainly in emergencies, military/sports contexts, between very close friends, or in written warnings. For polite requests, „Å¶„Åè„Å†„Åï„ÅÑ is almost always more appropriate.
        </p>

        <div class="info-box blue" style="background: #fff3e0; border-left-color: #ff9800;">
          <div class="info-box-title" style="color: #e65100;">‚ö†Ô∏è Use With Extreme Caution</div>
          <p class="info-box-text" style="line-height: 1.9;">
            <strong>The imperative is very forceful and often rude.</strong><br><br>
            
            <strong>Acceptable contexts:</strong><br>
            ‚Ä¢ Emergencies and warnings ("Stop!" "Run!")<br>
            ‚Ä¢ Military or police commands<br>
            ‚Ä¢ Sports coaching and encouragement<br>
            ‚Ä¢ Very close friends (still informal)<br>
            ‚Ä¢ Written signs and traffic signals<br><br>
            
            <strong>For polite requests, use instead:</strong><br>
            ‚Ä¢ „Å¶„Åè„Å†„Åï„ÅÑ ‚Äî Please do... (polite)<br>
            ‚Ä¢ „Å™„Åï„ÅÑ ‚Äî Do... (parental/authority)<br>
            ‚Ä¢ „Åæ„Åó„Çá„ÅÜ ‚Äî Let's... (suggestion)<br><br>
            
            <strong>Example:</strong><br>
            ‚ùå <span class="jp">È£ü„Åπ„Çç</span> ‚Äî Eat! (rude command)<br>
            ‚úì <span class="jp">È£ü„Åπ„Å¶„Åè„Å†„Åï„ÅÑ</span> ‚Äî Please eat (polite)
          </p>
        </div>

        <h3 class="section-title">Formation Rules</h3>
        <table class="conj-table">
          <thead>
            <tr>
              <th>Verb Type</th>
              <th>Formation Rule</th>
              <th>Dictionary Form</th>
              <th>Imperative</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td rowspan="2"><strong style="color: #4a90a4;">Godan</strong></td>
              <td rowspan="2">Change „ÅÜ-row to „Åà-row</td>
              <td class="jp">Ë°å„Åè (iku)</td>
              <td class="highlight jp">Ë°å„ÅëÔºÅ</td>
            </tr>
            <tr>
              <td class="jp">È£≤„ÇÄ (nomu)</td>
              <td class="highlight jp">È£≤„ÇÅÔºÅ</td>
            </tr>
            <tr>
              <td rowspan="2"><strong style="color: var(--sage);">Ichidan</strong></td>
              <td rowspan="2">Drop „Çã + „Çç</td>
              <td class="jp">È£ü„Åπ„Çã (taberu)</td>
              <td class="highlight jp">È£ü„Åπ„ÇçÔºÅ</td>
            </tr>
            <tr>
              <td class="jp">Ë¶ã„Çã (miru)</td>
              <td class="highlight jp">Ë¶ã„ÇçÔºÅ</td>
            </tr>
            <tr>
              <td><strong style="color: #7a5ba4;">Suru</strong></td>
              <td>„Åô„Çã ‚Üí „Åó„Çç</td>
              <td class="jp">ÂãâÂº∑„Åô„Çã</td>
              <td class="highlight jp">ÂãâÂº∑„Åó„ÇçÔºÅ</td>
            </tr>
          </tbody>
        </table>

        <h3 class="section-title">Negative Imperative (Don't...!)</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem; border-left: 4px solid #d32f2f;">
          <div style="font-weight: 700; margin-bottom: 0.5rem; color: #d32f2f;">Pattern: Dictionary form + „Å™</div>
          <p style="line-height: 1.8; margin-bottom: 0.75rem;">
            To command someone NOT to do something:
          </p>
          <div style="line-height: 1.7;">
            ‚Ä¢ <span class="jp">Ë°å„Åè„Å™ÔºÅ</span> ‚Äî Don't go!<br>
            ‚Ä¢ <span class="jp">È£ü„Åπ„Çã„Å™ÔºÅ</span> ‚Äî Don't eat!<br>
            ‚Ä¢ <span class="jp">Ëß¶„Çã„Å™ÔºÅ</span> ‚Äî Don't touch!<br>
            ‚Ä¢ <span class="jp">„Åô„Çã„Å™ÔºÅ</span> ‚Äî Don't do it!
          </div>
          <p style="margin-top: 1rem; font-size: 0.95rem;">
            This is equally forceful. For polite prohibitions, use „Å™„ÅÑ„Åß„Åè„Å†„Åï„ÅÑ.
          </p>
        </div>

        <h3 class="section-title">Context Examples</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; line-height: 1.9;">
          <strong>Emergency/Warning:</strong><br>
          ‚Ä¢ <span class="jp">Ê≠¢„Åæ„ÇåÔºÅ</span> ‚Äî Stop! (traffic sign, urgent)<br>
          ‚Ä¢ <span class="jp">ÈÄÉ„Åí„ÇçÔºÅ</span> ‚Äî Run away!<br>
          ‚Ä¢ <span class="jp">Êù•„Çã„Å™ÔºÅ</span> ‚Äî Don't come!<br><br>
          
          <strong>Sports/Encouragement:</strong><br>
          ‚Ä¢ <span class="jp">È†ëÂºµ„ÇåÔºÅ</span> ‚Äî Do your best! / Go for it!<br>
          ‚Ä¢ <span class="jp">Ëµ∞„ÇåÔºÅ</span> ‚Äî Run!<br>
          ‚Ä¢ <span class="jp">„ÇÑ„ÇåÔºÅ</span> ‚Äî Do it! / You can do it!<br><br>
          
          <strong>Anime/Drama (very direct):</strong><br>
          ‚Ä¢ <span class="jp">Èªô„ÇåÔºÅ</span> ‚Äî Shut up! (very rude)<br>
          ‚Ä¢ <span class="jp">„ÇÑ„ÇÅ„ÇçÔºÅ</span> ‚Äî Stop it!
        </div>

        <div class="info-box yellow">
          <div class="info-box-title">üí° Polite Alternatives You Should Actually Use</div>
          <p class="info-box-text" style="line-height: 1.8;">
            <strong>Instead of imperatives, use:</strong><br>
            ‚Ä¢ „Å¶„Åè„Å†„Åï„ÅÑ ‚Äî Please do... (<span class="jp">È£ü„Åπ„Å¶„Åè„Å†„Åï„ÅÑ</span>)<br>
            ‚Ä¢ „Å¶„Åè„Çå ‚Äî Do it for me (<span class="jp">È£ü„Åπ„Å¶„Åè„Çå</span>) [casual but not rude]<br>
            ‚Ä¢ „Å™„Åï„ÅÑ ‚Äî Do... (<span class="jp">È£ü„Åπ„Å™„Åï„ÅÑ</span>) [parental]<br>
            ‚Ä¢ „Åæ„Åó„Çá„ÅÜ ‚Äî Let's... (<span class="jp">È£ü„Åπ„Åæ„Åó„Çá„ÅÜ</span>) [suggestion]<br><br>
            These achieve the same goal while being respectful and appropriate for most situations.
          </p>
        </div>
      </div>
      <!-- ADJECTIVES TAB -->
      <div id="tab-adjectives" class="form-card">
        <h2 class="form-card-title">ÂΩ¢ÂÆπË©û ‚Äî Japanese Adjectives</h2>
        <p class="form-card-desc">
          Japanese adjectives are remarkably different from their English counterparts‚Äîthey conjugate like verbs! There are two main types: „ÅÑ-adjectives (i-adjectives) and „Å™-adjectives (na-adjectives). Understanding the fundamental difference between these types is essential: „ÅÑ-adjectives are true adjectives that conjugate independently, while „Å™-adjectives are actually nouns that function adjectivally when paired with „Å™ or „Åß„Åô.
        </p>

        <h3 class="section-title">Understanding the Fundamental Difference</h3>
        <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem; border-left: 4px solid var(--accent);">
          <p style="margin-bottom: 1.5rem; line-height: 1.8;">
            <strong>The key insight:</strong> „ÅÑ-adjectives and „Å™-adjectives aren't just two variations of the same thing‚Äîthey're fundamentally different parts of speech that happen to both describe things.
          </p>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 1rem;">
            <div>
              <div style="font-weight: 700; color: #4a90a4; margin-bottom: 0.75rem; font-size: 1.1rem;">„ÅÑ-Adjectives = True Adjectives</div>
              <ul style="margin-left: 1.5rem; line-height: 1.8;">
                <li>Function like verbs in Japanese grammar</li>
                <li>Have their own built-in conjugations</li>
                <li>Can stand alone as predicates</li>
                <li>Don't need „Åß„Åô to be grammatically complete (though „Åß„Åô adds politeness)</li>
              </ul>
            </div>
            <div>
              <div style="font-weight: 700; color: var(--sage); margin-bottom: 0.75rem; font-size: 1.1rem;">„Å™-Adjectives = Adjectival Nouns</div>
              <ul style="margin-left: 1.5rem; line-height: 1.8;">
                <li>Are actually nouns at their core</li>
                <li>Borrow verb endings („Å†/„Åß„Åô) to function as predicates</li>
                <li>Need „Å™ to connect to nouns</li>
                <li>Require „Åß„Åô/„Å† to be complete sentences</li>
              </ul>
            </div>
          </div>
        </div>

        <h3 class="section-title">The Two Types: In-Depth Comparison</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
          <div style="background: #eef4f8; padding: 2rem; border: 3px solid #4a90a4; border-radius: 4px;">
            <h4 style="font-size: 1.3rem; font-weight: 700; color: #4a90a4; margin-bottom: 0.5rem;" class="jp">
              „ÅÑÂΩ¢ÂÆπË©û (I-Adjectives)
            </h4>
            <p style="color: var(--text); font-size: 0.95rem; margin-bottom: 1rem; line-height: 1.7;">
              <strong>Always end in „ÅÑ</strong> (the „ÅÑ is part of the word itself) and conjugate by changing that final „ÅÑ
            </p>
            <div style="font-size: 0.9rem; color: var(--text); line-height: 1.7;">
              <strong>Common examples:</strong><br>
              <span class="jp">Â§ß„Åç„ÅÑ (ookii)</span> - big<br>
              <span class="jp">Áæé„Åó„ÅÑ (utsukushii)</span> - beautiful<br>
              <span class="jp">ÂØí„ÅÑ (samui)</span> - cold<br>
              <span class="jp">Êñ∞„Åó„ÅÑ (atarashii)</span> - new<br>
              <span class="jp">Ê•Ω„Åó„ÅÑ (tanoshii)</span> - fun
            </div>
          </div>

          <div style="background: #eef5ef; padding: 2rem; border: 3px solid var(--sage); border-radius: 4px;">
            <h4 style="font-size: 1.3rem; font-weight: 700; color: var(--sage); margin-bottom: 0.5rem;" class="jp">
              „Å™ÂΩ¢ÂÆπË©û (Na-Adjectives)
            </h4>
            <p style="color: var(--text); font-size: 0.95rem; margin-bottom: 1rem; line-height: 1.7;">
              <strong>Do NOT have a built-in ending</strong> (they're nouns). Add „Å™ before nouns, use „Åß„Åô/„Å† as predicates
            </p>
            <div style="font-size: 0.9rem; color: var(--text); line-height: 1.7;">
              <strong>Common examples:</strong><br>
              <span class="jp">Èùô„Åã (shizuka)</span> - quiet<br>
              <span class="jp">‰æøÂà© (benri)</span> - convenient<br>
              <span class="jp">ÊúâÂêç (yuumei)</span> - famous<br>
              <span class="jp">Ë¶™Âàá (shinsetsu)</span> - kind<br>
              <span class="jp">ÂÖÉÊ∞ó (genki)</span> - healthy/energetic
            </div>
          </div>
        </div>

        <div class="info-box yellow">
          <div class="info-box-title">‚ö†Ô∏è The Tricky Part: Some „Å™-Adjectives End in „ÅÑ!</div>
          <p class="info-box-text" style="line-height: 1.8;">
            This is where students get confused. Some „Å™-adjectives <em>look like</em> „ÅÑ-adjectives because they end in „ÅÑ, but they're still „Å™-adjectives! These must be memorized:<br><br>
            <strong>Common „Å™-adjectives that end in „ÅÑ:</strong><br>
            <span class="jp">„Åç„Çå„ÅÑ (kirei)</span> - pretty/clean<br>
            <span class="jp">Â´å„ÅÑ (kirai)</span> - disliked/hated<br>
            <span class="jp">ÊúâÂêç (yuumei)</span> - famous (ends in mei, sounds like „ÅÑ)<br>
            <span class="jp">Â´å„ÅÑ (kirai)</span> - dislike<br><br>
            <strong>How to tell:</strong> If you can't conjugate the „ÅÑ (like „Åç„Çå„Åè„Å™„ÅÑ ‚úó), it's a „Å™-adjective. The correct form is „Åç„Çå„ÅÑ„Åò„ÇÉ„Å™„ÅÑ ‚úì
          </p>
        </div>

        <h3 class="section-title">„ÅÑ-Adjectives: Complete Conjugation Guide</h3>
        <div style="margin-bottom: 2rem;">
          <p style="margin-bottom: 1.5rem; line-height: 1.8;">
            „ÅÑ-adjectives conjugate by <strong>dropping the final „ÅÑ</strong> and adding different endings. Think of the „ÅÑ as a removable suffix that gets replaced based on what you want to express. The stem (everything before „ÅÑ) never changes.
          </p>

          <div style="background: #eef4f8; padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem; border-left: 4px solid #4a90a4;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">The Logic Behind „ÅÑ-Adjective Conjugation:</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              „ÅÑ-adjectives conjugate similarly to verbs because they can function as predicates on their own. The conjugation pattern follows a logical structure:
            </p>
            <ul style="margin-left: 1.5rem; line-height: 1.9;">
              <li><strong>„ÅÑ ‚Üí „Åè„Å™„ÅÑ</strong> (negative): The „Åè connects to „Å™„ÅÑ (the negative form of „ÅÇ„Çã, "to exist")</li>
              <li><strong>„ÅÑ ‚Üí „Åã„Å£„Åü</strong> (past): The „Åã becomes the stem for past tense, similar to verb „Åü-form logic</li>
              <li><strong>„ÅÑ ‚Üí „Åè„Å¶</strong> („Å¶-form): Parallel to verb „Å¶-forms, used for connecting</li>
              <li><strong>„ÅÑ ‚Üí „Åè</strong> (adverb): Converts the adjective to describe how an action is done</li>
            </ul>
          </div>

          <table class="conj-table">
            <thead>
              <tr>
                <th>Form</th>
                <th>Pattern</th>
                <th>Example: <span class="jp">È´ò„ÅÑ</span> (takai - expensive)</th>
                <th>Meaning</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Present</td>
                <td>Base form (no change)</td>
                <td class="highlight jp">È´ò„ÅÑ</td>
                <td>(is) expensive</td>
              </tr>
              <tr>
                <td>Present Polite</td>
                <td>Base + „Åß„Åô</td>
                <td class="highlight jp">È´ò„ÅÑ„Åß„Åô</td>
                <td>(is) expensive [polite]</td>
              </tr>
              <tr>
                <td>Negative</td>
                <td>Drop „ÅÑ + „Åè„Å™„ÅÑ</td>
                <td class="highlight jp">È´ò„Åè„Å™„ÅÑ</td>
                <td>(is) not expensive</td>
              </tr>
              <tr>
                <td>Negative Polite</td>
                <td>Drop „ÅÑ + „Åè„Å™„ÅÑ„Åß„Åô<br><small style="color: var(--text-light);">(or „Åè„ÅÇ„Çä„Åæ„Åõ„Çì)</small></td>
                <td class="highlight jp">È´ò„Åè„Å™„ÅÑ„Åß„Åô<br><small class="jp">È´ò„Åè„ÅÇ„Çä„Åæ„Åõ„Çì</small></td>
                <td>(is) not expensive [polite]</td>
              </tr>
              <tr>
                <td>Past</td>
                <td>Drop „ÅÑ + „Åã„Å£„Åü</td>
                <td class="highlight jp">È´ò„Åã„Å£„Åü</td>
                <td>was expensive</td>
              </tr>
              <tr>
                <td>Past Polite</td>
                <td>Drop „ÅÑ + „Åã„Å£„Åü„Åß„Åô</td>
                <td class="highlight jp">È´ò„Åã„Å£„Åü„Åß„Åô</td>
                <td>was expensive [polite]</td>
              </tr>
              <tr>
                <td>Negative Past</td>
                <td>Drop „ÅÑ + „Åè„Å™„Åã„Å£„Åü</td>
                <td class="highlight jp">È´ò„Åè„Å™„Åã„Å£„Åü</td>
                <td>was not expensive</td>
              </tr>
              <tr>
                <td>Negative Past Polite</td>
                <td>Drop „ÅÑ + „Åè„Å™„Åã„Å£„Åü„Åß„Åô</td>
                <td class="highlight jp">È´ò„Åè„Å™„Åã„Å£„Åü„Åß„Åô</td>
                <td>was not expensive [polite]</td>
              </tr>
              <tr>
                <td>„Å¶-form</td>
                <td>Drop „ÅÑ + „Åè„Å¶</td>
                <td class="highlight jp">È´ò„Åè„Å¶</td>
                <td>expensive and...</td>
              </tr>
              <tr>
                <td>Conditional</td>
                <td>Drop „ÅÑ + „Åë„Çå„Å∞</td>
                <td class="highlight jp">È´ò„Åë„Çå„Å∞</td>
                <td>if (it's) expensive</td>
              </tr>
              <tr>
                <td>Adverb</td>
                <td>Drop „ÅÑ + „Åè</td>
                <td class="highlight jp">È´ò„Åè</td>
                <td>expensively (manner)</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 2rem;">
          <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem;">Practice Sentences with „ÅÑ-Adjectives:</div>
          <div style="margin-bottom: 1rem;">
            <span class="jp" style="font-size: 1.1rem; font-weight: 600;">„Åì„ÅÆÊú¨„ÅØÈù¢ÁôΩ„Åè„Å¶„ÄÅÂÆâ„ÅÑ„Åß„Åô„ÄÇ</span><br>
            <span style="font-size: 0.9rem; color: var(--text-light);">Kono hon wa omoshirokute, yasui desu.</span><br>
            <span>This book is interesting and cheap.</span>
            <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.25rem;">‚Üí Using „Å¶-form to link two „ÅÑ-adjectives</div>
          </div>
          <div style="margin-bottom: 1rem;">
            <span class="jp" style="font-size: 1.1rem; font-weight: 600;">Êò®Êó•„ÅØÂØí„Åè„Å™„Åã„Å£„Åü„Åß„Åô„ÄÇ</span><br>
            <span style="font-size: 0.9rem; color: var(--text-light);">Kinou wa samukunakatta desu.</span><br>
            <span>Yesterday was not cold.</span>
            <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.25rem;">‚Üí Negative past polite form</div>
          </div>
          <div>
            <span class="jp" style="font-size: 1.1rem; font-weight: 600;">„ÇÇ„Å£„Å®Â§ß„Åç„Åë„Çå„Å∞„ÅÑ„ÅÑ„Åß„Åô„ÄÇ</span><br>
            <span style="font-size: 0.9rem; color: var(--text-light);">Motto ookikereba ii desu.</span><br>
            <span>It would be good if it were bigger.</span>
            <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.25rem;">‚Üí Conditional form („Åë„Çå„Å∞)</div>
          </div>
        </div>

        <div class="info-box blue">
          <div class="info-box-title">‚ö†Ô∏è Special Case: „ÅÑ„ÅÑ (good) - The Irregular Exception</div>
          <p class="info-box-text" style="line-height: 1.8;">
            The adjective <span class="jp">„ÅÑ„ÅÑ</span> (good) is the only irregular „ÅÑ-adjective! It conjugates using the stem <span class="jp">„Çà</span> instead of „ÅÑ:<br><br>
            <strong>Present:</strong> <span class="jp">„ÅÑ„ÅÑ</span> ‚úì (both „ÅÑ„ÅÑ and „Çà„ÅÑ are acceptable)<br>
            <strong>Negative:</strong> <span class="jp">„Çà„Åè„Å™„ÅÑ</span> ‚úì (NOT „ÅÑ„Åè„Å™„ÅÑ ‚úó)<br>
            <strong>Past:</strong> <span class="jp">„Çà„Åã„Å£„Åü</span> ‚úì (NOT „ÅÑ„Åã„Å£„Åü ‚úó)<br>
            <strong>„Å¶-form:</strong> <span class="jp">„Çà„Åè„Å¶</span> ‚úì (NOT „ÅÑ„Åè„Å¶ ‚úó)<br>
            <strong>Adverb:</strong> <span class="jp">„Çà„Åè</span> ‚úì (often, well)<br><br>
            <em>Why?</em> Historically, the proper form is <span class="jp">„Çà„ÅÑ</span>, and <span class="jp">„ÅÑ„ÅÑ</span> is a colloquial shortening that's only used in the present tense.
          </p>
        </div>

        <h3 class="section-title">„Å™-Adjectives: Complete Conjugation Guide</h3>
        <div style="margin-bottom: 2rem;">
          <div style="background: #eef5ef; padding: 1.5rem; border-radius: 4px; margin-bottom: 1.5rem; border-left: 4px solid var(--sage);">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">Understanding „Å™-Adjectives as Nouns:</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              „Å™-adjectives are fundamentally different from „ÅÑ-adjectives because <strong>they're actually nouns</strong>. In Japanese grammar, they're called <span class="jp">ÂΩ¢ÂÆπÂãïË©û</span> (keiyoudoushi) or "adjectival verbs/nouns." Here's what this means in practice:
            </p>
            <ul style="margin-left: 1.5rem; line-height: 1.9; margin-bottom: 1rem;">
              <li>They can't conjugate on their own‚Äîthey need to borrow „Å†/„Åß„Åô (the copula verb)</li>
              <li>When modifying nouns directly, they need „Å™ as a connector (like "of" in English)</li>
              <li>They follow the exact same pattern as regular nouns when used as predicates</li>
              <li>Many started as Chinese loan words, which is why they often have a different feel</li>
            </ul>
            <div style="background: white; padding: 1rem; border-radius: 4px;">
              <strong>Compare these sentences:</strong><br>
              <span class="jp">Â≠¶Áîü„Å†</span> - (I) am a student [noun]<br>
              <span class="jp">Èùô„Åã„Å†</span> - (It) is quiet [„Å™-adjective]<br>
              ‚Üí Both use „Å† in the same way!
            </div>
          </div>

          <p style="margin-bottom: 1.5rem; line-height: 1.8;">
            Since „Å™-adjectives are nouns, they conjugate by using <strong>„Åß„Åô/„Å†</strong> (the copula - the "is/am/are" verb). The „Å™-adjective itself doesn't change‚Äîonly the „Åß„Åô/„Å† part conjugates.
          </p>

          <table class="conj-table">
            <thead>
              <tr>
                <th>Form</th>
                <th>Pattern</th>
                <th>Example: <span class="jp">Èùô„Åã</span> (shizuka - quiet)</th>
                <th>Meaning</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Present Casual</td>
                <td>Base + „Å†</td>
                <td class="highlight jp">Èùô„Åã„Å†</td>
                <td>(is) quiet</td>
              </tr>
              <tr>
                <td>Present Polite</td>
                <td>Base + „Åß„Åô</td>
                <td class="highlight jp">Èùô„Åã„Åß„Åô</td>
                <td>(is) quiet [polite]</td>
              </tr>
              <tr>
                <td>Negative Casual</td>
                <td>Base + „Åò„ÇÉ„Å™„ÅÑ<br><small style="color: var(--text-light);">(or „Åß„ÅØ„Å™„ÅÑ - formal writing)</small></td>
                <td class="highlight jp">Èùô„Åã„Åò„ÇÉ„Å™„ÅÑ<br><small class="jp">Èùô„Åã„Åß„ÅØ„Å™„ÅÑ</small></td>
                <td>(is) not quiet</td>
              </tr>
              <tr>
                <td>Negative Polite</td>
                <td>Base + „Åò„ÇÉ„Å™„ÅÑ„Åß„Åô<br><small style="color: var(--text-light);">(or „Åò„ÇÉ„ÅÇ„Çä„Åæ„Åõ„Çì)</small></td>
                <td class="highlight jp">Èùô„Åã„Åò„ÇÉ„Å™„ÅÑ„Åß„Åô<br><small class="jp">Èùô„Åã„Åò„ÇÉ„ÅÇ„Çä„Åæ„Åõ„Çì</small></td>
                <td>(is) not quiet [polite]</td>
              </tr>
              <tr>
                <td>Past Casual</td>
                <td>Base + „Å†„Å£„Åü</td>
                <td class="highlight jp">Èùô„Åã„Å†„Å£„Åü</td>
                <td>was quiet</td>
              </tr>
              <tr>
                <td>Past Polite</td>
                <td>Base + „Åß„Åó„Åü</td>
                <td class="highlight jp">Èùô„Åã„Åß„Åó„Åü</td>
                <td>was quiet [polite]</td>
              </tr>
              <tr>
                <td>Negative Past Casual</td>
                <td>Base + „Åò„ÇÉ„Å™„Åã„Å£„Åü</td>
                <td class="highlight jp">Èùô„Åã„Åò„ÇÉ„Å™„Åã„Å£„Åü</td>
                <td>was not quiet</td>
              </tr>
              <tr>
                <td>Negative Past Polite</td>
                <td>Base + „Åò„ÇÉ„Å™„Åã„Å£„Åü„Åß„Åô</td>
                <td class="highlight jp">Èùô„Åã„Åò„ÇÉ„Å™„Åã„Å£„Åü„Åß„Åô</td>
                <td>was not quiet [polite]</td>
              </tr>
              <tr>
                <td>„Å¶-form</td>
                <td>Base + „Åß</td>
                <td class="highlight jp">Èùô„Åã„Åß</td>
                <td>quiet and...</td>
              </tr>
              <tr>
                <td>Conditional</td>
                <td>Base + „Å™„Çâ(„Å∞)</td>
                <td class="highlight jp">Èùô„Åã„Å™„Çâ</td>
                <td>if (it's) quiet</td>
              </tr>
              <tr>
                <td>Modifying Nouns</td>
                <td>Base + „Å™ + noun</td>
                <td class="highlight jp">Èùô„Åã„Å™Â†¥ÊâÄ</td>
                <td>a quiet place</td>
              </tr>
              <tr>
                <td>Adverb</td>
                <td>Base + „Å´</td>
                <td class="highlight jp">Èùô„Åã„Å´</td>
                <td>quietly (manner)</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem;">
          <div style="font-weight: 700; color: var(--ink); margin-bottom: 1.5rem; font-size: 1.1rem;">The Critical „Å™ Rule: When to Use „Å™</div>
          <p style="margin-bottom: 1rem; line-height: 1.8;">
            This is where many learners struggle. <strong>„Å™ appears ONLY when the adjective directly modifies a noun that comes right after it.</strong> In all other situations, you don't use „Å™.
          </p>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 1.5rem;">
            <div>
              <div style="font-weight: 600; color: var(--sage); margin-bottom: 0.75rem;">‚úì USE „Å™:</div>
              <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
                <span class="jp" style="font-size: 1.05rem;">Èùô„Åã<strong style="color: var(--accent);">„Å™</strong>ÈÉ®Â±ã</span><br>
                <span style="font-size: 0.85rem;">a quiet room</span><br>
                <span style="font-size: 0.8rem; color: var(--text-light);">‚Üí „Å™ connects to the noun ÈÉ®Â±ã</span>
              </div>
              <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
                <span class="jp" style="font-size: 1.05rem;">ÊúâÂêç<strong style="color: var(--accent);">„Å™</strong>‰∫∫</span><br>
                <span style="font-size: 0.85rem;">a famous person</span><br>
                <span style="font-size: 0.8rem; color: var(--text-light);">‚Üí „Å™ connects to the noun ‰∫∫</span>
              </div>
              <div style="background: white; padding: 1rem; border-radius: 4px;">
                <span class="jp" style="font-size: 1.05rem;">‰æøÂà©<strong style="color: var(--accent);">„Å™</strong>„ÇÇ„ÅÆ</span><br>
                <span style="font-size: 0.85rem;">a convenient thing</span><br>
                <span style="font-size: 0.8rem; color: var(--text-light);">‚Üí „Å™ connects to the noun „ÇÇ„ÅÆ</span>
              </div>
            </div>
            <div>
              <div style="font-weight: 600; color: #c45c4a; margin-bottom: 0.75rem;">‚úó DON'T USE „Å™:</div>
              <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
                <span class="jp" style="font-size: 1.05rem;">ÈÉ®Â±ã„ÅØÈùô„Åã„Åß„Åô„ÄÇ</span><br>
                <span style="font-size: 0.85rem;">The room is quiet.</span><br>
                <span style="font-size: 0.8rem; color: var(--text-light);">‚Üí No „Å™ because it's a predicate</span>
              </div>
              <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
                <span class="jp" style="font-size: 1.05rem;">ÂΩº„ÅØÊúâÂêç„Å†„ÄÇ</span><br>
                <span style="font-size: 0.85rem;">He is famous.</span><br>
                <span style="font-size: 0.8rem; color: var(--text-light);">‚Üí No „Å™, uses „Å† as predicate</span>
              </div>
              <div style="background: white; padding: 1rem; border-radius: 4px;">
                <span class="jp" style="font-size: 1.05rem;">Èùô„Åã„Åß‰æøÂà©„Åß„Åô„ÄÇ</span><br>
                <span style="font-size: 0.85rem;">It's quiet and convenient.</span><br>
                <span style="font-size: 0.8rem; color: var(--text-light);">‚Üí No „Å™ in „Å¶-form</span>
              </div>
            </div>
          </div>

          <div style="background: #fdf8ed; padding: 1.25rem; border-radius: 4px; border-left: 4px solid var(--gold);">
            <strong>Memory Trick:</strong> Think of „Å™ as "of" or "'s" in English. You'd say "a room <em>of</em> quietness" (Èùô„Åã<strong>„Å™</strong>ÈÉ®Â±ã), but not "the room is of quiet" - you just say "the room is quiet" (ÈÉ®Â±ã„ÅØÈùô„Åã<strong>„Åß„Åô</strong>).
          </div>
        </div>

        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 2rem;">
          <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem;">Practice Sentences with „Å™-Adjectives:</div>
          <div style="margin-bottom: 1rem;">
            <span class="jp" style="font-size: 1.1rem; font-weight: 600;">„Åì„ÅÆÁî∫„ÅØÈùô„Åã„Åß„ÄÅ‰æøÂà©„Åß„Åô„ÄÇ</span><br>
            <span style="font-size: 0.9rem; color: var(--text-light);">Kono machi wa shizuka de, benri desu.</span><br>
            <span>This town is quiet and convenient.</span>
            <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.25rem;">‚Üí Using „Å¶-form („Åß) to link two „Å™-adjectives as predicates</div>
          </div>
          <div style="margin-bottom: 1rem;">
            <span class="jp" style="font-size: 1.1rem; font-weight: 600;">Êò®Êó•„ÅÆ„Éë„Éº„ÉÜ„Ç£„Éº„ÅØË≥ë„ÇÑ„Åã„Åò„ÇÉ„Å™„Åã„Å£„Åü„Åß„Åô„ÄÇ</span><br>
            <span style="font-size: 0.9rem; color: var(--text-light);">Kinou no paatii wa nigiyaka janakatta desu.</span><br>
            <span>Yesterday's party was not lively.</span>
            <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.25rem;">‚Üí Negative past polite form</div>
          </div>
          <div style="margin-bottom: 1rem;">
            <span class="jp" style="font-size: 1.1rem; font-weight: 600;">ÂΩº„ÅØË¶™Âàá„Å™ÂÖàÁîü„Åß„Åô„ÄÇ</span><br>
            <span style="font-size: 0.9rem; color: var(--text-light);">Kare wa shinsetsu na sensei desu.</span><br>
            <span>He is a kind teacher.</span>
            <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.25rem;">‚Üí Using „Å™ to modify the noun ÂÖàÁîü</div>
          </div>
          <div>
            <span class="jp" style="font-size: 1.1rem; font-weight: 600;">Èùô„Åã„Å´Ë©±„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</span><br>
            <span style="font-size: 0.9rem; color: var(--text-light);">Shizuka ni hanashite kudasai.</span><br>
            <span>Please speak quietly.</span>
            <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.25rem;">‚Üí Adverb form („Å´) modifying the verb Ë©±„Åô</div>
          </div>
        </div>

        <div class="info-box green">
          <div class="info-box-title">Common „Å™-Adjectives You Should Know</div>
          <p class="info-box-text" style="line-height: 2;">
            <strong>Describing places/things:</strong><br>
            <span class="jp">‰æøÂà© (benri)</span> - convenient ‚Ä¢ <span class="jp">‰∏ç‰æø (fuben)</span> - inconvenient ‚Ä¢ <span class="jp">Èùô„Åã (shizuka)</span> - quiet ‚Ä¢ <span class="jp">Ë≥ë„ÇÑ„Åã (nigiyaka)</span> - lively<br><br>
            <strong>Describing people:</strong><br>
            <span class="jp">Ë¶™Âàá (shinsetsu)</span> - kind ‚Ä¢ <span class="jp">ÁúüÈù¢ÁõÆ (majime)</span> - serious/earnest ‚Ä¢ <span class="jp">ÂÖÉÊ∞ó (genki)</span> - energetic/healthy ‚Ä¢ <span class="jp">Á¥†Êïµ (suteki)</span> - wonderful/lovely<br><br>
            <strong>Abstract qualities:</strong><br>
            <span class="jp">Â§ßÂàá (taisetsu)</span> - important ‚Ä¢ <span class="jp">ÂøÖË¶Å (hitsuyou)</span> - necessary ‚Ä¢ <span class="jp">Á∞°Âçò (kantan)</span> - simple/easy ‚Ä¢ <span class="jp">Ë§áÈõë (fukuzatsu)</span> - complex<br><br>
            <strong>States/conditions:</strong><br>
            <span class="jp">ÊúâÂêç (yuumei)</span> - famous ‚Ä¢ <span class="jp">Ëá™Áî± (jiyuu)</span> - free ‚Ä¢ <span class="jp">ÂÆâÂÖ® (anzen)</span> - safe ‚Ä¢ <span class="jp">Âç±Èô∫ (kiken)</span> - dangerous
          </p>
        </div>

        <h3 class="section-title">Side-by-Side Comparison: „ÅÑ vs „Å™ Adjectives</h3>
        <div style="margin-bottom: 2rem;">
          <table class="conj-table">
            <thead>
              <tr>
                <th>Aspect</th>
                <th style="background: #4a90a4; color: white;">„ÅÑ-Adjectives</th>
                <th style="background: var(--sage); color: white;">„Å™-Adjectives</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Part of Speech</strong></td>
                <td>True adjectives</td>
                <td>Adjectival nouns</td>
              </tr>
              <tr>
                <td><strong>Ending</strong></td>
                <td>Always end in „ÅÑ</td>
                <td>No consistent ending</td>
              </tr>
              <tr>
                <td><strong>Conjugation</strong></td>
                <td>Change the „ÅÑ itself</td>
                <td>Add „Åß„Åô/„Å† (like nouns)</td>
              </tr>
              <tr>
                <td><strong>Modifying Nouns</strong></td>
                <td>Direct: <span class="jp">Ëµ§„ÅÑËªä</span></td>
                <td>Need „Å™: <span class="jp">Èùô„Åã„Å™Ëªä</span></td>
              </tr>
              <tr>
                <td><strong>As Predicate</strong></td>
                <td><span class="jp">È´ò„ÅÑ</span> (complete)<br><span class="jp">È´ò„ÅÑ„Åß„Åô</span> (polite)</td>
                <td><span class="jp">Èùô„Åã„Å†</span> (casual)<br><span class="jp">Èùô„Åã„Åß„Åô</span> (polite)</td>
              </tr>
              <tr>
                <td><strong>Negative</strong></td>
                <td><span class="jp">È´ò„Åè„Å™„ÅÑ</span></td>
                <td><span class="jp">Èùô„Åã„Åò„ÇÉ„Å™„ÅÑ</span></td>
              </tr>
              <tr>
                <td><strong>Past</strong></td>
                <td><span class="jp">È´ò„Åã„Å£„Åü</span></td>
                <td><span class="jp">Èùô„Åã„Å†„Å£„Åü</span></td>
              </tr>
              <tr>
                <td><strong>„Å¶-form</strong></td>
                <td><span class="jp">È´ò„Åè„Å¶</span></td>
                <td><span class="jp">Èùô„Åã„Åß</span></td>
              </tr>
              <tr>
                <td><strong>Adverb Form</strong></td>
                <td>Drop „ÅÑ + „Åè: <span class="jp">È´ò„Åè</span></td>
                <td>Add „Å´: <span class="jp">Èùô„Åã„Å´</span></td>
              </tr>
              <tr>
                <td><strong>Origin</strong></td>
                <td>Usually native Japanese</td>
                <td>Often Chinese loan words</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h3 class="section-title">Common Mistakes & How to Avoid Them</h3>
        <div style="background: #fbeef0; padding: 2rem; border-radius: 4px; margin-bottom: 2rem; border-left: 4px solid var(--accent);">
          <div style="margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">‚ùå Mistake #1: Using „Å™ with „ÅÑ-adjectives</div>
            <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
              <span style="color: #c45c4a; font-weight: 600;">‚úó Wrong:</span> <span class="jp">Ëµ§„ÅÑ„Å™Ëªä</span><br>
              <span style="color: var(--sage); font-weight: 600;">‚úì Correct:</span> <span class="jp">Ëµ§„ÅÑËªä</span> (akai kuruma - red car)
            </div>
            <div style="font-size: 0.9rem; color: var(--text-light);">
              <strong>Why:</strong> „ÅÑ-adjectives modify nouns directly without „Å™.
            </div>
          </div>

          <div style="margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">‚ùå Mistake #2: Forgetting „Å™ with „Å™-adjectives</div>
            <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
              <span style="color: #c45c4a; font-weight: 600;">‚úó Wrong:</span> <span class="jp">Èùô„ÅãÈÉ®Â±ã</span><br>
              <span style="color: var(--sage); font-weight: 600;">‚úì Correct:</span> <span class="jp">Èùô„Åã„Å™ÈÉ®Â±ã</span> (shizuka na heya - quiet room)
            </div>
            <div style="font-size: 0.9rem; color: var(--text-light);">
              <strong>Why:</strong> „Å™-adjectives need „Å™ to connect to nouns.
            </div>
          </div>

          <div style="margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">‚ùå Mistake #3: Trying to conjugate „Å™-adjectives like „ÅÑ-adjectives</div>
            <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
              <span style="color: #c45c4a; font-weight: 600;">‚úó Wrong:</span> <span class="jp">„Åç„Çå„Åè„Å™„ÅÑ</span> (trying to conjugate like „ÅÑ-adjective)<br>
              <span style="color: var(--sage); font-weight: 600;">‚úì Correct:</span> <span class="jp">„Åç„Çå„ÅÑ„Åò„ÇÉ„Å™„ÅÑ</span> (kirei janai - not pretty)
            </div>
            <div style="font-size: 0.9rem; color: var(--text-light);">
              <strong>Why:</strong> Even though „Åç„Çå„ÅÑ ends in „ÅÑ, it's a „Å™-adjective and must use „Åò„ÇÉ„Å™„ÅÑ for negation.
            </div>
          </div>

          <div style="margin-bottom: 1.5rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">‚ùå Mistake #4: Using „Å™ when the adjective is a predicate</div>
            <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
              <span style="color: #c45c4a; font-weight: 600;">‚úó Wrong:</span> <span class="jp">„Åì„ÅÆÈÉ®Â±ã„ÅØÈùô„Åã„Å™„Åß„Åô</span><br>
              <span style="color: var(--sage); font-weight: 600;">‚úì Correct:</span> <span class="jp">„Åì„ÅÆÈÉ®Â±ã„ÅØÈùô„Åã„Åß„Åô</span> (kono heya wa shizuka desu - this room is quiet)
            </div>
            <div style="font-size: 0.9rem; color: var(--text-light);">
              <strong>Why:</strong> „Å™ only appears before nouns being modified. When the adjective is the predicate (main descriptor), use „Åß„Åô/„Å† directly.
            </div>
          </div>

          <div>
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem;">‚ùå Mistake #5: Mixing up „Å† and „Åß„Åô placement</div>
            <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.5rem;">
              <span style="color: #c45c4a; font-weight: 600;">‚úó Wrong:</span> <span class="jp">È´ò„ÅÑ„Å†</span> or <span class="jp">Èùô„Åã„ÅÑ„Åß„Åô</span><br>
              <span style="color: var(--sage); font-weight: 600;">‚úì Correct:</span> <span class="jp">È´ò„ÅÑ</span> or <span class="jp">È´ò„ÅÑ„Åß„Åô</span> (for „ÅÑ-adjectives)<br>
              <span style="color: var(--sage); font-weight: 600;">‚úì Correct:</span> <span class="jp">Èùô„Åã„Å†</span> or <span class="jp">Èùô„Åã„Åß„Åô</span> (for „Å™-adjectives)
            </div>
            <div style="font-size: 0.9rem; color: var(--text-light);">
              <strong>Why:</strong> „ÅÑ-adjectives can stand alone (the „ÅÑ is already like "is"). „Å™-adjectives need „Å†/„Åß„Åô because they're nouns.
            </div>
          </div>
        </div>

        <h3 class="section-title">Learning Strategies: How to Master Adjectives</h3>
        <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 2rem;">
          <div style="margin-bottom: 2rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem; font-size: 1.05rem;">üìö Strategy #1: Learn „Å™-adjectives as vocabulary items</div>
            <p style="line-height: 1.8; margin-bottom: 0.75rem;">
              Since there's no reliable pattern for identifying „Å™-adjectives (unlike „ÅÑ-adjectives which always end in „ÅÑ), you need to memorize them individually. When you learn a new adjective, always note whether it's „ÅÑ or „Å™.
            </p>
            <div style="background: white; padding: 1rem; border-radius: 4px;">
              <strong>Good practice:</strong> Create flashcards that show both forms:<br>
              Front: <span class="jp">Èùô„Åã</span><br>
              Back: [„Å™-adj] quiet ‚Ä¢ <span class="jp">Èùô„Åã„Å™ÈÉ®Â±ã</span> (quiet room) ‚Ä¢ <span class="jp">ÈÉ®Â±ã„ÅØÈùô„Åã„Åß„Åô</span> (the room is quiet)
            </div>
          </div>

          <div style="margin-bottom: 2rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem; font-size: 1.05rem;">üîç Strategy #2: Test with conjugation</div>
            <p style="line-height: 1.8; margin-bottom: 0.75rem;">
              When you're unsure if something is an „ÅÑ or „Å™-adjective, try conjugating it to negative:
            </p>
            <ul style="margin-left: 1.5rem; line-height: 1.8;">
              <li>If <span class="jp">„Äú„Åè„Å™„ÅÑ</span> sounds right ‚Üí it's an „ÅÑ-adjective (e.g., <span class="jp">È´ò„ÅÑ ‚Üí È´ò„Åè„Å™„ÅÑ</span>)</li>
              <li>If <span class="jp">„Äú„Åò„ÇÉ„Å™„ÅÑ</span> sounds right ‚Üí it's a „Å™-adjective (e.g., <span class="jp">„Åç„Çå„ÅÑ ‚Üí „Åç„Çå„ÅÑ„Åò„ÇÉ„Å™„ÅÑ</span>)</li>
              <li>If neither sounds right, you might need to check a dictionary!</li>
            </ul>
          </div>

          <div style="margin-bottom: 2rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem; font-size: 1.05rem;">üéØ Strategy #3: Practice the „Å™ rule repeatedly</div>
            <p style="line-height: 1.8; margin-bottom: 0.75rem;">
              The „Å™ rule is simple but easy to forget: <strong>Use „Å™ ONLY when the adjective comes directly before a noun it's modifying.</strong> Practice by converting sentences:
            </p>
            <div style="background: white; padding: 1rem; border-radius: 4px;">
              <span class="jp">„Åì„ÅÆÁî∫„ÅØÈùô„Åã„Åß„Åô„ÄÇ</span> (This town is quiet.) ‚Üí <span class="jp">Èùô„Åã„Å™Áî∫</span> (a quiet town)<br>
              <span class="jp">ÂΩº„ÅØÊúâÂêç„Åß„Åô„ÄÇ</span> (He is famous.) ‚Üí <span class="jp">ÊúâÂêç„Å™‰∫∫</span> (a famous person)
            </div>
          </div>

          <div style="margin-bottom: 2rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem; font-size: 1.05rem;">üí° Strategy #4: Understand the "why" behind „Å™-adjectives</div>
            <p style="line-height: 1.8;">
              Remember that „Å™-adjectives are essentially nouns. When you say <span class="jp">Èùô„Åã„Å™ÈÉ®Â±ã</span>, you're literally saying "a room <em>of</em> quietness." This „Å™ is similar to the possessive „ÅÆ that connects nouns. Once you internalize that „Å™-adjectives are nouns in disguise, their behavior makes much more sense.
            </p>
          </div>

          <div>
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 0.75rem; font-size: 1.05rem;">üó£Ô∏è Strategy #5: Immersion and pattern recognition</div>
            <p style="line-height: 1.8; margin-bottom: 0.75rem;">
              Pay attention to how native speakers use adjectives in real content (anime, dramas, podcasts, books). You'll start to develop an intuition for which adjectives are „ÅÑ vs „Å™. Common „Å™-adjectives you'll hear all the time:
            </p>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 0.5rem; font-size: 0.9rem;">
              <div><span class="jp">ÂÖÉÊ∞ó</span> (genki)</div>
              <div><span class="jp">Â§ß‰∏àÂ§´</span> (daijoubu)</div>
              <div><span class="jp">Â•Ω„Åç</span> (suki)</div>
              <div><span class="jp">Â´å„ÅÑ</span> (kirai)</div>
              <div><span class="jp">„Åç„Çå„ÅÑ</span> (kirei)</div>
              <div><span class="jp">Èùô„Åã</span> (shizuka)</div>
              <div><span class="jp">‰æøÂà©</span> (benri)</div>
              <div><span class="jp">ÊúâÂêç</span> (yuumei)</div>
            </div>
          </div>
        </div>

        <h3 class="section-title">Using Adjectives with Verbs</h3>
        <div style="background: var(--paper-warm); padding: 2rem; border-radius: 4px; margin-bottom: 1.5rem;">
          <p style="margin-bottom: 1.5rem; font-weight: 600; color: var(--ink); line-height: 1.7;">
            Adjectives and verbs work together in Japanese to create rich, descriptive sentences. Understanding how to combine them is essential for expressing complex ideas naturally.
          </p>

          <div style="margin-bottom: 2rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">1. Linking Multiple Adjectives with „Å¶-form (and)</div>
            <p style="line-height: 1.8; margin-bottom: 0.75rem;">
              Use the „Å¶-form to connect multiple adjectives describing the same thing. This is like saying "and" in English.
            </p>
            
            <div style="background: white; padding: 1.25rem; border-radius: 4px; margin-bottom: 0.75rem;">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">„ÅÑ-adjectives: Drop „ÅÑ + „Åè„Å¶</div>
              <span class="jp" style="font-size: 1.1rem;">„Åì„ÅÆÊú¨„ÅØÈù¢ÁôΩ<strong style="color: var(--accent);">„Åè„Å¶</strong>„ÄÅÂÆâ„ÅÑ„Åß„Åô„ÄÇ</span><br>
              <span style="font-size: 0.9rem; color: var(--text-light);">Kono hon wa omoshirokute, yasui desu.</span><br>
              <span style="color: var(--text);">This book is interesting and cheap.</span>
            </div>

            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">„Å™-adjectives: Add „Åß</div>
              <span class="jp" style="font-size: 1.1rem;">ÂΩºÂ•≥„ÅØË¶™Âàá<strong style="color: var(--accent);">„Åß</strong>„ÄÅÂÑ™„Åó„ÅÑ„Åß„Åô„ÄÇ</span><br>
              <span style="font-size: 0.9rem; color: var(--text-light);">Kanojo wa shinsetsu de, yasashii desu.</span><br>
              <span style="color: var(--text);">She is kind and gentle.</span>
            </div>
          </div>

          <div style="margin-bottom: 2rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">2. Describing Actions: Adjectives as Adverbs</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              To describe <em>how</em> an action is performed, convert adjectives to adverbs. These adverbs then modify verbs.
            </p>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1rem;">
              <div style="background: #eef4f8; padding: 1.25rem; border-radius: 4px;">
                <div style="font-weight: 600; color: #4a90a4; margin-bottom: 0.75rem;">„ÅÑ-adjectives ‚Üí Drop „ÅÑ + „Åè</div>
                <div style="margin-bottom: 0.5rem;">
                  <span class="jp">ÈÄü„ÅÑ (hayai - fast)</span><br>
                  ‚Üí <span class="jp" style="color: var(--accent); font-weight: 600;">ÈÄü„Åè (hayaku)</span>
                </div>
                <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(0,0,0,0.1);">
                  <span class="jp" style="font-size: 1.05rem;">ÈÄü<strong style="color: var(--accent);">„Åè</strong>Ëµ∞„Çä„Åæ„Åô„ÄÇ</span><br>
                  <span style="font-size: 0.85rem; color: var(--text-light);">Hayaku hashirimasu.</span><br>
                  <span style="font-size: 0.9rem;">I run fast.</span>
                </div>
              </div>

              <div style="background: #eef5ef; padding: 1.25rem; border-radius: 4px;">
                <div style="font-weight: 600; color: var(--sage); margin-bottom: 0.75rem;">„Å™-adjectives ‚Üí Add „Å´</div>
                <div style="margin-bottom: 0.5rem;">
                  <span class="jp">Èùô„Åã (shizuka - quiet)</span><br>
                  ‚Üí <span class="jp" style="color: var(--accent); font-weight: 600;">Èùô„Åã„Å´ (shizuka ni)</span>
                </div>
                <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(0,0,0,0.1);">
                  <span class="jp" style="font-size: 1.05rem;">Èùô„Åã<strong style="color: var(--accent);">„Å´</strong>Ë©±„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</span><br>
                  <span style="font-size: 0.85rem; color: var(--text-light);">Shizuka ni hanashite kudasai.</span><br>
                  <span style="font-size: 0.9rem;">Please speak quietly.</span>
                </div>
              </div>
            </div>

            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <div style="font-weight: 600; margin-bottom: 0.75rem;">More examples:</div>
              <div style="margin-bottom: 0.5rem;">
                <span class="jp">‰∏äÊâã„Å´Âºæ„Åë„Åæ„Åô„ÄÇ</span> <span style="font-size: 0.85rem; color: var(--text-light);">(jouzu ni hikemasu)</span> - Can play skillfully
              </div>
              <div style="margin-bottom: 0.5rem;">
                <span class="jp">Êó©„ÅèËµ∑„Åç„Åæ„Åó„Åü„ÄÇ</span> <span style="font-size: 0.85rem; color: var(--text-light);">(hayaku okimashita)</span> - Woke up early
              </div>
              <div>
                <span class="jp">Á∂∫È∫ó„Å´Êõ∏„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</span> <span style="font-size: 0.85rem; color: var(--text-light);">(kirei ni kaite kudasai)</span> - Please write neatly
              </div>
            </div>
          </div>

          <div style="margin-bottom: 2rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">3. Describing Results: Adjective + „Åô„Çã/„Å´„Åô„Çã</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Use „Åô„Çã (to do/make) or „Å´„Åô„Çã (to make into) to express making something become a certain way.
            </p>

            <div style="background: white; padding: 1.25rem; border-radius: 4px; margin-bottom: 0.75rem;">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">„ÅÑ-adjectives: Drop „ÅÑ + „Åè„Åô„Çã</div>
              <span class="jp" style="font-size: 1.05rem;">Èü≥„ÇíÂ∞è„Åï„Åè„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Oto wo chiisaku shite kudasai.</span><br>
              <span style="font-size: 0.9rem; color: var(--text);">Please make the sound quieter. (Turn down the volume)</span>
            </div>

            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">„Å™-adjectives: Add „Å´„Åô„Çã</div>
              <span class="jp" style="font-size: 1.05rem;">ÈÉ®Â±ã„Çí„Åç„Çå„ÅÑ„Å´„Åó„Åæ„Åó„Åü„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Heya wo kirei ni shimashita.</span><br>
              <span style="font-size: 0.9rem; color: var(--text);">I made the room clean. / I cleaned the room.</span>
            </div>
          </div>

          <div style="margin-bottom: 2rem;">
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">4. Expressing Change: Adjective + „Å™„Çã (to become)</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Use „Å™„Çã (to become) to express that something is changing or has changed state naturally.
            </p>

            <div style="background: white; padding: 1.25rem; border-radius: 4px; margin-bottom: 0.75rem;">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">„ÅÑ-adjectives: Drop „ÅÑ + „Åè„Å™„Çã</div>
              <span class="jp" style="font-size: 1.05rem;">ÂØí„Åè„Å™„Çä„Åæ„Åó„Åü„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Samuku narimashita.</span><br>
              <span style="font-size: 0.9rem; color: var(--text);">It became cold. / It got cold.</span>
            </div>

            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">„Å™-adjectives: Add „Å´„Å™„Çã</div>
              <span class="jp" style="font-size: 1.05rem;">ÊúâÂêç„Å´„Å™„Çä„Åü„ÅÑ„Åß„Åô„ÄÇ</span><br>
              <span style="font-size: 0.85rem; color: var(--text-light);">Yuumei ni naritai desu.</span><br>
              <span style="font-size: 0.9rem; color: var(--text);">I want to become famous.</span>
            </div>

            <div style="background: #fdf8ed; padding: 1rem; border-radius: 4px; margin-top: 0.75rem; border-left: 4px solid var(--gold);">
              <strong>„Åô„Çã vs „Å™„Çã:</strong><br>
              ‚Ä¢ <strong>„Äú„Åè„Åô„Çã/„Å´„Åô„Çã</strong> = to make something that way (you cause it)<br>
              ‚Ä¢ <strong>„Äú„Åè„Å™„Çã/„Å´„Å™„Çã</strong> = to become that way (it changes naturally)
            </div>
          </div>

          <div>
            <div style="font-weight: 700; color: var(--ink); margin-bottom: 1rem; font-size: 1.05rem;">5. Modifying Nouns: Describing What Kind</div>
            <p style="line-height: 1.8; margin-bottom: 1rem;">
              Adjectives can directly modify nouns to specify what kind of thing you're talking about.
            </p>

            <div style="background: white; padding: 1.25rem; border-radius: 4px; margin-bottom: 0.75rem;">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">„ÅÑ-adjectives: Place directly before noun</div>
              <span class="jp" style="font-size: 1.05rem;">Â§ß„Åç„ÅÑÁä¨</span> (ookii inu) - a big dog<br>
              <span class="jp" style="font-size: 1.05rem;">Áæé„Åó„ÅÑÊôØËâ≤</span> (utsukushii keshiki) - beautiful scenery
            </div>

            <div style="background: white; padding: 1.25rem; border-radius: 4px;">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">„Å™-adjectives: Add „Å™ before noun</div>
              <span class="jp" style="font-size: 1.05rem;">Èùô„Åã„Å™Â†¥ÊâÄ</span> (shizuka na basho) - a quiet place<br>
              <span class="jp" style="font-size: 1.05rem;">ÊúâÂêç„Å™Ê≠åÊâã</span> (yuumei na kashu) - a famous singer
            </div>
          </div>
        </div>

        <h3 class="section-title">Comprehensive Practice Examples</h3>
        <div style="background: var(--paper-warm); padding: 1.5rem; border-radius: 4px; margin-bottom: 2rem;">
          <p style="margin-bottom: 1.25rem; font-weight: 600; color: var(--ink);">
            Here are complex sentences that combine multiple adjective patterns:
          </p>

          <div style="margin-bottom: 1.25rem;">
            <span class="jp" style="font-size: 1.15rem; font-weight: 600;">„Åì„ÅÆ„Ç±„Éº„Ç≠„ÅØÁîò„Åè„Å¶ÁæéÂë≥„Åó„ÅÑ„Åß„Åô„ÄÇ</span><br>
            <span style="color: var(--text-light); font-size: 0.9rem;">Kono keeki wa amakute oishii desu.</span><br>
            <span style="color: var(--text);">This cake is sweet and delicious.</span>
            <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.25rem; margin-left: 1rem;">
              ‚Üí Two „ÅÑ-adjectives linked with „Å¶-form
            </div>
          </div>

          <div style="margin-bottom: 1.25rem;">
            <span class="jp" style="font-size: 1.15rem; font-weight: 600;">Êù±‰∫¨„ÅØ‰æøÂà©„Åß„ÄÅË≥ë„ÇÑ„Åã„Å™Ë°ó„Åß„Åô„ÄÇ</span><br>
            <span style="color: var(--text-light); font-size: 0.9rem;">Tokyo wa benri de, nigiyaka na machi desu.</span><br>
            <span style="color: var(--text);">Tokyo is a convenient and lively city.</span>
            <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.25rem; margin-left: 1rem;">
              ‚Üí Two „Å™-adjectives: one with „Å¶-form („Åß), one modifying noun („Å™)
            </div>
          </div>

          <div style="margin-bottom: 1.25rem;">
            <span class="jp" style="font-size: 1.15rem; font-weight: 600;">Êò®Êó•„ÅØÂØí„Åè„Å™„Åã„Å£„Åü„Åß„Åô„ÄÇ</span><br>
            <span style="color: var(--text-light); font-size: 0.9rem;">Kinou wa samukunakatta desu.</span><br>
            <span style="color: var(--text);">Yesterday was not cold.</span>
            <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.25rem; margin-left: 1rem;">
              ‚Üí „ÅÑ-adjective in negative past polite form
            </div>
          </div>

          <div style="margin-bottom: 1.25rem;">
            <span class="jp" style="font-size: 1.15rem; font-weight: 600;">„ÇÇ„Å£„Å®Êó©„ÅèËµ∑„Åç„Å™„Åë„Çå„Å∞„Å™„Çä„Åæ„Åõ„Çì„ÄÇ</span><br>
            <span style="color: var(--text-light); font-size: 0.9rem;">Motto hayaku okinakereba narimasen.</span><br>
            <span style="color: var(--text);">I must wake up earlier.</span>
            <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.25rem; margin-left: 1rem;">
              ‚Üí „ÅÑ-adjective as adverb (Êó©„Åè) modifying verb Ëµ∑„Åç„Çã
            </div>
          </div>

          <div style="margin-bottom: 1.25rem;">
            <span class="jp" style="font-size: 1.15rem; font-weight: 600;">ÈÉ®Â±ã„ÇíÁ∂∫È∫ó„Å´„Åó„Å¶„ÄÅÈùô„Åã„Å´ÂãâÂº∑„Åó„Åæ„Åó„Åü„ÄÇ</span><br>
            <span style="color: var(--text-light); font-size: 0.9rem;">Heya wo kirei ni shite, shizuka ni benkyou shimashita.</span><br>
            <span style="color: var(--text);">I cleaned the room and studied quietly.</span>
            <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.25rem; margin-left: 1rem;">
              ‚Üí „Å™-adjectives: one with „Å´„Åô„Çã (making something), one as adverb with „Å´
            </div>
          </div>

          <div>
            <span class="jp" style="font-size: 1.15rem; font-weight: 600;">Â§©Ê∞ó„ÅåËâØ„Åè„Å™„Å£„Å¶„ÄÅÊöñ„Åã„Åè„Å™„Çä„Åæ„Åó„Åü„ÄÇ</span><br>
            <span style="color: var(--text-light); font-size: 0.9rem;">Tenki ga yokunatte, atatakaku narimashita.</span><br>
            <span style="color: var(--text);">The weather got better and it became warm.</span>
            <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.25rem; margin-left: 1rem;">
              ‚Üí Two „ÅÑ-adjectives with „Å™„Çã (becoming), linked with „Å¶-form
            </div>
          </div>
        </div>

        <div class="info-box blue" style="margin-bottom: 2rem;">
          <div class="info-box-title">üéì Quick Reference Summary</div>
          <p class="info-box-text" style="line-height: 2;">
            <strong>„ÅÑ-Adjectives:</strong><br>
            ‚Ä¢ Conjugate on their own (change the „ÅÑ)<br>
            ‚Ä¢ Modify nouns directly: <span class="jp">Â§ß„Åç„ÅÑÁä¨</span><br>
            ‚Ä¢ Negative: „Äú„Åè„Å™„ÅÑ ‚Ä¢ Past: „Äú„Åã„Å£„Åü ‚Ä¢ Adverb: „Äú„Åè<br><br>
            
            <strong>„Å™-Adjectives:</strong><br>
            ‚Ä¢ Use „Åß„Åô/„Å† (they're nouns)<br>
            ‚Ä¢ Need „Å™ before nouns: <span class="jp">Èùô„Åã„Å™Áä¨</span><br>
            ‚Ä¢ Negative: „Äú„Åò„ÇÉ„Å™„ÅÑ ‚Ä¢ Past: „Äú„Å†„Å£„Åü ‚Ä¢ Adverb: „Äú„Å´<br><br>
            
            <strong>Key Rule:</strong> Use „Å™ ONLY when the adjective directly modifies a noun. Otherwise, use „Åß„Åô/„Å†.
          </p>
        </div>
      </div>

      <div class="forms-cta">
        <button class="btn btn-primary" onclick="showPage('conjugator')">Practice with The Conjugator ‚Üí</button>
      </div>
    </div>
  </div>

  <!-- VERB LIST PAGE -->
  <div id="page-verblist" class="page">
    <div class="learn-page" style="max-width: 1200px;">
      <!-- Header -->
      <div class="page-header" style="text-align: center; margin-bottom: 3rem;">
        <div class="page-tag">The Database</div>
        <h1 class="page-title">129 Verbs</h1>
        <p class="page-desc" style="max-width: 800px; margin: 0 auto; line-height: 1.8;">
          This collection includes fundamental verbs for everyday conversation, along with verbs used in academic and formal contexts. 
          The database covers verbs from beginner through intermediate levels, organized into three types‚ÄîGodan, Ichidan, and Suru‚Äîto help 
          you understand conjugation patterns. Each verb includes kanji, hiragana readings, romaji, and English meanings. 
          You'll find essential verbs for daily life, emotions, actions, and social interactions.
        </p>
        <div style="margin-top: 1.5rem; padding: 1rem; background: var(--paper-warm); border-radius: 4px; border-left: 4px solid var(--accent);">
          <strong style="color: var(--accent);">üìö This is a living database‚Äînew verbs may be added as the collection grows.</strong>
        </div>
      </div>

      <!-- Verb Stats - Redesigned -->
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 1rem; margin-bottom: 3rem;">
        <div style="background: #4a90a4; padding: 1.5rem; border-radius: 8px; text-align: center; color: white; box-shadow: 0 4px 12px rgba(74, 144, 164, 0.2);">
          <div style="font-size: 2rem; font-weight: 700; margin-bottom: 0.25rem;">64</div>
          <div style="font-size: 0.9rem; font-weight: 600; opacity: 0.95;">Godan Verbs</div>
          <div class="jp" style="font-size: 1.25rem; margin-top: 0.25rem; opacity: 0.9;">‰∫îÊÆµ</div>
        </div>
        <div style="background: var(--sage); padding: 1.5rem; border-radius: 8px; text-align: center; color: white; box-shadow: 0 4px 12px rgba(106, 138, 106, 0.2);">
          <div style="font-size: 2rem; font-weight: 700; margin-bottom: 0.25rem;">40</div>
          <div style="font-size: 0.9rem; font-weight: 600; opacity: 0.95;">Ichidan Verbs</div>
          <div class="jp" style="font-size: 1.25rem; margin-top: 0.25rem; opacity: 0.9;">‰∏ÄÊÆµ</div>
        </div>
        <div style="background: #7a5ba4; padding: 1.5rem; border-radius: 8px; text-align: center; color: white; box-shadow: 0 4px 12px rgba(122, 91, 164, 0.2);">
          <div style="font-size: 2rem; font-weight: 700; margin-bottom: 0.25rem;">24</div>
          <div style="font-size: 0.9rem; font-weight: 600; opacity: 0.95;">Suru Verbs</div>
          <div class="jp" style="font-size: 1.25rem; margin-top: 0.25rem; opacity: 0.9;">„Åô„Çã</div>
        </div>
        <div style="background: var(--accent); padding: 1.5rem; border-radius: 8px; text-align: center; color: white; box-shadow: 0 4px 12px rgba(196, 92, 74, 0.2);">
          <div style="font-size: 2rem; font-weight: 700; margin-bottom: 0.25rem;">1</div>
          <div style="font-size: 0.9rem; font-weight: 600; opacity: 0.95;">Irregular Verb</div>
          <div class="jp" style="font-size: 1.25rem; margin-top: 0.25rem; opacity: 0.9;">‰∏çË¶èÂâá</div>
        </div>
      </div>

      <!-- Verb Type Tabs - Redesigned -->
      <div style="margin-bottom: 2rem;">
        <!-- Search Box -->
        <div style="margin-bottom: 1.5rem;">
          <div style="position: relative; max-width: 500px; margin: 0 auto;">
            <input 
              type="text" 
              id="verb-search" 
              placeholder="Search by kanji, hiragana, romaji, or meaning..." 
              oninput="filterVerbs()"
              style="width: 100%; padding: 1rem 1rem 1rem 3rem; font-size: 1rem; border: 2px solid #e5e5e0; border-radius: 8px; font-family: inherit; transition: border-color 0.2s; background: white;"
            >
            <svg style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); width: 20px; height: 20px; color: var(--text-light);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </div>
          <div id="search-results-count" style="text-align: center; margin-top: 0.75rem; font-size: 0.9rem; color: var(--text-light); display: none;"></div>
        </div>

        <!-- JLPT Filter Buttons -->
        <div style="display: flex; justify-content: center; gap: 0.5rem; margin-bottom: 1.5rem; flex-wrap: wrap;">
          <button onclick="filterByJLPT('all')" id="jlpt-filter-all" class="jlpt-filter-btn active" style="padding: 0.5rem 1rem; border: 2px solid var(--ink); background: var(--ink); color: white; border-radius: 20px; font-size: 0.85rem; font-weight: 600; cursor: pointer; transition: all 0.2s; font-family: inherit;">All Levels</button>
          <button onclick="filterByJLPT('N5')" id="jlpt-filter-N5" class="jlpt-filter-btn" style="padding: 0.5rem 1rem; border: 2px solid #22c55e; background: white; color: #22c55e; border-radius: 20px; font-size: 0.85rem; font-weight: 600; cursor: pointer; transition: all 0.2s; font-family: inherit;">N5</button>
          <button onclick="filterByJLPT('N4')" id="jlpt-filter-N4" class="jlpt-filter-btn" style="padding: 0.5rem 1rem; border: 2px solid #f59e0b; background: white; color: #f59e0b; border-radius: 20px; font-size: 0.85rem; font-weight: 600; cursor: pointer; transition: all 0.2s; font-family: inherit;">N4</button>
          <button onclick="filterByJLPT('N3')" id="jlpt-filter-N3" class="jlpt-filter-btn" style="padding: 0.5rem 1rem; border: 2px solid #ef4444; background: white; color: #ef4444; border-radius: 20px; font-size: 0.85rem; font-weight: 600; cursor: pointer; transition: all 0.2s; font-family: inherit;">N3</button>
        </div>

        <div style="display: flex; gap: 0.5rem; margin-bottom: 2rem; flex-wrap: wrap; background: var(--paper-warm); padding: 0.5rem; border-radius: 8px;">
          <button onclick="showVerbList('godan')" id="verb-tab-godan" class="verb-list-tab active" style="flex: 1; min-width: 120px;">
            <span style="font-size: 1.2rem; color: #4a90a4;">‚óè</span> Godan <span class="jp">(‰∫îÊÆµ)</span>
          </button>
          <button onclick="showVerbList('ichidan')" id="verb-tab-ichidan" class="verb-list-tab" style="flex: 1; min-width: 120px;">
            <span style="font-size: 1.2rem; color: var(--sage);">‚óè</span> Ichidan <span class="jp">(‰∏ÄÊÆµ)</span>
          </button>
          <button onclick="showVerbList('suru')" id="verb-tab-suru" class="verb-list-tab" style="flex: 1; min-width: 120px;">
            <span style="font-size: 1.2rem; color: #7a5ba4;">‚óè</span> Suru <span class="jp">(„Åô„Çã)</span>
          </button>
          <button onclick="showVerbList('irregular')" id="verb-tab-irregular" class="verb-list-tab" style="flex: 1; min-width: 120px;">
            <span style="font-size: 1.2rem; color: var(--accent);">‚óè</span> Irregular <span class="jp">(‰∏çË¶èÂâá)</span>
          </button>
        </div>

        <!-- Godan Verb List -->
        <div id="verb-list-godan" class="verb-list-content active" style="grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem;">
          <!-- Will be populated by JavaScript -->
        </div>

        <!-- Ichidan Verb List -->
        <div id="verb-list-ichidan" class="verb-list-content" style="grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem;">
          <!-- Will be populated by JavaScript -->
        </div>

        <!-- Suru Verb List -->
        <div id="verb-list-suru" class="verb-list-content" style="grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem;">
          <!-- Will be populated by JavaScript -->
        </div>

        <!-- Irregular Verb List -->
        <div id="verb-list-irregular" class="verb-list-content" style="grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem;">
          <!-- Will be populated by JavaScript -->
        </div>

        <!-- Irregular Verb Explanation (shown when irregular tab is active) -->
        <div id="irregular-explanation" style="display: none; margin-top: 1.5rem; padding: 1.5rem; background: linear-gradient(135deg, #fef3f0 0%, #fef9f8 100%); border-radius: 8px; border-left: 4px solid var(--accent);">
          <h4 style="color: var(--ink); margin-bottom: 0.75rem; font-size: 1.1rem;">üî∏ Why is <span class="jp">Êù•„Çã</span> irregular?</h4>
          <p style="line-height: 1.8; color: var(--text); margin-bottom: 1rem;">
            <strong><span class="jp">Êù•„Çã (kuru)</span></strong> is one of only two truly irregular verbs in Japanese (along with <span class="jp">„Åô„Çã</span>). 
            Unlike godan or ichidan verbs, its stem changes unpredictably across conjugations:
          </p>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 0.75rem; font-size: 0.95rem;">
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>Dictionary:</strong> <span class="jp">Êù•„Çã</span> (kuru)
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Åæ„Åô form:</strong> <span class="jp">Êù•„Åæ„Åô</span> (kimasu)
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>„Å¶ form:</strong> <span class="jp">Êù•„Å¶</span> (kite)
            </div>
            <div style="background: white; padding: 0.75rem; border-radius: 4px;">
              <strong>Negative:</strong> <span class="jp">Êù•„Å™„ÅÑ</span> (konai)
            </div>
          </div>
          <p style="line-height: 1.7; color: var(--text-light); margin-top: 1rem; font-size: 0.9rem;">
            Notice how the reading changes: <strong>ku-ru ‚Üí ki-masu ‚Üí ki-te ‚Üí ko-nai</strong>. This vowel shift (u ‚Üí i ‚Üí i ‚Üí o) doesn't follow any standard pattern, which is why it must be memorized separately.
          </p>
        </div>
      </div>

      <!-- Coverage Info - Redesigned -->
      <div style="background: linear-gradient(135deg, var(--ink) 0%, #2a3a4a 100%); padding: 2.5rem; border-radius: 8px; margin-top: 3rem; color: white;">
        <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 1.5rem; text-align: center;">
          üìä Complete JLPT Coverage
        </h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem;">
          <div style="text-align: center; padding: 1.5rem; background: rgba(255,255,255,0.1); border-radius: 4px;">
            <div style="font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem;">‚úÖ N5</div>
            <div style="font-size: 0.95rem; opacity: 0.9;">All essential verbs covered</div>
          </div>
          <div style="text-align: center; padding: 1.5rem; background: rgba(255,255,255,0.1); border-radius: 4px;">
            <div style="font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem;">‚úÖ N4</div>
            <div style="font-size: 0.95rem; opacity: 0.9;">Comprehensive coverage</div>
          </div>
          <div style="text-align: center; padding: 1.5rem; background: rgba(255,255,255,0.1); border-radius: 4px;">
            <div style="font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem;">‚úÖ N3</div>
            <div style="font-size: 0.95rem; opacity: 0.9;">Strong foundation included</div>
          </div>
        </div>
      </div>

      <!-- Call to Action -->
      <div style="text-align: center; margin-top: 3rem; padding: 3rem 2rem; background: var(--accent); border-radius: 8px; box-shadow: 0 8px 24px rgba(0,0,0,0.12);">
        <h3 style="color: white; font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem;">
          Ready to Practice?
        </h3>
        <p style="color: rgba(255,255,255,0.95); margin-bottom: 2rem; font-size: 1.05rem;">
          Now that you've seen all 129 verbs, test your knowledge with the conjugator!
        </p>
        <button class="btn btn-primary" onclick="showPage('conjugator')" style="background: var(--ink); color: white; padding: 1.25rem 2.5rem; font-size: 1.1rem; font-weight: 600; border: none; cursor: pointer; font-family: inherit; border-radius: 4px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); transition: all 0.2s;">
          Start Practicing ‚Üí
        </button>
      </div>
    </div>
  </div>

  <!-- CONJUGATOR PAGE -->
  <div id="page-conjugator" class="page">
    <div class="conjugator-page">
      <div class="conjugator-header">
        <div>
          <div class="page-tag">Interactive Practice</div>
          <h1 class="page-title" style="font-size: 2rem">The Conjugator</h1>
        </div>
        <div style="display: flex; align-items: center; gap: 1rem;">
          <button id="report-btn" class="report-btn" onclick="showMistakeReport()" title="View your practice report">
            üìä View Report
          </button>
          <button type="button" id="reset-stats-btn" class="reset-btn" title="Reset score" onclick="resetScoreNow()" style="padding: 0.75rem 1rem; font-size: 0.85rem;">
            ‚Ü∫ Reset
          </button>
          <div class="score-box">
            <div class="score-label">Score</div>
            <div class="score-value"><span id="score-correct">0</span> / <span id="score-total">0</span></div>
          </div>
        </div>
      </div>

      <!-- Filters Row -->
      <div style="display: flex; gap: 0.75rem; margin-bottom: 1.5rem; flex-wrap: wrap;">
        <!-- Form Select -->
        <select id="form-select" class="form-select" onchange="generateNewQuestion()" style="flex: 2; min-width: 200px; margin-bottom: 0;">
          <optgroup label="üé≤ Random Modes">
            <option value="random">Random (All Forms)</option>
            <option value="random-basic">Random (Basic Only)</option>
            <option value="random-intermediate">Random (Intermediate)</option>
            <option value="random-advanced">Random (Advanced)</option>
          </optgroup>
          <optgroup label="üìö Basic Forms (N5)">
            <option value="masu">Polite („Åæ„Åô)</option>
            <option value="negative">Negative („Å™„ÅÑ)</option>
            <option value="past">Past („Åü)</option>
            <option value="te">Te-form („Å¶)</option>
            <option value="masen">Polite Negative („Åæ„Åõ„Çì)</option>
            <option value="mashita">Polite Past („Åæ„Åó„Åü)</option>
            <option value="nakatta">Negative Past („Å™„Åã„Å£„Åü)</option>
          </optgroup>
          <optgroup label="üéØ Intermediate Forms (N4)">
            <option value="tai">Want to („Åü„ÅÑ)</option>
            <option value="potential">Potential („Çâ„Çå„Çã/„Åà„Çã)</option>
            <option value="volitional">Volitional („Çà„ÅÜ/„Åä„ÅÜ)</option>
            <option value="ba">Conditional („Å∞)</option>
            <option value="tara">Conditional („Åü„Çâ)</option>
            <option value="imperative">Imperative (ÂëΩ‰ª§ÂΩ¢)</option>
          </optgroup>
          <optgroup label="üî• Advanced Forms (N3+)">
            <option value="passive">Passive („Çâ„Çå„Çã/„ÅÇ„Çå„Çã)</option>
            <option value="causative">Causative („Åï„Åõ„Çã/„ÅÇ„Åõ„Çã)</option>
            <option value="causative-passive">Causative-Passive („Åï„Åõ„Çâ„Çå„Çã)</option>
          </optgroup>
        </select>

        <!-- JLPT Filter -->
        <select id="jlpt-filter" class="form-select" onchange="generateNewQuestion()" style="flex: 1; min-width: 120px; margin-bottom: 0;">
          <option value="all">All Levels</option>
          <option value="N5">N5 Only</option>
          <option value="N4">N4 Only</option>
          <option value="N3">N3 Only</option>
          <option value="N5-N4">N5 + N4</option>
        </select>
      </div>

      <div class="verb-display">
        <div id="verb-type" class="verb-type">Godan Verb</div>
        <div id="verb-kanji" class="verb-kanji jp">Ë°å„Åè</div>
        <div class="verb-info">
          <span id="verb-hiragana" class="jp">„ÅÑ„Åè</span> ‚Äî <span id="verb-meaning">to go</span>
        </div>
      </div>

      <div class="prompt-row">
        <span class="prompt-text">
          <span id="prompt-form" class="prompt-form">Negative</span>
        </span>
        <button class="hint-btn" onclick="toggleHint()">
          <span id="hint-btn-text">üí° Show hint</span>
        </button>
      </div>

      <div id="hint-box" class="hint-box">
        <div class="hint-label">üí° Hint</div>
        <div id="hint-content"></div>
      </div>

      <input 
        type="text"
        id="answer-input"
        class="answer-input jp"
        placeholder="„Å≤„Çâ„Åå„Å™„ÅßÂÖ•Âäõ..."
        onkeypress="handleKeyPress(event)"
      >

      <div id="feedback-warning" class="feedback warning">
        <div class="feedback-title">‚ö†Ô∏è Not quite ‚Äî try again!</div>
      </div>

      <div id="feedback-result" class="feedback">
        <div id="feedback-title" class="feedback-title"></div>
        <div class="feedback-answer jp">Answer: <strong id="feedback-answer"></strong></div>
        <div id="feedback-explanation" class="feedback-explanation"></div>
      </div>

      <button id="check-btn" class="check-btn primary" onclick="checkAnswer()" disabled>Check Answer</button>
      <button id="skip-btn" class="skip-btn" onclick="skipQuestion()">Skip (show answer)</button>
      <button id="next-btn" class="check-btn next" onclick="generateNewQuestion()">Next Question ‚Üí</button>
    </div>
  </div>

  <!-- DATE DOJO PAGE - Dark Gothic Theme -->
  <div id="page-datedojo" class="page">
    <style>
      /* Date Dojo Scoped Styles */
      #page-datedojo {
        background: #0c0c0c;
        padding-top: 0;
      }
      .dojo-container {
        min-height: 100vh;
        padding-top: 72px;
        background: #0c0c0c;
        font-family: 'Noto Sans JP', 'Outfit', sans-serif;
        color: #f5f5f5;
        position: relative;
        overflow-x: hidden;
      }
      @media (max-width: 600px) {
        #page-datedojo {
          padding-top: 0;
        }
        .dojo-container {
          padding-top: 100px;
        }
      }
      .dojo-bg-kanji {
        position: fixed;
        font-family: 'Noto Serif JP', serif;
        color: rgba(255,255,255,0.02);
        pointer-events: none;
        user-select: none;
        z-index: 0;
      }
      @media (max-width: 600px) {
        .dojo-bg-kanji:nth-child(n+5) {
          display: none;
        }
      }
      .dojo-accent-line {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #c41e3a, #ff6b6b, #c41e3a);
        background-size: 200% 100%;
        animation: dojo-shimmer 3s ease-in-out infinite;
      }
      @keyframes dojo-shimmer {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
      }
      .dojo-main {
        position: relative;
        z-index: 10;
        max-width: 680px;
        margin: 0 auto;
        padding: 20px 24px 40px;
      }
      .dojo-header {
        text-align: center;
        margin-bottom: 48px;
      }
      .dojo-title {
        font-family: 'Noto Serif JP', serif;
        font-size: 3.5rem;
        font-weight: 700;
        color: #fff;
        letter-spacing: 0.1em;
        margin: 0;
        position: relative;
        display: inline-block;
      }
      .dojo-title::after {
        content: '';
        position: absolute;
        bottom: -8px;
        left: 50%;
        transform: translateX(-50%);
        width: 60px;
        height: 3px;
        background: #c41e3a;
      }
      .dojo-subtitle {
        font-size: 0.85rem;
        color: rgba(255,255,255,0.4);
        letter-spacing: 0.3em;
        text-transform: uppercase;
        margin-top: 20px;
      }
      .dojo-stats-row {
        display: flex;
        justify-content: center;
        gap: 24px;
        margin-bottom: 40px;
        flex-wrap: wrap;
        align-items: center;
      }
      .dojo-stat-item {
        text-align: center;
        padding: 16px 24px;
        background: rgba(255,255,255,0.03);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 4px;
        min-width: 100px;
      }
      .dojo-stat-value {
        font-family: 'Noto Serif JP', serif;
        font-size: 1.75rem;
        font-weight: 600;
      }
      .dojo-stat-label {
        font-size: 0.7rem;
        color: rgba(255,255,255,0.4);
        text-transform: uppercase;
        letter-spacing: 0.15em;
        margin-top: 4px;
      }
      .dojo-icon-btn {
        background: rgba(255,255,255,0.03);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 4px;
        padding: 16px;
        color: rgba(255,255,255,0.5);
        cursor: pointer;
        font-size: 1.25rem;
        transition: all 0.3s ease;
      }
      .dojo-icon-btn:hover {
        background: rgba(255,255,255,0.08);
        color: #fff;
      }
      .dojo-question-card {
        background: linear-gradient(145deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01));
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 8px;
        padding: 40px;
        margin-bottom: 24px;
        position: relative;
      }
      .dojo-question-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 4px;
        height: 100%;
        background: linear-gradient(180deg, #c41e3a, transparent);
        border-radius: 8px 0 0 8px;
      }
      .dojo-question-type {
        display: inline-block;
        font-size: 1rem;
        color: #c41e3a;
        letter-spacing: 0.08em;
        margin-bottom: 24px;
        padding: 10px 16px;
        border: 1px solid rgba(196,30,58,0.3);
        border-radius: 4px;
        cursor: help;
      }
      .dojo-question-text {
        font-family: 'Noto Serif JP', serif;
        font-size: 2rem;
        font-weight: 600;
        color: #fff;
        line-height: 1.5;
        margin-bottom: 8px;
      }
      .dojo-question-text-en {
        font-size: 0.9rem;
        color: rgba(255,255,255,0.35);
        margin-bottom: 32px;
      }
      .dojo-answer-input {
        width: 100%;
        padding: 20px 24px;
        font-size: 1.25rem;
        font-family: 'Noto Sans JP', sans-serif;
        background: rgba(0,0,0,0.4);
        border: 2px solid rgba(255,255,255,0.1);
        border-radius: 4px;
        color: #fff;
        outline: none;
        transition: all 0.3s ease;
      }
      .dojo-answer-input:focus {
        border-color: #c41e3a;
        box-shadow: 0 0 0 4px rgba(196,30,58,0.15);
      }
      .dojo-answer-input::placeholder {
        color: rgba(255,255,255,0.25);
      }
      .dojo-answer-input:disabled {
        opacity: 0.6;
      }
      .dojo-input-hint {
        font-size: 0.75rem;
        color: rgba(255,255,255,0.3);
        margin: 12px 0 24px;
      }
      .dojo-hint-box {
        background: rgba(196,30,58,0.1);
        border-left: 3px solid #c41e3a;
        padding: 16px 20px;
        margin-bottom: 24px;
        color: rgba(255,255,255,0.8);
        font-size: 0.95rem;
        border-radius: 0 4px 4px 0;
      }
      .dojo-feedback {
        padding: 20px 24px;
        border-radius: 4px;
        margin-bottom: 24px;
      }
      .dojo-feedback.correct {
        background: rgba(34,197,94,0.1);
        border: 1px solid rgba(34,197,94,0.3);
      }
      .dojo-feedback.incorrect {
        background: rgba(239,68,68,0.1);
        border: 1px solid rgba(239,68,68,0.3);
      }
      .dojo-feedback.partial {
        background: rgba(251,191,36,0.1);
        border: 1px solid rgba(251,191,36,0.3);
      }
      .dojo-feedback-title {
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .dojo-feedback.correct .dojo-feedback-title { color: #22c55e; }
      .dojo-feedback.incorrect .dojo-feedback-title { color: #ef4444; }
      .dojo-feedback.partial .dojo-feedback-title { color: #fbbf24; }
      .dojo-feedback-answer {
        font-size: 0.9rem;
        color: rgba(255,255,255,0.6);
      }
      .dojo-feedback-answer strong {
        color: #fff;
        font-family: 'Noto Serif JP', serif;
      }
      .dojo-btn-row {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
      }
      .dojo-btn {
        padding: 14px 28px;
        font-size: 0.95rem;
        font-weight: 500;
        font-family: 'Noto Sans JP', sans-serif;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .dojo-btn-primary {
        background: #c41e3a;
        color: white;
      }
      .dojo-btn-primary:hover {
        background: #a01830;
        transform: translateY(-2px);
      }
      .dojo-btn-secondary {
        background: rgba(255,255,255,0.05);
        color: rgba(255,255,255,0.7);
        border: 1px solid rgba(255,255,255,0.1);
      }
      .dojo-btn-secondary:hover {
        background: rgba(255,255,255,0.1);
        color: #fff;
      }
      .dojo-btn-secondary.active {
        background: rgba(196,30,58,0.15);
        border-color: rgba(196,30,58,0.3);
        color: #ff6b6b;
      }
      .dojo-reference {
        background: rgba(255,255,255,0.02);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 4px;
        margin-top: 32px;
      }
      .dojo-reference summary {
        padding: 20px 24px;
        cursor: pointer;
        font-size: 0.85rem;
        color: rgba(255,255,255,0.5);
      }
      .dojo-reference-content {
        padding: 0 24px 24px;
      }
      .dojo-reference-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 24px;
      }
      .dojo-reference-item {
        background: rgba(255,255,255,0.03);
        padding: 12px 16px;
        border-radius: 4px;
        font-size: 0.85rem;
        text-align: center;
        border: 1px solid rgba(255,255,255,0.06);
        flex: 0 1 auto;
        min-width: 120px;
        white-space: nowrap;
      }
      .dojo-reference-item .num {
        color: #c41e3a;
        font-weight: 600;
        margin-right: 8px;
      }
      .dojo-reference-title {
        font-size: 0.75rem;
        color: rgba(255,255,255,0.4);
        letter-spacing: 0.15em;
        text-transform: uppercase;
        margin-bottom: 12px;
        padding-bottom: 8px;
        border-bottom: 1px solid rgba(255,255,255,0.06);
      }
      .dojo-numbers-table {
        margin-bottom: 24px;
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 4px;
        overflow: hidden;
        width: 100%;
        max-width: 700px;
      }
      .dojo-numbers-row {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr 1fr;
        border-bottom: 1px solid rgba(255,255,255,0.06);
      }
      .dojo-numbers-row:last-child {
        border-bottom: none;
      }
      .dojo-numbers-row > div {
        padding: 10px 12px;
        font-size: 0.85rem;
        border-right: 1px solid rgba(255,255,255,0.06);
        white-space: nowrap;
      }
      .dojo-numbers-row > div:last-child {
        border-right: none;
      }
      .dojo-numbers-header {
        background: rgba(255,255,255,0.05);
        font-weight: 600;
        color: rgba(255,255,255,0.6);
        font-size: 0.75rem;
      }
      .dojo-numbers-row .num {
        color: #c41e3a;
        font-weight: 600;
        margin-right: 8px;
      }
      .dojo-numbers-row strong {
        color: #ff6b6b;
      }
      .dojo-irregular {
        color: #fbbf24;
        margin-left: 4px;
      }
      /* Tooltips */
      .dojo-title .dojo-tip::after {
        bottom: auto;
        top: calc(100% + 10px);
      }
      .dojo-tip {
        position: relative;
        cursor: help;
        border-bottom: 1px dotted rgba(255,255,255,0.3);
      }
      .dojo-tip:hover {
        color: #ff6b6b;
      }
      .dojo-tip::after {
        content: attr(data-reading) '\A' attr(data-en);
        white-space: pre;
        position: absolute;
        bottom: calc(100% + 10px);
        left: 50%;
        transform: translateX(-50%);
        background: #222;
        border: 1px solid rgba(255,255,255,0.2);
        color: #fff;
        padding: 10px 14px;
        border-radius: 6px;
        font-size: 0.8rem;
        line-height: 1.7;
        text-align: center;
        opacity: 0;
        visibility: hidden;
        transition: all 0.2s ease;
        z-index: 100;
        pointer-events: none;
      }
      .dojo-tip:hover::after {
        opacity: 1;
        visibility: visible;
      }
      .dojo-tip-simple::after {
        content: attr(data-tip);
        white-space: nowrap;
      }
      .dojo-kanji-tip {
        position: relative;
        cursor: help;
        border-bottom: 1px dotted rgba(255,255,255,0.2);
      }
      .dojo-kanji-tip:hover {
        color: #ff6b6b;
      }
      .dojo-kanji-tip::after {
        content: attr(data-reading) '\A' attr(data-en);
        white-space: pre;
        position: absolute;
        bottom: calc(100% + 10px);
        left: 50%;
        transform: translateX(-50%);
        background: #2a2a2a;
        border: 1px solid rgba(255,255,255,0.15);
        color: #fff;
        padding: 10px 14px;
        border-radius: 6px;
        font-size: 0.8rem;
        line-height: 1.7;
        text-align: center;
        opacity: 0;
        visibility: hidden;
        z-index: 200;
        pointer-events: none;
      }
      .dojo-kanji-tip:hover::after {
        opacity: 1;
        visibility: visible;
      }
      .dojo-answer-tip {
        position: relative;
        cursor: help;
        border-bottom: 1px dotted rgba(255,255,255,0.4);
      }
      .dojo-answer-tip:hover {
        color: #ff6b6b;
      }
      .dojo-answer-tip::after {
        content: attr(data-en);
        white-space: nowrap;
        position: absolute;
        bottom: calc(100% + 10px);
        left: 50%;
        transform: translateX(-50%);
        background: #2a2a2a;
        border: 1px solid rgba(255,255,255,0.15);
        color: #fff;
        padding: 10px 14px;
        border-radius: 6px;
        font-size: 0.9rem;
        text-align: center;
        opacity: 0;
        visibility: hidden;
        z-index: 200;
        pointer-events: none;
      }
      .dojo-answer-tip:hover::after {
        opacity: 1;
        visibility: visible;
      }
      /* Modal */
      .dojo-modal-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.9);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        padding: 20px;
      }
      .dojo-modal-overlay.visible {
        display: flex;
      }
      .dojo-modal {
        background: #141414;
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: 8px;
        max-width: 600px;
        width: 100%;
        max-height: 85vh;
        overflow: hidden;
        display: flex;
        flex-direction: column;
      }
      .dojo-modal-header {
        padding: 24px;
        border-bottom: 1px solid rgba(255,255,255,0.08);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .dojo-modal-header h2 {
        margin: 0;
        font-family: 'Noto Serif JP', serif;
        font-size: 1.25rem;
        color: #fff;
      }
      .dojo-modal-close {
        background: none;
        border: none;
        color: rgba(255,255,255,0.4);
        font-size: 1.75rem;
        cursor: pointer;
        line-height: 1;
      }
      .dojo-modal-close:hover {
        color: #fff;
      }
      .dojo-modal-body {
        padding: 24px;
        overflow-y: auto;
        color: #f5f5f5;
      }
      .dojo-stats-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
        margin-bottom: 32px;
      }
      .dojo-stats-grid-item {
        background: rgba(255,255,255,0.03);
        padding: 20px;
        border-radius: 4px;
        text-align: center;
      }
      .dojo-stats-grid-item .value {
        font-family: 'Noto Serif JP', serif;
        font-size: 2rem;
        font-weight: 600;
      }
      .dojo-stats-grid-item .label {
        font-size: 0.7rem;
        color: rgba(255,255,255,0.4);
        text-transform: uppercase;
        margin-top: 4px;
      }
      .dojo-section-title {
        font-size: 0.75rem;
        color: rgba(255,255,255,0.4);
        letter-spacing: 0.15em;
        text-transform: uppercase;
        margin-bottom: 16px;
        padding-bottom: 8px;
        border-bottom: 1px solid rgba(255,255,255,0.06);
      }
      .dojo-category-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 32px;
      }
      .dojo-category-tag {
        background: rgba(196,30,58,0.15);
        border: 1px solid rgba(196,30,58,0.25);
        padding: 8px 14px;
        border-radius: 2px;
        font-size: 0.8rem;
      }
      .dojo-mistake-entry {
        background: rgba(255,255,255,0.02);
        border-left: 3px solid #c41e3a;
        padding: 16px 20px;
        margin-bottom: 12px;
        border-radius: 0 4px 4px 0;
      }
      .dojo-mistake-type {
        font-size: 0.7rem;
        color: rgba(255,255,255,0.35);
        margin-bottom: 8px;
      }
      .dojo-mistake-question {
        font-size: 1.05rem;
        margin-bottom: 12px;
        font-family: 'Noto Serif JP', serif;
      }
      .dojo-mistake-answers {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
        background: rgba(0,0,0,0.3);
        padding: 12px 16px;
        border-radius: 4px;
        font-size: 0.9rem;
      }
      .dojo-mistake-label {
        font-size: 0.65rem;
        color: rgba(255,255,255,0.35);
        text-transform: uppercase;
        margin-bottom: 4px;
      }
      .dojo-mistake-hint {
        margin-top: 12px;
        font-size: 0.85rem;
        color: rgba(255,200,100,0.7);
        font-style: italic;
      }
      .dojo-empty-state {
        text-align: center;
        padding: 60px 20px;
        color: rgba(255,255,255,0.4);
      }
      .dojo-streak-fire {
        animation: dojo-pulse 1s ease-in-out infinite;
        display: inline-block;
      }
      @keyframes dojo-pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.15); }
      }
      @media (max-width: 600px) {
        .dojo-main { padding: 16px 16px 32px; }
        .dojo-header { margin-bottom: 24px; }
        .dojo-title { font-size: 2rem; }
        .dojo-subtitle { font-size: 0.7rem; letter-spacing: 0.2em; margin-top: 12px; }
        .dojo-question-text { font-size: 1.3rem; }
        .dojo-question-card { padding: 20px; }
        .dojo-reference-item { min-width: 100px; white-space: normal; }
        .dojo-stats-row { gap: 12px; margin-bottom: 24px; }
        .dojo-stat-item { padding: 12px 16px; min-width: 70px; }
        .dojo-stat-value { font-size: 1.25rem; }
        .dojo-btn { padding: 12px 20px; font-size: 0.85rem; }
        .dojo-btn-row { gap: 8px; }
        .dojo-answer-input { padding: 16px; font-size: 1.1rem; }
        .dojo-modal { max-height: 90vh; margin: 10px; }
        .dojo-modal-body { padding: 16px; }
        .dojo-stats-grid { grid-template-columns: repeat(3, 1fr); gap: 8px; }
        .dojo-stats-grid-item { padding: 12px 8px; }
        .dojo-stats-grid-item .value { font-size: 1.5rem; }
        .dojo-mistake-answers { grid-template-columns: 1fr; gap: 12px; }
        .dojo-numbers-row { grid-template-columns: repeat(2, 1fr); }
        .dojo-numbers-row > div { font-size: 0.75rem; padding: 8px 10px; white-space: normal; }
        .dojo-numbers-header { font-size: 0.65rem; }
        /* Disable hover tooltips on mobile */
        .dojo-tip::after, .dojo-kanji-tip::after, .dojo-answer-tip::after { display: none; }
        .dojo-tip, .dojo-kanji-tip, .dojo-answer-tip { border-bottom: none; cursor: default; }
      }
    </style>

    <div class="dojo-container">
      <div class="dojo-accent-line"></div>
      
      <!-- Background Kanji -->
      <div class="dojo-bg-kanji" style="font-size: 80px; left: 5%; top: 10vh;">Êó•</div>
      <div class="dojo-bg-kanji" style="font-size: 100px; left: 28%; top: 41vh;">Êúà</div>
      <div class="dojo-bg-kanji" style="font-size: 115px; left: 51%; top: 72vh;">ÁÅ´</div>
      <div class="dojo-bg-kanji" style="font-size: 130px; left: 74%; top: 3vh;">Ê∞¥</div>
      <div class="dojo-bg-kanji" style="font-size: 95px; left: 97%; top: 34vh;">Êú®</div>
      <div class="dojo-bg-kanji" style="font-size: 110px; left: 20%; top: 65vh;">Èáë</div>
      <div class="dojo-bg-kanji" style="font-size: 85px; left: 43%; top: 96vh;">Âúü</div>
      <div class="dojo-bg-kanji" style="font-size: 145px; left: 66%; top: 27vh;">ÊôÇ</div>
      <div class="dojo-bg-kanji" style="font-size: 160px; left: 89%; top: 58vh;">Âπ¥</div>
      <div class="dojo-bg-kanji" style="font-size: 175px; left: 12%; top: 89vh;">ÈÄ±</div>

      <div class="dojo-main">
        <header class="dojo-header">
          <h1 class="dojo-title">
            <span class="dojo-tip" data-reading="„Å≤„Å•„Åë „Å©„ÅÜ„Åò„Çá„ÅÜ" data-en="Date Training Hall">Êó•‰ªòÈÅìÂ†¥</span>
          </h1>
          <p class="dojo-subtitle">Date & Number Practice</p>
        </header>

        <!-- Stats Row -->
        <div class="dojo-stats-row">
          <div class="dojo-stat-item">
            <div class="dojo-stat-value" id="dojo-score" style="color: #22c55e;">0/0</div>
            <div class="dojo-stat-label"><span class="dojo-tip" data-reading="„Åõ„ÅÑ„Åã„ÅÑ" data-en="Correct">Ê≠£Ëß£</span></div>
          </div>
          <div class="dojo-stat-item">
            <div class="dojo-stat-value" id="dojo-accuracy" style="color: #60a5fa;">0%</div>
            <div class="dojo-stat-label"><span class="dojo-tip" data-reading="„Åõ„ÅÑ„Å©" data-en="Accuracy">Á≤æÂ∫¶</span></div>
          </div>
          <div class="dojo-stat-item">
            <div class="dojo-stat-value" id="dojo-streak" style="color: #fff;">0</div>
            <div class="dojo-stat-label"><span class="dojo-tip" data-reading="„Çå„Çì„Åû„Åè" data-en="Streak">ÈÄ£Á∂ö</span></div>
          </div>
          <button class="dojo-icon-btn" onclick="showDojoReview()" title="Review mistakes">
            üìã <span id="dojo-mistake-count"></span>
          </button>
          <button class="dojo-icon-btn" id="dojo-reset-btn" onclick="resetDojoScore()" title="Reset score" style="display: none;">
            üîÑ
          </button>
        </div>

        <!-- Question Card -->
        <div class="dojo-question-card">
          <div class="dojo-question-type" id="dojo-question-type" title="">‰ªäÊó•„ÅÆÊó•‰ªò</div>
          <div class="dojo-question-text" id="dojo-question-text">‰ªäÊó•„ÅØ‰ΩïÊó•„Åß„Åô„ÅãÔºü</div>
          <div class="dojo-question-text-en" id="dojo-question-text-en">What is today's date?</div>

          <input 
            type="text" 
            class="dojo-answer-input" 
            id="dojo-answer-input"
            placeholder="Á≠î„Åà„ÇíÂÖ•Âäõ..."
            onkeypress="handleDojoKeyPress(event)"
          >
          <div class="dojo-input-hint" id="dojo-input-hint">„Éï„É´„Çª„É≥„ÉÜ„É≥„Çπ„ÅßÁ≠î„Åà„Å¶„Å≠ÔºÅÔºà„Äú„Åß„Åô / „Äú„Åß„Åó„ÅüÔºâ</div>

          <!-- Hint Box -->
          <div class="dojo-hint-box" id="dojo-hint-box" style="display: none;">
            üí° <span id="dojo-hint-content"></span>
          </div>

          <!-- Partial Feedback -->
          <div class="dojo-feedback partial" id="dojo-partial-feedback" style="display: none;">
            <div class="dojo-feedback-title">ü§î <span id="dojo-partial-message"></span></div>
            <div class="dojo-feedback-answer" id="dojo-partial-message-en" style="color: rgba(255,255,255,0.5);"></div>
          </div>

          <!-- Final Feedback -->
          <div class="dojo-feedback" id="dojo-feedback" style="display: none;">
            <div class="dojo-feedback-title" id="dojo-feedback-title"></div>
            <div class="dojo-feedback-answer">
              <span id="dojo-feedback-label"></span>: <strong id="dojo-feedback-answer"></strong>
            </div>
          </div>

          <!-- Buttons -->
          <div class="dojo-btn-row" id="dojo-btn-row">
            <button class="dojo-btn dojo-btn-primary" onclick="checkDojoAnswer()">
              <span class="dojo-tip" data-reading="„Åì„Åü„Åà„Çã" data-en="Answer">Á≠î„Åà„Çã</span>
            </button>
            <button class="dojo-btn dojo-btn-secondary" id="dojo-hint-btn" onclick="toggleDojoHint()">
              üîí <span class="dojo-tip" data-reading="„Éí„É≥„Éà" data-en="Hint">„Éí„É≥„Éà</span>
            </button>
            <button class="dojo-btn dojo-btn-secondary" onclick="generateDojoQuestion()">
              <span class="dojo-tip" data-reading="„Çπ„Ç≠„ÉÉ„Éó" data-en="Skip">„Çπ„Ç≠„ÉÉ„Éó</span>
            </button>
          </div>
          <div class="dojo-btn-row" id="dojo-next-btn-row" style="display: none;">
            <button class="dojo-btn dojo-btn-primary" onclick="generateDojoQuestion()">
              <span class="dojo-tip" data-reading="„Å§„Åé„ÅÆ„ÇÇ„Çì„Å†„ÅÑ" data-en="Next Question">Ê¨°„ÅÆÂïèÈ°å</span> ‚Üí
            </button>
          </div>
        </div>

        <!-- Reference Section -->
        <details class="dojo-reference">
          <summary>üìö ÂèÇËÄÉË°® (Reference Chart)</summary>
          <div class="dojo-reference-content">
            <div class="dojo-reference-title">Êó•‰ªò ‚Äî Dates (1-10)</div>
            <div class="dojo-reference-grid" id="dojo-ref-dates"></div>

            <div class="dojo-reference-title">ÊõúÊó• ‚Äî Weekdays</div>
            <div class="dojo-reference-grid" id="dojo-ref-weekdays"></div>

            <div class="dojo-reference-title">Áõ∏ÂØæÁöÑ„Å™Êó• ‚Äî Relative Days</div>
            <div class="dojo-reference-grid" id="dojo-ref-relative"></div>

            <div class="dojo-reference-title">Êï∞Â≠ó ‚Äî Numbers</div>
            <div class="dojo-numbers-table" id="dojo-ref-numbers">
              <div class="dojo-numbers-row dojo-numbers-header">
                <div>Âü∫Êú¨</div>
                <div>Áôæ (100s)</div>
                <div>ÂçÉ (1000s)</div>
                <div>‰∏á+ (10000+)</div>
              </div>
              <div class="dojo-numbers-row">
                <div><span class="num">1</span> „ÅÑ„Å°</div>
                <div><span class="num">100</span> „Å≤„ÇÉ„Åè</div>
                <div><span class="num">1000</span> „Åõ„Çì</div>
                <div><span class="num">10000</span> „ÅÑ„Å°„Åæ„Çì</div>
              </div>
              <div class="dojo-numbers-row">
                <div><span class="num">2</span> „Å´</div>
                <div><span class="num">200</span> „Å´„Å≤„ÇÉ„Åè</div>
                <div><span class="num">2000</span> „Å´„Åõ„Çì</div>
                <div><span class="num">1ÂÑÑ</span> „ÅÑ„Å°„Åä„Åè</div>
              </div>
              <div class="dojo-numbers-row">
                <div><span class="num">3</span> „Åï„Çì</div>
                <div><span class="num">300</span> „Åï„Çì<strong>„Å≥</strong>„ÇÉ„Åè <span class="dojo-irregular">‚òÖ</span></div>
                <div><span class="num">3000</span> „Åï„Çì<strong>„Åú</strong>„Çì <span class="dojo-irregular">‚òÖ</span></div>
                <div></div>
              </div>
              <div class="dojo-numbers-row">
                <div><span class="num">4</span> „Çà„Çì„ÄÅ„Åó</div>
                <div><span class="num">400</span> „Çà„Çì„Å≤„ÇÉ„Åè</div>
                <div><span class="num">4000</span> „Çà„Çì„Åõ„Çì</div>
                <div></div>
              </div>
              <div class="dojo-numbers-row">
                <div><span class="num">5</span> „Åî</div>
                <div><span class="num">500</span> „Åî„Å≤„ÇÉ„Åè</div>
                <div><span class="num">5000</span> „Åî„Åõ„Çì</div>
                <div></div>
              </div>
              <div class="dojo-numbers-row">
                <div><span class="num">6</span> „Çç„Åè</div>
                <div><span class="num">600</span> „Çç„Å£<strong>„Å¥</strong>„ÇÉ„Åè <span class="dojo-irregular">‚òÖ</span></div>
                <div><span class="num">6000</span> „Çç„Åè„Åõ„Çì</div>
                <div></div>
              </div>
              <div class="dojo-numbers-row">
                <div><span class="num">7</span> „Å™„Å™„ÄÅ„Åó„Å°</div>
                <div><span class="num">700</span> „Å™„Å™„Å≤„ÇÉ„Åè</div>
                <div><span class="num">7000</span> „Å™„Å™„Åõ„Çì</div>
                <div></div>
              </div>
              <div class="dojo-numbers-row">
                <div><span class="num">8</span> „ÅØ„Å°</div>
                <div><span class="num">800</span> „ÅØ„Å£<strong>„Å¥</strong>„ÇÉ„Åè <span class="dojo-irregular">‚òÖ</span></div>
                <div><span class="num">8000</span> „ÅØ„Å£„Åõ„Çì <span class="dojo-irregular">‚òÖ</span></div>
                <div></div>
              </div>
              <div class="dojo-numbers-row">
                <div><span class="num">9</span> „Åç„ÇÖ„ÅÜ</div>
                <div><span class="num">900</span> „Åç„ÇÖ„ÅÜ„Å≤„ÇÉ„Åè</div>
                <div><span class="num">9000</span> „Åç„ÇÖ„ÅÜ„Åõ„Çì</div>
                <div></div>
              </div>
              <div class="dojo-numbers-row">
                <div><span class="num">10</span> „Åò„ÇÖ„ÅÜ</div>
                <div></div>
                <div></div>
                <div></div>
              </div>
            </div>
          </div>
        </details>
      </div>
    </div>

    <!-- Review Modal -->
    <div class="dojo-modal-overlay" id="dojo-review-modal">
      <div class="dojo-modal">
        <div class="dojo-modal-header">
          <h2>üìã Âæ©Áøí (Review)</h2>
          <button class="dojo-modal-close" onclick="closeDojoReview()">√ó</button>
        </div>
        <div class="dojo-modal-body" id="dojo-review-body">
          <!-- Content populated by JS -->
        </div>
      </div>
    </div>
  </div>

  <!-- MISTAKE REPORT MODAL -->
  <div id="mistake-report-modal" class="report-modal">
    <div class="report-content">
      <div class="report-header">
        <h2 style="font-size: 1.75rem; font-weight: 700; margin: 0;">üìä Your Practice Report</h2>
        <div style="display: flex; gap: 0.5rem; align-items: center;">
          <button class="report-download" onclick="downloadReport()" title="Download report (open and print to save as PDF)">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="7 10 12 15 17 10"></polyline>
              <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
            Download
          </button>
          <button class="report-close" onclick="closeMistakeReport()">√ó</button>
        </div>
      </div>
      <div class="report-body" id="report-body-content">
        <!-- Content will be populated by JavaScript -->
      </div>
    </div>
  </div>

  <!-- VOCABULARY BUILDER PAGE -->
  <div id="page-vocabulary" class="page">
    <style>
      /* Vocabulary-specific dark theme overrides */
      #page-vocabulary {
        background: #1a1a1e;
        color: #e8e6e3;
        min-height: 100vh;
      }

      .vocab-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 3rem 2rem;
      }
      
      .vocab-header {
        text-align: center;
        margin-bottom: 3rem;
      }
      
      .vocab-header h1 {
        font-size: 2rem;
        color: #e8e6e3;
        margin-bottom: 0.5rem;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
      }
      
      .vocab-title {
        margin: 0;
        line-height: 1.3;
      }
      
      .japanese-title {
        display: block;
        font-size: 2.8rem;
        color: #d4786a;
        font-family: 'Noto Serif JP', serif;
        margin-bottom: 0.3rem;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        font-weight: 500;
      }
      
      .romaji-title {
        display: block;
        font-size: 1.8rem;
        color: #b8a590;
        font-weight: 300;
        letter-spacing: 0.1em;
      }
      
      .vocab-subtitle {
        margin: 0.5rem 0 0 0;
        font-size: 1.1rem;
        color: #a39382;
        font-weight: 300;
        letter-spacing: 0.05em;
      }
      
      .flashcard-area {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 500px;
        margin-bottom: 2rem;
        padding: 2rem 0;
      }
      
      .flashcard {
        width: 600px;
        height: 400px;
        perspective: 1000px;
        cursor: pointer;
        position: relative;
      }
      
      .flashcard-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.8s cubic-bezier(0.4, 0.0, 0.2, 1);
        transform-style: preserve-3d;
      }
      
      .flashcard.flipped .flashcard-inner {
        transform: rotateY(180deg);
      }
      
      .flashcard-front, .flashcard-back {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border-radius: 2px;
        padding: 3rem;
        overflow: hidden;
        filter: contrast(1.02) brightness(1.01);
      }
      
      .flashcard-front {
        background-color: #3a3530;
        background-image: 
          url("data:image/svg+xml,%3Csvg viewBox='0 0 300 300' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.95' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E"),
          repeating-linear-gradient(0deg, transparent, transparent 1px, rgba(200, 180, 150, 0.02) 1px, rgba(200, 180, 150, 0.02) 2px),
          repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(200, 180, 150, 0.02) 1px, rgba(200, 180, 150, 0.02) 2px),
          linear-gradient(135deg, rgba(70, 65, 55, 0.3) 0%, rgba(50, 45, 35, 0.2) 100%);
        border: 1px solid rgba(80, 70, 55, 0.5);
        box-shadow: 
          0 12px 35px rgba(0, 0, 0, 0.4),
          0 4px 10px rgba(0, 0, 0, 0.3),
          inset 0 0 2px rgba(120, 100, 80, 0.3),
          inset 3px 3px 6px rgba(20, 15, 10, 0.4),
          inset -3px -3px 6px rgba(20, 15, 10, 0.3),
          inset 0 1px 0 rgba(100, 90, 75, 0.15);
        position: relative;
      }
      
      .flashcard-front::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: 
          radial-gradient(ellipse at 18% 22%, rgba(120, 95, 65, 0.09) 0%, transparent 45%),
          radial-gradient(ellipse at 82% 78%, rgba(110, 88, 60, 0.11) 0%, transparent 48%),
          radial-gradient(ellipse at 68% 18%, rgba(125, 100, 70, 0.08) 0%, transparent 40%),
          radial-gradient(ellipse at 28% 82%, rgba(115, 92, 65, 0.1) 0%, transparent 42%),
          radial-gradient(ellipse at 0% 0%, rgba(90, 70, 50, 0.14) 0%, transparent 22%),
          radial-gradient(ellipse at 100% 0%, rgba(95, 75, 55, 0.12) 0%, transparent 22%),
          radial-gradient(ellipse at 0% 100%, rgba(85, 68, 48, 0.15) 0%, transparent 22%),
          radial-gradient(ellipse at 100% 100%, rgba(92, 72, 52, 0.13) 0%, transparent 22%),
          linear-gradient(90deg, rgba(120, 95, 65, 0.1) 0%, transparent 8%, transparent 92%, rgba(120, 95, 65, 0.1) 100%),
          linear-gradient(0deg, rgba(115, 90, 60, 0.1) 0%, transparent 8%, transparent 92%, rgba(115, 90, 60, 0.1) 100%),
          radial-gradient(circle at 32% 58%, rgba(100, 80, 55, 0.12) 0%, rgba(100, 80, 55, 0.04) 1.5%, transparent 4%),
          radial-gradient(circle at 68% 35%, rgba(105, 85, 60, 0.1) 0%, rgba(105, 85, 60, 0.03) 1.5%, transparent 3.5%),
          radial-gradient(circle at 15% 72%, rgba(98, 78, 53, 0.11) 0%, rgba(98, 78, 53, 0.04) 1.5%, transparent 4%);
        pointer-events: none;
        opacity: 0.85;
      }
      
      .flashcard-front::after {
        content: 'Ë™û';
        position: absolute;
        font-size: 18rem;
        color: rgba(140, 105, 75, 0.04);
        font-family: 'Noto Serif JP', serif;
        font-weight: 700;
        pointer-events: none;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) rotate(-15deg);
        z-index: 0;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.015);
      }
      
      .flashcard-back {
        transform: rotateY(180deg);
        background-color: #38342e;
        background-image: 
          url("data:image/svg+xml,%3Csvg viewBox='0 0 300 300' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.95' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E"),
          repeating-linear-gradient(0deg, transparent, transparent 1px, rgba(180, 195, 185, 0.02) 1px, rgba(180, 195, 185, 0.02) 2px),
          repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(180, 195, 185, 0.02) 1px, rgba(180, 195, 185, 0.02) 2px),
          linear-gradient(135deg, rgba(65, 60, 52, 0.3) 0%, rgba(48, 43, 35, 0.2) 100%);
        border: 1px solid rgba(75, 85, 75, 0.5);
        box-shadow: 
          0 12px 35px rgba(0, 0, 0, 0.4),
          0 4px 10px rgba(0, 0, 0, 0.3),
          inset 0 0 2px rgba(120, 135, 125, 0.3),
          inset 3px 3px 6px rgba(20, 15, 10, 0.4),
          inset -3px -3px 6px rgba(20, 15, 10, 0.3),
          inset 0 1px 0 rgba(100, 110, 100, 0.15);
      }
      
      .flashcard-back::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: 
          radial-gradient(ellipse at 22% 28%, rgba(105, 120, 110, 0.1) 0%, transparent 45%),
          radial-gradient(ellipse at 78% 72%, rgba(100, 115, 105, 0.12) 0%, transparent 48%),
          radial-gradient(ellipse at 62% 15%, rgba(108, 123, 113, 0.09) 0%, transparent 40%),
          radial-gradient(ellipse at 32% 85%, rgba(102, 118, 108, 0.11) 0%, transparent 42%),
          radial-gradient(ellipse at 0% 0%, rgba(80, 95, 88, 0.16) 0%, transparent 22%),
          radial-gradient(ellipse at 100% 0%, rgba(85, 100, 93, 0.14) 0%, transparent 22%),
          radial-gradient(ellipse at 0% 100%, rgba(78, 93, 86, 0.17) 0%, transparent 22%),
          radial-gradient(ellipse at 100% 100%, rgba(82, 97, 90, 0.15) 0%, transparent 22%),
          linear-gradient(90deg, rgba(105, 120, 110, 0.11) 0%, transparent 8%, transparent 92%, rgba(105, 120, 110, 0.11) 100%),
          linear-gradient(0deg, rgba(100, 115, 105, 0.11) 0%, transparent 8%, transparent 92%, rgba(100, 115, 105, 0.11) 100%),
          radial-gradient(circle at 38% 62%, rgba(90, 105, 98, 0.13) 0%, rgba(90, 105, 98, 0.04) 1.5%, transparent 4%),
          radial-gradient(circle at 72% 32%, rgba(95, 110, 103, 0.11) 0%, rgba(95, 110, 103, 0.03) 1.5%, transparent 3.5%),
          radial-gradient(circle at 18% 68%, rgba(88, 103, 96, 0.12) 0%, rgba(88, 103, 96, 0.04) 1.5%, transparent 4%);
        pointer-events: none;
        opacity: 0.82;
      }
      
      .flashcard-back::after {
        content: '';
        position: absolute;
        top: 15px;
        right: 15px;
        width: 38px;
        height: 38px;
        background: radial-gradient(circle, rgba(180, 75, 65, 0.12) 0%, rgba(180, 75, 65, 0.04) 65%, transparent 100%);
        border-radius: 50%;
        border: 1.5px solid rgba(160, 70, 60, 0.2);
        opacity: 0.7;
        box-shadow: 
          inset 1px 1px 3px rgba(0,0,0,0.1),
          0 1px 2px rgba(180, 75, 65, 0.08);
      }
      
      .flashcard-content {
        position: relative;
        z-index: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
      }
      
      .flashcard-japanese {
        font-size: 2.8rem;
        color: #e8e6e3;
        font-weight: 700;
        margin-bottom: 2rem;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        line-height: 1;
        filter: contrast(1.1);
      }
      
      .flashcard-corner-accent {
        position: absolute;
        width: 50px;
        height: 50px;
        opacity: 0.25;
        z-index: 0;
      }
      
      .corner-tl {
        top: 20px;
        left: 20px;
        border-top: 3px solid #9a8a6a;
        border-left: 3px solid #9a8a6a;
      }
      
      .corner-br {
        bottom: 20px;
        right: 20px;
        border-bottom: 3px solid #9a8a6a;
        border-right: 3px solid #9a8a6a;
      }
      
      .flashcard-back .corner-tl {
        border-color: #8aae8e;
      }
      
      .flashcard-back .corner-br {
        border-color: #8aae8e;
      }
      
      .flashcard-english {
        font-size: 2rem;
        color: #e8e6e3;
        font-weight: 600;
        margin-bottom: 1.5rem;
        text-align: center;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      }
      
      .flashcard-category {
        display: inline-block;
        padding: 0.5rem 1.5rem;
        background: linear-gradient(135deg, #8b7355 0%, #a08a6d 100%);
        color: #faf9f7;
        font-size: 0.9rem;
        font-weight: 600;
        border-radius: 30px;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        box-shadow: 
          0 3px 8px rgba(139, 115, 85, 0.3),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
        border: 1px solid rgba(139, 115, 85, 0.4);
      }
      
      .flashcard-hint {
        position: absolute;
        bottom: 1.5rem;
        left: 1.5rem;
        font-size: 0.9rem;
        color: #a8a6a3;
        font-style: italic;
        opacity: 0.7;
        z-index: 10;
      }
      
      .vocab-nav {
        display: flex;
        justify-content: center;
        gap: 1rem;
        align-items: center;
        margin-bottom: 2rem;
      }
      
      .vocab-btn {
        padding: 1rem 2rem;
        background: linear-gradient(135deg, #8b7355 0%, #a08a6d 100%);
        color: #faf9f7;
        border: 2px solid rgba(139, 115, 85, 0.3);
        font-family: 'Outfit', sans-serif;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        border-radius: 4px;
        box-shadow: 
          0 4px 12px rgba(139, 115, 85, 0.2),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
      }
      
      .vocab-btn:hover {
        background: linear-gradient(135deg, #9d8465 0%, #b29a7d 100%);
        transform: translateY(-2px);
        box-shadow: 
          0 6px 16px rgba(139, 115, 85, 0.3),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
      }
      
      .vocab-btn:disabled {
        opacity: 0.4;
        cursor: not-allowed;
        transform: none;
      }
      
      .vocab-progress {
        text-align: center;
        font-size: 1.2rem;
        color: #e8e6e3;
        font-weight: 600;
      }
      
      .vocab-stats {
        display: flex;
        justify-content: center;
        gap: 2rem;
        padding: 1rem 2rem;
        background: linear-gradient(135deg, rgba(50, 45, 38, 0.6) 0%, rgba(45, 40, 33, 0.6) 100%);
        border-radius: 8px;
        border: 1px solid rgba(120, 100, 80, 0.4);
        box-shadow: 
          0 4px 12px rgba(0, 0, 0, 0.3),
          inset 0 1px 0 rgba(120, 100, 80, 0.2);
      }
      
      .vocab-stat {
        text-align: center;
      }
      
      .vocab-stat-value {
        font-size: 1.5rem;
        font-weight: 700;
        color: #d4786a;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.4);
      }
      
      .vocab-stat-label {
        font-size: 0.75rem;
        color: #a8a6a3;
        margin-top: 0.15rem;
      }
      
      .shuffle-btn {
        background: linear-gradient(135deg, #7a9e7e 0%, #8ab08e 100%) !important;
        border-color: rgba(122, 158, 126, 0.3) !important;
      }
      
      .shuffle-btn:hover {
        background: linear-gradient(135deg, #8ab08e 0%, #9ac09e 100%) !important;
      }
      
      /* Toggle Controls */
      .vocab-toggles {
        display: flex;
        justify-content: center;
        gap: 2rem;
        margin-bottom: 2rem;
        padding: 1.5rem;
        background: linear-gradient(135deg, rgba(50, 45, 38, 0.4) 0%, rgba(45, 40, 33, 0.4) 100%);
        border-radius: 8px;
        border: 1px solid rgba(120, 100, 80, 0.3);
      }
      
      .toggle-item {
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }
      
      .toggle-label {
        font-size: 0.85rem;
        color: #e8e6e3;
        font-weight: 500;
        user-select: none;
      }
      
      /* Toggle Switch Styling */
      .toggle-switch {
        position: relative;
        display: inline-block;
        width: 54px;
        height: 28px;
      }
      
      .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }
      
      .toggle-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, rgba(120, 100, 80, 0.3) 0%, rgba(100, 80, 60, 0.3) 100%);
        border: 1px solid rgba(120, 100, 80, 0.5);
        transition: 0.3s;
        border-radius: 28px;
      }
      
      .toggle-slider:before {
        position: absolute;
        content: "";
        height: 20px;
        width: 20px;
        left: 4px;
        bottom: 3px;
        background: linear-gradient(135deg, #8b7355 0%, #a08a6d 100%);
        transition: 0.3s;
        border-radius: 50%;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }
      
      .toggle-switch input:checked + .toggle-slider {
        background: linear-gradient(135deg, #7a9e7e 0%, #8ab08e 100%);
        border-color: rgba(122, 158, 126, 0.7);
      }
      
      .toggle-switch input:checked + .toggle-slider:before {
        transform: translateX(26px);
        background: linear-gradient(135deg, #6a8e6e 0%, #7a9e7e 100%);
      }
      
      .toggle-slider:hover {
        opacity: 0.9;
      }
      
      /* Kanji Reading Display */
      .flashcard-kanji {
        font-size: 2rem;
        color: #d4786a;
        font-weight: 500;
        margin-bottom: 1rem;
        font-family: 'Noto Serif JP', serif;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        display: none;
      }      
      /* Katakana Reading Display */
      .flashcard-katakana {
        font-size: 2.3rem;
        color: #2d7d9a;
        font-weight: 500;
        margin-bottom: 1rem;
        font-family: 'Noto Sans JP', sans-serif;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        display: none;
      }
      
      
      /* Smaller English text when shown first (reverse mode) */
      .flashcard-japanese.english-front {
        font-size: 2.1rem;
      }
      
      /* Container for side-by-side kanji and katakana */
      .script-container {
        display: flex;
        gap: 1.5rem;
        justify-content: center;
        align-items: center;
        margin-bottom: 1rem;
      }
      
      .script-container .flashcard-kanji,
      .script-container .flashcard-katakana {
        margin-bottom: 0;
      }
      
      /* Kana Chart Enhancements */
      .kana-chart tbody tr:nth-child(even) td:not(:first-child) {
        background: #faf8f5 !important;
      }
      
      .kana-chart tbody tr:nth-child(odd) td:not(:first-child) {
        background: var(--paper-warm) !important;
      }
      
      .kana-chart tbody td.kana-grid-cell {
        transition: all 0.2s ease;
        cursor: pointer;
      }
      
      .kana-chart tbody td.kana-grid-cell:hover {
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        background: #fff !important;
      }
      
      /* Grid cell hover effects */
      .kana-grid-cell {
        transition: all 0.2s ease;
        cursor: pointer;
      }
      
      .kana-grid-cell:hover {
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        background: #fff !important;
      }

      @media (max-width: 768px) {
        .vocab-toggles {
          flex-direction: column;
          gap: 1rem;
          align-items: center;
        }
        
        .toggle-item {
          width: 100%;
          justify-content: space-between;
          max-width: 280px;
        }
      }

      
      @media (max-width: 768px) {
        .flashcard {
          width: 90vw;
          height: 400px;
        }
        
        .flashcard-japanese {
          font-size: 3.5rem;
        }
        
        .flashcard-english {
          font-size: 2.2rem;
        }
        
        .flashcard-corner-accent {
          width: 40px;
          height: 40px;
        }
        
        .corner-tl {
          top: 15px;
          left: 15px;
        }
        
        .corner-br {
          bottom: 15px;
          right: 15px;
        }
        
        .flashcard-front::after,
        .flashcard-back::after {
          font-size: 12rem;
        }
        
        .vocab-stats {
          flex-direction: column;
          gap: 1.5rem;
        }
      }
    </style>

    <div class="vocab-container">
      <div class="vocab-header">
        <h1 class="vocab-title">
          <span class="japanese-title">ÂçòË™ûÈÅìÂ†¥</span>
          <span class="romaji-title">Tango D≈çj≈ç</span>
        </h1>
        <p class="vocab-subtitle">Japanese Flashcards</p>
      </div>

            <!-- Toggle Controls -->
      <div class="vocab-toggles">
        <div class="toggle-item">
          <span class="toggle-label">Show English First</span>
          <label class="toggle-switch">
            <input type="checkbox" id="toggle-reverse-vocab" onchange="toggleReverseVocab()">
            <span class="toggle-slider"></span>
          </label>
        </div>
        
        <div class="toggle-item">
          <span class="toggle-label">Show Kanji</span>
          <label class="toggle-switch">
            <input type="checkbox" id="toggle-kanji-vocab" onchange="toggleKanjiVocab()">
            <span class="toggle-slider"></span>
          </label>
        </div>
        
        <div class="toggle-item">
          <span class="toggle-label">Show Katakana</span>
          <label class="toggle-switch">
            <input type="checkbox" id="toggle-katakana-vocab" onchange="toggleKatakanaVocab()">
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>

<div class="flashcard-area">
        <div class="flashcard" id="flashcard-vocab" onclick="flipCardVocab()">
          <div class="flashcard-inner">
            <div class="flashcard-front">
              <div class="flashcard-corner-accent corner-tl"></div>
              <div class="flashcard-corner-accent corner-br"></div>
              <div class="flashcard-content">
                <div class="script-container" id="script-container-vocab">
                  <div class="flashcard-kanji jp" id="card-kanji-vocab"></div>
                  <div class="flashcard-katakana jp" id="card-katakana-vocab"></div>
                </div>
                <div class="flashcard-japanese jp" id="card-japanese-vocab"></div>
              </div>
            </div>
            <div class="flashcard-back">
              <div class="flashcard-corner-accent corner-tl"></div>
              <div class="flashcard-corner-accent corner-br"></div>
              <div class="flashcard-content">
                <div class="script-container" id="script-container-vocab-back">
                  <div class="flashcard-kanji jp" id="card-kanji-vocab-back"></div>
                  <div class="flashcard-katakana jp" id="card-katakana-vocab-back"></div>
                </div>
                <div class="flashcard-english" id="card-english-vocab"></div>
                <div class="flashcard-category" id="card-category-vocab"></div>
              </div>
              <div class="flashcard-hint">Click to flip back</div>
            </div>
          </div>
        </div>
      </div>

      <div class="vocab-nav">
        <button class="vocab-btn" id="prev-btn-vocab" onclick="previousCardVocab()">‚Üê Previous</button>
        <div class="vocab-progress" id="progress-vocab">1 / 496</div>
        <button class="vocab-btn" id="next-btn-vocab" onclick="nextCardVocab()">Next ‚Üí</button>
        <button class="vocab-btn shuffle-btn" onclick="shuffleCardsVocab()">üîÄ Shuffle</button>
      </div>

      <div class="vocab-stats">
        <div class="vocab-stat">
          <div class="vocab-stat-value" id="cards-studied-vocab">0</div>
          <div class="vocab-stat-label">Cards Studied</div>
        </div>
        <div class="vocab-stat">
          <div class="vocab-stat-value" id="total-cards-vocab">496</div>
          <div class="vocab-stat-label">Total Cards</div>
        </div>
      </div>
    </div>
  </div>


  <!-- Back to Top Button -->
  <button id="back-to-top" class="back-to-top" title="Back to top" aria-label="Back to top">
    ‚Üë
  </button>
  
  <!-- Toast Notification -->
  <div id="toast" class="toast"></div>

  <script>
    // ============ DATA ============
    const verbs = {
      godan: [
        { kanji: 'Èñã„Åè', hiragana: '„ÅÇ„Åè', romaji: 'aku', meaning: 'to open', jlpt: 'N5' },
        { kanji: 'Ê≠©„Åè', hiragana: '„ÅÇ„Çã„Åè', romaji: 'aruku', meaning: 'to walk', jlpt: 'N5' },
        { kanji: 'Ê¥ó„ÅÜ', hiragana: '„ÅÇ„Çâ„ÅÜ', romaji: 'arau', meaning: 'to wash', jlpt: 'N5' },
        { kanji: '„ÅÇ„Çã', hiragana: '„ÅÇ„Çã', romaji: 'aru', meaning: 'to exist', jlpt: 'N5' },
        { kanji: 'ÈÅä„Å∂', hiragana: '„ÅÇ„Åù„Å∂', romaji: 'asobu', meaning: 'to play', jlpt: 'N5' },
        { kanji: '‰ºö„ÅÜ', hiragana: '„ÅÇ„ÅÜ', romaji: 'au', meaning: 'to meet', jlpt: 'N5' },
        { kanji: 'ÈÅï„ÅÜ', hiragana: '„Å°„Åå„ÅÜ', romaji: 'chigau', meaning: 'to differ', jlpt: 'N4' },
        { kanji: 'ÈÅ∏„Å∂', hiragana: '„Åà„Çâ„Å∂', romaji: 'erabu', meaning: 'to choose', jlpt: 'N3' },
        { kanji: 'Èôç„Çã', hiragana: '„Åµ„Çã', romaji: 'furu', meaning: 'to fall (rain/snow)', jlpt: 'N5' },
        { kanji: 'È†ëÂºµ„Çã', hiragana: '„Åå„Çì„Å∞„Çã', romaji: 'ganbaru', meaning: "to do one's best", jlpt: 'N4' },
        { kanji: 'ÂÖ•„Çã', hiragana: '„ÅØ„ÅÑ„Çã', romaji: 'hairu', meaning: 'to enter', jlpt: 'N5' },
        { kanji: 'Âßã„Åæ„Çã', hiragana: '„ÅØ„Åò„Åæ„Çã', romaji: 'hajimaru', meaning: 'to begin', jlpt: 'N4' },
        { kanji: 'Ë©±„Åô', hiragana: '„ÅØ„Å™„Åô', romaji: 'hanasu', meaning: 'to speak', jlpt: 'N5' },
        { kanji: 'Ëµ∞„Çã', hiragana: '„ÅØ„Åó„Çã', romaji: 'hashiru', meaning: 'to run', jlpt: 'N5' },
        { kanji: 'ÂÉç„Åè', hiragana: '„ÅØ„Åü„Çâ„Åè', romaji: 'hataraku', meaning: 'to work', jlpt: 'N5' },
        { kanji: 'Ë°å„Åè', hiragana: '„ÅÑ„Åè', romaji: 'iku', meaning: 'to go', jlpt: 'N5' },
        { kanji: 'ÊÄ•„Åê', hiragana: '„ÅÑ„Åù„Åê', romaji: 'isogu', meaning: 'to hurry', jlpt: 'N4' },
        { kanji: 'Ë®Ä„ÅÜ', hiragana: '„ÅÑ„ÅÜ', romaji: 'iu', meaning: 'to say', jlpt: 'N5' },
        { kanji: 'Â∏∞„Çã', hiragana: '„Åã„Åà„Çã', romaji: 'kaeru', meaning: 'to return', jlpt: 'N5' },
        { kanji: 'Ëøî„Åô', hiragana: '„Åã„Åà„Åô', romaji: 'kaesu', meaning: 'to return (something)', jlpt: 'N4' },
        { kanji: 'Êõ∏„Åè', hiragana: '„Åã„Åè', romaji: 'kaku', meaning: 'to write', jlpt: 'N5' },
        { kanji: 'Ë≤∏„Åô', hiragana: '„Åã„Åô', romaji: 'kasu', meaning: 'to lend', jlpt: 'N5' },
        { kanji: 'Ë≤∑„ÅÜ', hiragana: '„Åã„ÅÜ', romaji: 'kau', meaning: 'to buy', jlpt: 'N5' },
        { kanji: 'Ê∂à„Åô', hiragana: '„Åë„Åô', romaji: 'kesu', meaning: 'to erase', jlpt: 'N5' },
        { kanji: 'ËÅû„Åè', hiragana: '„Åç„Åè', romaji: 'kiku', meaning: 'to listen', jlpt: 'N5' },
        { kanji: 'Âàá„Çã', hiragana: '„Åç„Çã', romaji: 'kiru', meaning: 'to cut', jlpt: 'N5' },
        { kanji: 'Âõ∞„Çã', hiragana: '„Åì„Åæ„Çã', romaji: 'komaru', meaning: 'to be troubled', jlpt: 'N4' },
        { kanji: 'ÂæÖ„Å§', hiragana: '„Åæ„Å§', romaji: 'matsu', meaning: 'to wait', jlpt: 'N5' },
        { kanji: 'ÊåÅ„Å§', hiragana: '„ÇÇ„Å§', romaji: 'motsu', meaning: 'to hold', jlpt: 'N5' },
        { kanji: 'Ê≥£„Åè', hiragana: '„Å™„Åè', romaji: 'naku', meaning: 'to cry', jlpt: 'N4' },
        { kanji: '‰∏¶„Å∂', hiragana: '„Å™„Çâ„Å∂', romaji: 'narabu', meaning: 'to line up', jlpt: 'N3' },
        { kanji: '„Å™„Çã', hiragana: '„Å™„Çã', romaji: 'naru', meaning: 'to become', jlpt: 'N5' },
        { kanji: 'È£≤„ÇÄ', hiragana: '„ÅÆ„ÇÄ', romaji: 'nomu', meaning: 'to drink', jlpt: 'N5' },
        { kanji: '‰πó„Çã', hiragana: '„ÅÆ„Çã', romaji: 'noru', meaning: 'to ride', jlpt: 'N5' },
        { kanji: 'ËÑ±„Åê', hiragana: '„Å¨„Åê', romaji: 'nugu', meaning: 'to take off', jlpt: 'N4' },
        { kanji: 'Ëµ∑„Åì„Åô', hiragana: '„Åä„Åì„Åô', romaji: 'okosu', meaning: 'to wake someone up', jlpt: 'N3' },
        { kanji: 'ÊÄí„Çã', hiragana: '„Åä„Åì„Çã', romaji: 'okoru', meaning: 'to get angry', jlpt: 'N3' },
        { kanji: 'ÁΩÆ„Åè', hiragana: '„Åä„Åè', romaji: 'oku', meaning: 'to put', jlpt: 'N5' },
        { kanji: 'ÈÄÅ„Çã', hiragana: '„Åä„Åè„Çã', romaji: 'okuru', meaning: 'to send', jlpt: 'N4' },
        { kanji: 'ÊÄù„ÅÜ', hiragana: '„Åä„ÇÇ„ÅÜ', romaji: 'omou', meaning: 'to think', jlpt: 'N4' },
        { kanji: 'Êäº„Åô', hiragana: '„Åä„Åô', romaji: 'osu', meaning: 'to push', jlpt: 'N4' },
        { kanji: 'ÁµÇ„Çè„Çã', hiragana: '„Åä„Çè„Çã', romaji: 'owaru', meaning: 'to end', jlpt: 'N5' },
        { kanji: 'Ê≥≥„Åê', hiragana: '„Åä„Çà„Åê', romaji: 'oyogu', meaning: 'to swim', jlpt: 'N5' },
        { kanji: 'Ëß¶„Çã', hiragana: '„Åï„Çè„Çã', romaji: 'sawaru', meaning: 'to touch', jlpt: 'N3' },
        { kanji: 'Ê≠ª„Å¨', hiragana: '„Åó„Å¨', romaji: 'shinu', meaning: 'to die', jlpt: 'N4' },
        { kanji: 'Áü•„Çã', hiragana: '„Åó„Çã', romaji: 'shiru', meaning: 'to know', jlpt: 'N5' },
        { kanji: '‰Ωè„ÇÄ', hiragana: '„Åô„ÇÄ', romaji: 'sumu', meaning: 'to live', jlpt: 'N5' },
        { kanji: 'Â∫ß„Çã', hiragana: '„Åô„Çè„Çã', romaji: 'suwaru', meaning: 'to sit', jlpt: 'N5' },
        { kanji: 'Á´ã„Å§', hiragana: '„Åü„Å§', romaji: 'tatsu', meaning: 'to stand', jlpt: 'N5' },
        { kanji: 'È£õ„Å∂', hiragana: '„Å®„Å∂', romaji: 'tobu', meaning: 'to fly', jlpt: 'N4' },
        { kanji: 'ÊíÆ„Çã', hiragana: '„Å®„Çã', romaji: 'toru', meaning: 'to take (photo)', jlpt: 'N5' },
        { kanji: '‰Ωø„ÅÜ', hiragana: '„Å§„Åã„ÅÜ', romaji: 'tsukau', meaning: 'to use', jlpt: 'N5' },
        { kanji: 'ÁùÄ„Åè', hiragana: '„Å§„Åè', romaji: 'tsuku', meaning: 'to arrive', jlpt: 'N5' },
        { kanji: '‰Ωú„Çã', hiragana: '„Å§„Åè„Çã', romaji: 'tsukuru', meaning: 'to make', jlpt: 'N5' },
        { kanji: 'Á∂ö„Åè', hiragana: '„Å§„Å•„Åè', romaji: 'tsuzuku', meaning: 'to continue', jlpt: 'N3' },
        { kanji: 'Â£≤„Çã', hiragana: '„ÅÜ„Çã', romaji: 'uru', meaning: 'to sell', jlpt: 'N5' },
        { kanji: 'Ê≠å„ÅÜ', hiragana: '„ÅÜ„Åü„ÅÜ', romaji: 'utau', meaning: 'to sing', jlpt: 'N5' },
        { kanji: '„Çè„Åã„Çã', hiragana: '„Çè„Åã„Çã', romaji: 'wakaru', meaning: 'to understand', jlpt: 'N5' },
        { kanji: 'Á¨ë„ÅÜ', hiragana: '„Çè„Çâ„ÅÜ', romaji: 'warau', meaning: 'to laugh', jlpt: 'N4' },
        { kanji: 'Ê∏°„Çã', hiragana: '„Çè„Åü„Çã', romaji: 'wataru', meaning: 'to cross', jlpt: 'N4' },
        { kanji: '‰ºë„ÇÄ', hiragana: '„ÇÑ„Åô„ÇÄ', romaji: 'yasumu', meaning: 'to rest', jlpt: 'N5' },
        { kanji: '„ÇÑ„Çã', hiragana: '„ÇÑ„Çã', romaji: 'yaru', meaning: 'to do', jlpt: 'N4' },
        { kanji: 'Âëº„Å∂', hiragana: '„Çà„Å∂', romaji: 'yobu', meaning: 'to call', jlpt: 'N5' },
        { kanji: 'Ë™≠„ÇÄ', hiragana: '„Çà„ÇÄ', romaji: 'yomu', meaning: 'to read', jlpt: 'N5' }
      ],
      ichidan: [
        { kanji: '„ÅÇ„Åí„Çã', hiragana: '„ÅÇ„Åí„Çã', romaji: 'ageru', meaning: 'to give', jlpt: 'N5' },
        { kanji: 'Èñã„Åë„Çã', hiragana: '„ÅÇ„Åë„Çã', romaji: 'akeru', meaning: 'to open', jlpt: 'N5' },
        { kanji: 'ÈõÜ„ÇÅ„Çã', hiragana: '„ÅÇ„Å§„ÇÅ„Çã', romaji: 'atsumeru', meaning: 'to collect', jlpt: 'N3' },
        { kanji: '„Åß„Åç„Çã', hiragana: '„Åß„Åç„Çã', romaji: 'dekiru', meaning: 'to be able to', jlpt: 'N5' },
        { kanji: 'Âá∫„Çã', hiragana: '„Åß„Çã', romaji: 'deru', meaning: 'to exit', jlpt: 'N5' },
        { kanji: 'Âßã„ÇÅ„Çã', hiragana: '„ÅØ„Åò„ÇÅ„Çã', romaji: 'hajimeru', meaning: 'to begin', jlpt: 'N4' },
        { kanji: 'Ë§í„ÇÅ„Çã', hiragana: '„Åª„ÇÅ„Çã', romaji: 'homeru', meaning: 'to praise', jlpt: 'N3' },
        { kanji: 'Áîü„Åç„Çã', hiragana: '„ÅÑ„Åç„Çã', romaji: 'ikiru', meaning: 'to live', jlpt: 'N4' },
        { kanji: 'ÂÖ•„Çå„Çã', hiragana: '„ÅÑ„Çå„Çã', romaji: 'ireru', meaning: 'to put in', jlpt: 'N5' },
        { kanji: '„ÅÑ„Çã', hiragana: '„ÅÑ„Çã', romaji: 'iru', meaning: 'to exist', jlpt: 'N5' },
        { kanji: 'Â§â„Åà„Çã', hiragana: '„Åã„Åà„Çã', romaji: 'kaeru', meaning: 'to change', jlpt: 'N4' },
        { kanji: 'ÊÑü„Åò„Çã', hiragana: '„Åã„Çì„Åò„Çã', romaji: 'kanjiru', meaning: 'to feel', jlpt: 'N3' },
        { kanji: 'ËÄÉ„Åà„Çã', hiragana: '„Åã„Çì„Åå„Åà„Çã', romaji: 'kangaeru', meaning: 'to think', jlpt: 'N4' },
        { kanji: 'ÂÄü„Çä„Çã', hiragana: '„Åã„Çä„Çã', romaji: 'kariru', meaning: 'to borrow', jlpt: 'N5' },
        { kanji: 'ÁùÄ„Çã', hiragana: '„Åç„Çã', romaji: 'kiru', meaning: 'to wear', jlpt: 'N5' },
        { kanji: 'Á≠î„Åà„Çã', hiragana: '„Åì„Åü„Åà„Çã', romaji: 'kotaeru', meaning: 'to answer', jlpt: 'N4' },
        { kanji: 'ÊØî„Åπ„Çã', hiragana: '„Åè„Çâ„Åπ„Çã', romaji: 'kuraberu', meaning: 'to compare', jlpt: 'N3' },
        { kanji: '„Åè„Çå„Çã', hiragana: '„Åè„Çå„Çã', romaji: 'kureru', meaning: 'to give (me)', jlpt: 'N5' },
        { kanji: 'Ë≤†„Åë„Çã', hiragana: '„Åæ„Åë„Çã', romaji: 'makeru', meaning: 'to lose', jlpt: 'N3' },
        { kanji: 'Ë¶ã„Çã', hiragana: '„Åø„Çã', romaji: 'miru', meaning: 'to see', jlpt: 'N5' },
        { kanji: 'Ë¶ã„Åõ„Çã', hiragana: '„Åø„Åõ„Çã', romaji: 'miseru', meaning: 'to show', jlpt: 'N5' },
        { kanji: 'ÂØù„Çã', hiragana: '„Å≠„Çã', romaji: 'neru', meaning: 'to sleep', jlpt: 'N5' },
        { kanji: '‰ºº„Çã', hiragana: '„Å´„Çã', romaji: 'niru', meaning: 'to resemble', jlpt: 'N3' },
        { kanji: 'Ë¶ö„Åà„Çã', hiragana: '„Åä„Åº„Åà„Çã', romaji: 'oboeru', meaning: 'to memorize', jlpt: 'N5' },
        { kanji: 'ËêΩ„Å°„Çã', hiragana: '„Åä„Å°„Çã', romaji: 'ochiru', meaning: 'to fall', jlpt: 'N4' },
        { kanji: 'Ëµ∑„Åç„Çã', hiragana: '„Åä„Åç„Çã', romaji: 'okiru', meaning: 'to wake up', jlpt: 'N5' },
        { kanji: 'Êïô„Åà„Çã', hiragana: '„Åä„Åó„Åà„Çã', romaji: 'oshieru', meaning: 'to teach', jlpt: 'N5' },
        { kanji: 'Èñâ„ÇÅ„Çã', hiragana: '„Åó„ÇÅ„Çã', romaji: 'shimeru', meaning: 'to close', jlpt: 'N5' },
        { kanji: '‰ø°„Åò„Çã', hiragana: '„Åó„Çì„Åò„Çã', romaji: 'shinjiru', meaning: 'to believe', jlpt: 'N3' },
        { kanji: 'Ë™ø„Åπ„Çã', hiragana: '„Åó„Çâ„Åπ„Çã', romaji: 'shiraberu', meaning: 'to investigate', jlpt: 'N4' },
        { kanji: 'Êç®„Å¶„Çã', hiragana: '„Åô„Å¶„Çã', romaji: 'suteru', meaning: 'to throw away', jlpt: 'N4' },
        { kanji: 'È£ü„Åπ„Çã', hiragana: '„Åü„Åπ„Çã', romaji: 'taberu', meaning: 'to eat', jlpt: 'N5' },
        { kanji: 'Âä©„Åë„Çã', hiragana: '„Åü„Åô„Åë„Çã', romaji: 'tasukeru', meaning: 'to help', jlpt: 'N4' },
        { kanji: 'Ê≠¢„ÇÅ„Çã', hiragana: '„Å®„ÇÅ„Çã', romaji: 'tomeru', meaning: 'to stop', jlpt: 'N4' },
        { kanji: 'Áñ≤„Çå„Çã', hiragana: '„Å§„Åã„Çå„Çã', romaji: 'tsukareru', meaning: 'to get tired', jlpt: 'N5' },
        { kanji: '„Å§„Åë„Çã', hiragana: '„Å§„Åë„Çã', romaji: 'tsukeru', meaning: 'to turn on', jlpt: 'N5' },
        { kanji: '‰ºù„Åà„Çã', hiragana: '„Å§„Åü„Åà„Çã', romaji: 'tsutaeru', meaning: 'to convey', jlpt: 'N3' },
        { kanji: 'Á∂ö„Åë„Çã', hiragana: '„Å§„Å•„Åë„Çã', romaji: 'tsuzukeru', meaning: 'to continue', jlpt: 'N4' },
        { kanji: 'Âèó„Åë„Çã', hiragana: '„ÅÜ„Åë„Çã', romaji: 'ukeru', meaning: 'to receive', jlpt: 'N4' },
        { kanji: 'Âøò„Çå„Çã', hiragana: '„Çè„Åô„Çå„Çã', romaji: 'wasureru', meaning: 'to forget', jlpt: 'N5' }
      ],
      irregular: [
        { kanji: 'Êù•„Çã', hiragana: '„Åè„Çã', romaji: 'kuru', meaning: 'to come', jlpt: 'N5' }
      ],
      suru: [
        { kanji: 'Ê°àÂÜÖ„Åô„Çã', hiragana: '„ÅÇ„Çì„Å™„ÅÑ„Åô„Çã', romaji: 'annai suru', meaning: 'to guide', jlpt: 'N3' },
        { kanji: 'ÂãâÂº∑„Åô„Çã', hiragana: '„Åπ„Çì„Åç„Çá„ÅÜ„Åô„Çã', romaji: 'benkyou suru', meaning: 'to study', jlpt: 'N5' },
        { kanji: 'ÈõªË©±„Åô„Çã', hiragana: '„Åß„Çì„Çè„Åô„Çã', romaji: 'denwa suru', meaning: 'to phone', jlpt: 'N5' },
        { kanji: 'Ê∫ñÂÇô„Åô„Çã', hiragana: '„Åò„ÇÖ„Çì„Å≥„Åô„Çã', romaji: 'junbi suru', meaning: 'to prepare', jlpt: 'N4' },
        { kanji: 'Ë≤∑„ÅÑÁâ©„Åô„Çã', hiragana: '„Åã„ÅÑ„ÇÇ„ÅÆ„Åô„Çã', romaji: 'kaimono suru', meaning: 'to shop', jlpt: 'N5' },
        { kanji: 'ÁµêÂ©ö„Åô„Çã', hiragana: '„Åë„Å£„Åì„Çì„Åô„Çã', romaji: 'kekkon suru', meaning: 'to get married', jlpt: 'N4' },
        { kanji: 'Á∑¥Áøí„Åô„Çã', hiragana: '„Çå„Çì„Åó„ÇÖ„ÅÜ„Åô„Çã', romaji: 'renshuu suru', meaning: 'to practice', jlpt: 'N4' },
        { kanji: 'ÈÄ£Áµ°„Åô„Çã', hiragana: '„Çå„Çì„Çâ„Åè„Åô„Çã', romaji: 'renraku suru', meaning: 'to contact', jlpt: 'N3' },
        { kanji: 'Âà©Áî®„Åô„Çã', hiragana: '„Çä„Çà„ÅÜ„Åô„Çã', romaji: 'riyou suru', meaning: 'to use', jlpt: 'N3' },
        { kanji: 'ÊóÖË°å„Åô„Çã', hiragana: '„Çä„Çá„Åì„ÅÜ„Åô„Çã', romaji: 'ryokou suru', meaning: 'to travel', jlpt: 'N5' },
        { kanji: 'ÊñôÁêÜ„Åô„Çã', hiragana: '„Çä„Çá„ÅÜ„Çä„Åô„Çã', romaji: 'ryouri suru', meaning: 'to cook', jlpt: 'N5' },
        { kanji: 'Êï£Ê≠©„Åô„Çã', hiragana: '„Åï„Çì„ÅΩ„Åô„Çã', romaji: 'sanpo suru', meaning: 'to take a walk', jlpt: 'N5' },
        { kanji: 'Ë™¨Êòé„Åô„Çã', hiragana: '„Åõ„Å§„ÇÅ„ÅÑ„Åô„Çã', romaji: 'setsumei suru', meaning: 'to explain', jlpt: 'N4' },
        { kanji: '‰ªï‰∫ã„Åô„Çã', hiragana: '„Åó„Åî„Å®„Åô„Çã', romaji: 'shigoto suru', meaning: 'to work', jlpt: 'N5' },
        { kanji: 'ÂøÉÈÖç„Åô„Çã', hiragana: '„Åó„Çì„Å±„ÅÑ„Åô„Çã', romaji: 'shinpai suru', meaning: 'to worry', jlpt: 'N4' },
        { kanji: 'Ë≥™Âïè„Åô„Çã', hiragana: '„Åó„Å§„ÇÇ„Çì„Åô„Çã', romaji: 'shitsumon suru', meaning: 'to ask a question', jlpt: 'N4' },
        { kanji: 'Á¥π‰ªã„Åô„Çã', hiragana: '„Åó„Çá„ÅÜ„Åã„ÅÑ„Åô„Çã', romaji: 'shoukai suru', meaning: 'to introduce', jlpt: 'N4' },
        { kanji: 'Áõ∏Ë´á„Åô„Çã', hiragana: '„Åù„ÅÜ„Å†„Çì„Åô„Çã', romaji: 'soudan suru', meaning: 'to consult', jlpt: 'N4' },
        { kanji: 'ÊéÉÈô§„Åô„Çã', hiragana: '„Åù„ÅÜ„Åò„Åô„Çã', romaji: 'souji suru', meaning: 'to clean', jlpt: 'N5' },
        { kanji: '„Åô„Çã', hiragana: '„Åô„Çã', romaji: 'suru', meaning: 'to do', jlpt: 'N5' },
        { kanji: 'ÈÅãÂãï„Åô„Çã', hiragana: '„ÅÜ„Çì„Å©„ÅÜ„Åô„Çã', romaji: 'undou suru', meaning: 'to exercise', jlpt: 'N4' },
        { kanji: 'ÈÅãËª¢„Åô„Çã', hiragana: '„ÅÜ„Çì„Å¶„Çì„Åô„Çã', romaji: 'unten suru', meaning: 'to drive', jlpt: 'N4' },
        { kanji: 'Á¥ÑÊùü„Åô„Çã', hiragana: '„ÇÑ„Åè„Åù„Åè„Åô„Çã', romaji: 'yakusoku suru', meaning: 'to promise', jlpt: 'N4' },
        { kanji: '‰∫àÁ¥Ñ„Åô„Çã', hiragana: '„Çà„ÇÑ„Åè„Åô„Çã', romaji: 'yoyaku suru', meaning: 'to reserve', jlpt: 'N4' }
      ]
    };

    const forms = [
      { 
        name: 'Negative', 
        key: 'negative', 
        hint: 'Think about what sound you need for negation. Which row of the hiragana chart will give you the right stem before adding the negative ending?',
        templates: [
          { text: 'Conjugate to: <strong>Negative („Å™„ÅÑ)</strong>', type: 'direct' },
          { text: '"does not {meaning}" ‚Üí', type: 'phrase' }
        ]
      },
      { 
        name: 'Masu', 
        key: 'masu', 
        hint: 'For polite speech, you need a stem that ends in an „ÅÑ sound. Think about how the verb ending needs to change before adding the polite marker.',
        templates: [
          { text: 'Conjugate to: <strong>Polite („Åæ„Åô)</strong>', type: 'direct' },
          { text: '"{meaning}" (polite) ‚Üí', type: 'phrase' }
        ]
      },
      { 
        name: 'Past', 
        key: 'past', 
        hint: 'Past tense has different patterns depending on verb type. Consider what the final sound of the verb is‚Äîthat determines which past ending pattern to use.',
        templates: [
          { text: 'Conjugate to: <strong>Past („Åü/„Å†)</strong>', type: 'direct' },
          { text: '"{meaning}" (past) ‚Üí', type: 'phrase' }
        ]
      },
      { 
        name: 'Tai', 
        key: 'tai', 
        hint: 'When expressing "want to do," you need the „Åæ„Åô-stem („ÅÑ-row). What sound should come before „Åü„ÅÑ?',
        templates: [
          { text: 'Conjugate to: <strong>Want to („Åü„ÅÑ)</strong>', type: 'direct' },
          { text: '"want to {meaning}" ‚Üí', type: 'phrase' }
        ]
      },
      { 
        name: 'Potential', 
        key: 'potential', 
        hint: 'The potential form shows ability. Think about which sound before „Çã will express "can do." Consider the verb type carefully‚Äîeach has its own pattern.',
        templates: [
          { text: 'Conjugate to: <strong>Potential („Åß„Åç„Çã/„Åà„Çã)</strong>', type: 'direct' },
          { text: '"can {meaning}" ‚Üí', type: 'phrase' }
        ]
      },
      { 
        name: 'Volitional', 
        key: 'volitional', 
        hint: 'To suggest doing something together, you need a stem with an „Åä sound for some verbs. What makes sense for this verb type?',
        templates: [
          { text: 'Conjugate to: <strong>Volitional („Çà„ÅÜ/„Åä„ÅÜ)</strong>', type: 'direct' },
          { text: '"let\'s {meaning}" ‚Üí', type: 'phrase' }
        ]
      },
      { 
        name: 'Te-form', 
        key: 'te', 
        hint: 'The „Å¶ form uses the same sound changes as the past tense, but ends with „Å¶/„Åß instead of „Åü/„Å†. Think about what happened to the verb ending in past tense.',
        templates: [
          { text: 'Conjugate to: <strong>Te-form („Å¶/„Åß)</strong>', type: 'direct' },
          { text: '"{meaning}" (te-form) ‚Üí', type: 'phrase' }
        ]
      },
      { 
        name: 'Polite Negative', 
        key: 'masen', 
        hint: 'For polite negative, you need the same stem as „Åæ„Åô form, but with „Åæ„Åõ„Çì ending instead.',
        templates: [
          { text: 'Conjugate to: <strong>Polite Negative („Åæ„Åõ„Çì)</strong>', type: 'direct' },
          { text: '"does not {meaning}" (polite) ‚Üí', type: 'phrase' }
        ]
      },
      { 
        name: 'Polite Past', 
        key: 'mashita', 
        hint: 'For polite past, use the same stem as „Åæ„Åô form, but with „Åæ„Åó„Åü ending instead.',
        templates: [
          { text: 'Conjugate to: <strong>Polite Past („Åæ„Åó„Åü)</strong>', type: 'direct' },
          { text: '"{meaning}" (polite past) ‚Üí', type: 'phrase' }
        ]
      },
      { 
        name: 'Negative Past', 
        key: 'nakatta', 
        hint: 'For negative past, start with the negative form („Å™„ÅÑ), drop the „ÅÑ, and add „Åã„Å£„Åü.',
        templates: [
          { text: 'Conjugate to: <strong>Negative Past („Å™„Åã„Å£„Åü)</strong>', type: 'direct' },
          { text: '"did not {meaning}" ‚Üí', type: 'phrase' }
        ]
      },
      { 
        name: 'Conditional (Ba)', 
        key: 'ba', 
        hint: 'For „Å∞ conditional, Godan verbs shift to „Åà-row + „Å∞. Ichidan drops „Çã + „Çå„Å∞. „Åô„Çã‚Üí„Åô„Çå„Å∞.',
        templates: [
          { text: 'Conjugate to: <strong>Conditional („Å∞)</strong>', type: 'direct' },
          { text: '"if [someone] {meaning}" ‚Üí', type: 'phrase' }
        ]
      },
      { 
        name: 'Conditional (Tara)', 
        key: 'tara', 
        hint: 'For „Åü„Çâ conditional, start with the past tense form and add „Çâ.',
        templates: [
          { text: 'Conjugate to: <strong>Conditional („Åü„Çâ)</strong>', type: 'direct' },
          { text: '"if/when [someone] {meaning}" ‚Üí', type: 'phrase' }
        ]
      },
      { 
        name: 'Passive', 
        key: 'passive', 
        hint: 'For passive, Godan shifts to „ÅÇ-row + „Çå„Çã. Ichidan drops „Çã + „Çâ„Çå„Çã. „Åô„Çã‚Üí„Åï„Çå„Çã.',
        templates: [
          { text: 'Conjugate to: <strong>Passive („Çâ„Çå„Çã/„ÅÇ„Çå„Çã)</strong>', type: 'direct' },
          { text: '"is {meaning}" (passive) ‚Üí', type: 'phrase' }
        ]
      },
      { 
        name: 'Causative', 
        key: 'causative', 
        hint: 'For causative, Godan shifts to „ÅÇ-row + „Åõ„Çã. Ichidan drops „Çã + „Åï„Åõ„Çã. „Åô„Çã‚Üí„Åï„Åõ„Çã.',
        templates: [
          { text: 'Conjugate to: <strong>Causative („Åï„Åõ„Çã/„ÅÇ„Åõ„Çã)</strong>', type: 'direct' },
          { text: '"make/let someone {meaning}" ‚Üí', type: 'phrase' }
        ]
      },
      { 
        name: 'Causative-Passive', 
        key: 'causative-passive', 
        hint: 'For causative-passive, Godan: „ÅÇ-row + „Åï„Çå„Çã. Ichidan: drop „Çã + „Åï„Åõ„Çâ„Çå„Çã. „Åô„Çã‚Üí„Åï„Åõ„Çâ„Çå„Çã.',
        templates: [
          { text: 'Conjugate to: <strong>Causative-Passive („Åï„Åõ„Çâ„Çå„Çã)</strong>', type: 'direct' },
          { text: '"is made to {meaning}" ‚Üí', type: 'phrase' }
        ]
      },
      { 
        name: 'Imperative', 
        key: 'imperative', 
        hint: 'For commands, Godan shifts to „Åà-row (Êõ∏„Åè‚ÜíÊõ∏„Åë). Ichidan drops „Çã + „Çç/„Çà (È£ü„Åπ„Çã‚ÜíÈ£ü„Åπ„Çç). „Åô„Çã‚Üí„Åó„Çç.',
        templates: [
          { text: 'Conjugate to: <strong>Imperative (Command)</strong>', type: 'direct' },
          { text: '"{meaning}!" (command) ‚Üí', type: 'phrase' }
        ]
      }
    ];

    // ============ FORM DIFFICULTY CATEGORIES ============
    const formCategories = {
      basic: ['masu', 'negative', 'past', 'te', 'masen', 'mashita', 'nakatta'],
      intermediate: ['tai', 'potential', 'volitional', 'ba', 'tara', 'imperative'],
      advanced: ['passive', 'causative', 'causative-passive']
    };

    // ============ STATE ============
    let currentVerb = null;
    let currentForm = null;
    let currentPrompt = null; // Track which prompt template we're using
    let showAnswer = false;
    let firstAttempt = true;
    let stats = { correct: 0, total: 0, skipped: 0 }; // Fresh session each time
    let hintVisible = false;
    let failureTracking = {}; // Track consecutive failures by form type: { 'godan-negative': 2, ... }
    let isTypeIdentificationQuiz = false; // Are we in verb type ID mode?
    let typeIdentificationAnswer = null; // What type did they guess?
    let recentlyUsedVerbs = []; // Track recently used verbs to avoid repetition
    const MAX_RECENT_VERBS = 12; // Keep last 12 verbs in memory

    // ============ LOCALSTORAGE FUNCTIONS ============
    function loadStats() {
      try {
        const saved = localStorage.getItem('katsuyo-stats');
        if (saved) {
          return JSON.parse(saved);
        }
      } catch (e) {
        console.log('Could not load stats from localStorage');
      }
      return { correct: 0, total: 0 };
    }

    function saveStats() {
      try {
        localStorage.setItem('katsuyo-stats', JSON.stringify(stats));
      } catch (e) {
        console.log('Could not save stats to localStorage');
      }
    }

    function resetStats() {
      stats = { correct: 0, total: 0, skipped: 0 };
      mistakeLog = [];
      saveStats();
      updateScoreDisplay();
      updateReportButton();
    }
    
    function updateScoreDisplay() {
      document.getElementById('score-correct').textContent = stats.correct;
      document.getElementById('score-total').textContent = stats.total;
    }

    function confirmResetStats() {
      if (stats.total === 0) {
        alert('Nothing to reset yet - answer some questions first!');
        return;
      }
      if (confirm(`Reset your score? This will clear your progress (${stats.correct}/${stats.total}) and mistake history.`)) {
        resetStats();
      }
    }

    // ============ NAVIGATION ============
    function showPage(pageName) {
      // Hide all pages
      var allPages = document.querySelectorAll('.page');
      allPages.forEach(function(p) {
        p.classList.remove('active');
        p.style.display = 'none';
      });
      
      // Show target page
      var pageEl = document.getElementById('page-' + pageName);
      if (pageEl) {
        pageEl.classList.add('active');
        pageEl.style.display = 'block';
      }
      
      // Update nav links
      document.querySelectorAll('.nav-link').forEach(function(l) {
        l.classList.remove('active');
      });
      var navLink = document.querySelector('.nav-link[data-page="' + pageName + '"]');
      if (navLink) {
        navLink.classList.add('active');
      }
      
      // Scroll to top of page
      window.scrollTo(0, 0);
      
      // Only generate a new question if we don't have one yet
      if (pageName === 'conjugator' && !currentVerb) {
        generateNewQuestion();
      }
      
      // Initialize vocabulary if not already initialized
      if (pageName === 'vocabulary' && filteredCardsVocab.length === 0) {
        initVocab();
      }
    }

    // ============ KANA AUDIO ============
    var kanaAudioMap = {
      // Vowels
      '„ÅÇ': 'audio/„ÅÇ.mp3', '„Ç¢': 'audio/„ÅÇ.mp3',
      '„ÅÑ': 'audio/„ÅÑ.mp3', '„Ç§': 'audio/„ÅÑ.mp3',
      '„ÅÜ': 'audio/„ÅÜ.mp3', '„Ç¶': 'audio/„ÅÜ.mp3',
      '„Åà': 'audio/„Åà.mp3', '„Ç®': 'audio/„Åà.mp3',
      '„Åä': 'audio/„Åä.mp3', '„Ç™': 'audio/„Åä.mp3',
      // K row
      '„Åã': 'audio/„Åã.mp3', '„Ç´': 'audio/„Åã.mp3',
      '„Åç': 'audio/„Åç.mp3', '„Ç≠': 'audio/„Åç.mp3',
      '„Åè': 'audio/„Åè.mp3', '„ÇØ': 'audio/„Åè.mp3',
      '„Åë': 'audio/„Åë.mp3', '„Ç±': 'audio/„Åë.mp3',
      '„Åì': 'audio/„Åì.mp3', '„Ç≥': 'audio/„Åì.mp3',
      // S row
      '„Åï': 'audio/„Åï.mp3', '„Çµ': 'audio/„Åï.mp3',
      '„Åó': 'audio/„Åó.mp3', '„Ç∑': 'audio/„Åó.mp3',
      '„Åô': 'audio/„Åô.mp3', '„Çπ': 'audio/„Åô.mp3',
      '„Åõ': 'audio/„Åõ.mp3', '„Çª': 'audio/„Åõ.mp3',
      '„Åù': 'audio/„Åù.mp3', '„ÇΩ': 'audio/„Åù.mp3',
      // T row
      '„Åü': 'audio/„Åü.mp3', '„Çø': 'audio/„Åü.mp3',
      '„Å°': 'audio/„Å°.mp3', '„ÉÅ': 'audio/„Å°.mp3',
      '„Å§': 'audio/„Å§.mp3', '„ÉÑ': 'audio/„Å§.mp3',
      '„Å¶': 'audio/„Å¶.mp3', '„ÉÜ': 'audio/„Å¶.mp3',
      '„Å®': 'audio/„Å®.mp3', '„Éà': 'audio/„Å®.mp3',
      // N row
      '„Å™': 'audio/„Å™.mp3', '„Éä': 'audio/„Å™.mp3',
      '„Å´': 'audio/„Å´.mp3', '„Éã': 'audio/„Å´.mp3',
      '„Å¨': 'audio/„Å¨.mp3', '„Éå': 'audio/„Å¨.mp3',
      '„Å≠': 'audio/„Å≠.mp3', '„Éç': 'audio/„Å≠.mp3',
      '„ÅÆ': 'audio/„ÅÆ.mp3', '„Éé': 'audio/„ÅÆ.mp3',
      // H row
      '„ÅØ': 'audio/„ÅØ.mp3', '„Éè': 'audio/„ÅØ.mp3',
      '„Å≤': 'audio/„Å≤.mp3', '„Éí': 'audio/„Å≤.mp3',
      '„Åµ': 'audio/„Åµ.mp3', '„Éï': 'audio/„Åµ.mp3',
      '„Å∏': 'audio/„Å∏.mp3', '„Éò': 'audio/„Å∏.mp3',
      '„Åª': 'audio/„Åª.mp3', '„Éõ': 'audio/„Åª.mp3',
      // M row
      '„Åæ': 'audio/„Åæ.mp3', '„Éû': 'audio/„Åæ.mp3',
      '„Åø': 'audio/„Åø.mp3', '„Éü': 'audio/„Åø.mp3',
      '„ÇÄ': 'audio/„ÇÄ.mp3', '„É†': 'audio/„ÇÄ.mp3',
      '„ÇÅ': 'audio/„ÇÅ.mp3', '„É°': 'audio/„ÇÅ.mp3',
      '„ÇÇ': 'audio/„ÇÇ.mp3', '„É¢': 'audio/„ÇÇ.mp3',
      // Y row
      '„ÇÑ': 'audio/„ÇÑ.mp3', '„É§': 'audio/„ÇÑ.mp3',
      '„ÇÜ': 'audio/„ÇÜ.mp3', '„É¶': 'audio/„ÇÜ.mp3',
      '„Çà': 'audio/„Çà.mp3', '„É®': 'audio/„Çà.mp3',
      // R row
      '„Çâ': 'audio/„Çâ.mp3', '„É©': 'audio/„Çâ.mp3',
      '„Çä': 'audio/„Çä.mp3', '„É™': 'audio/„Çä.mp3',
      '„Çã': 'audio/„Çã.mp3', '„É´': 'audio/„Çã.mp3',
      '„Çå': 'audio/„Çå.mp3', '„É¨': 'audio/„Çå.mp3',
      '„Çç': 'audio/„Çç.mp3', '„É≠': 'audio/„Çç.mp3',
      // W row + N
      '„Çè': 'audio/„Çè.mp3', '„ÉØ': 'audio/„Çè.mp3',
      '„Çí': 'audio/„Çí.mp3', '„É≤': 'audio/„Çí.mp3',
      '„Çì': 'audio/„Çì.mp3', '„É≥': 'audio/„Çì.mp3',
      // Dakuten - G
      '„Åå': 'audio/„Åå.mp3', '„Ç¨': 'audio/„Åå.mp3',
      '„Åé': 'audio/„Åé.mp3', '„ÇÆ': 'audio/„Åé.mp3',
      '„Åê': 'audio/„Åê.mp3', '„Ç∞': 'audio/„Åê.mp3',
      '„Åí': 'audio/„Åí.mp3', '„Ç≤': 'audio/„Åí.mp3',
      '„Åî': 'audio/„Åî.mp3', '„Ç¥': 'audio/„Åî.mp3',
      // Dakuten - Z
      '„Åñ': 'audio/„Åñ.mp3', '„Ç∂': 'audio/„Åñ.mp3',
      '„Åò': 'audio/„Åò.mp3', '„Ç∏': 'audio/„Åò.mp3',
      '„Åö': 'audio/„Åö.mp3', '„Ç∫': 'audio/„Åö.mp3',
      '„Åú': 'audio/„Åú.mp3', '„Çº': 'audio/„Åú.mp3',
      '„Åû': 'audio/„Åû.mp3', '„Çæ': 'audio/„Åû.mp3',
      // Dakuten - D
      '„Å†': 'audio/„Å†.mp3', '„ÉÄ': 'audio/„Å†.mp3',
      '„Å¢': 'audio/„Å¢.mp3', '„ÉÇ': 'audio/„Å¢.mp3',
      '„Å•': 'audio/„Å•.mp3', '„ÉÖ': 'audio/„Å•.mp3',
      '„Åß': 'audio/„Åß.mp3', '„Éá': 'audio/„Åß.mp3',
      '„Å©': 'audio/„Å©.mp3', '„Éâ': 'audio/„Å©.mp3',
      // Dakuten - B
      '„Å∞': 'audio/„Å∞.mp3', '„Éê': 'audio/„Å∞.mp3',
      '„Å≥': 'audio/„Å≥.mp3', '„Éì': 'audio/„Å≥.mp3',
      '„Å∂': 'audio/„Å∂.mp3', '„Éñ': 'audio/„Å∂.mp3',
      '„Åπ': 'audio/„Åπ.mp3', '„Éô': 'audio/„Åπ.mp3',
      '„Åº': 'audio/„Åº.mp3', '„Éú': 'audio/„Åº.mp3',
      // Handakuten - P
      '„Å±': 'audio/„Å±.mp3', '„Éë': 'audio/„Å±.mp3',
      '„Å¥': 'audio/„Å¥.mp3', '„Éî': 'audio/„Å¥.mp3',
      '„Å∑': 'audio/„Å∑.mp3', '„Éó': 'audio/„Å∑.mp3',
      '„Å∫': 'audio/„Å∫.mp3', '„Éö': 'audio/„Å∫.mp3',
      '„ÅΩ': 'audio/„ÅΩ.mp3', '„Éù': 'audio/„ÅΩ.mp3',
      // Combinations - K
      '„Åç„ÇÉ': 'audio/„Åç„ÇÉ.mp3', '„Ç≠„É£': 'audio/„Åç„ÇÉ.mp3',
      '„Åç„ÇÖ': 'audio/„Åç„ÇÖ.mp3', '„Ç≠„É•': 'audio/„Åç„ÇÖ.mp3',
      '„Åç„Çá': 'audio/„Åç„Çá.mp3', '„Ç≠„Éß': 'audio/„Åç„Çá.mp3',
      // Combinations - S
      '„Åó„ÇÉ': 'audio/„Åó„ÇÉ.mp3', '„Ç∑„É£': 'audio/„Åó„ÇÉ.mp3',
      '„Åó„ÇÖ': 'audio/„Åó„ÇÖ.mp3', '„Ç∑„É•': 'audio/„Åó„ÇÖ.mp3',
      '„Åó„Çá': 'audio/„Åó„Çá.mp3', '„Ç∑„Éß': 'audio/„Åó„Çá.mp3',
      // Combinations - C
      '„Å°„ÇÉ': 'audio/„Å°„ÇÉ.mp3', '„ÉÅ„É£': 'audio/„Å°„ÇÉ.mp3',
      '„Å°„ÇÖ': 'audio/„Å°„ÇÖ.mp3', '„ÉÅ„É•': 'audio/„Å°„ÇÖ.mp3',
      '„Å°„Çá': 'audio/„Å°„Çá.mp3', '„ÉÅ„Éß': 'audio/„Å°„Çá.mp3',
      // Combinations - N
      '„Å´„ÇÉ': 'audio/„Å´„ÇÉ.mp3', '„Éã„É£': 'audio/„Å´„ÇÉ.mp3',
      '„Å´„ÇÖ': 'audio/„Å´„ÇÖ.mp3', '„Éã„É•': 'audio/„Å´„ÇÖ.mp3',
      '„Å´„Çá': 'audio/„Å´„Çá.mp3', '„Éã„Éß': 'audio/„Å´„Çá.mp3',
      // Combinations - H
      '„Å≤„ÇÉ': 'audio/„Å≤„ÇÉ.mp3', '„Éí„É£': 'audio/„Å≤„ÇÉ.mp3',
      '„Å≤„ÇÖ': 'audio/„Å≤„ÇÖ.mp3', '„Éí„É•': 'audio/„Å≤„ÇÖ.mp3',
      '„Å≤„Çá': 'audio/„Å≤„Çá.mp3', '„Éí„Éß': 'audio/„Å≤„Çá.mp3',
      // Combinations - M
      '„Åø„ÇÉ': 'audio/„Åø„ÇÉ.mp3', '„Éü„É£': 'audio/„Åø„ÇÉ.mp3',
      '„Åø„ÇÖ': 'audio/„Åø„ÇÖ.mp3', '„Éü„É•': 'audio/„Åø„ÇÖ.mp3',
      '„Åø„Çá': 'audio/„Åø„Çá.mp3', '„Éü„Éß': 'audio/„Åø„Çá.mp3',
      // Combinations - R
      '„Çä„ÇÉ': 'audio/„Çä„ÇÉ.mp3', '„É™„É£': 'audio/„Çä„ÇÉ.mp3',
      '„Çä„ÇÖ': 'audio/„Çä„ÇÖ.mp3', '„É™„É•': 'audio/„Çä„ÇÖ.mp3',
      '„Çä„Çá': 'audio/„Çä„Çá.mp3', '„É™„Éß': 'audio/„Çä„Çá.mp3',
      // Combinations - G
      '„Åé„ÇÉ': 'audio/„Åé„ÇÉ.mp3', '„ÇÆ„É£': 'audio/„Åé„ÇÉ.mp3',
      '„Åé„ÇÖ': 'audio/„Åé„ÇÖ.mp3', '„ÇÆ„É•': 'audio/„Åé„ÇÖ.mp3',
      '„Åé„Çá': 'audio/„Åé„Çá.mp3', '„ÇÆ„Éß': 'audio/„Åé„Çá.mp3',
      // Combinations - J
      '„Åò„ÇÉ': 'audio/„Åò„ÇÉ.mp3', '„Ç∏„É£': 'audio/„Åò„ÇÉ.mp3',
      '„Åò„ÇÖ': 'audio/„Åò„ÇÖ.mp3', '„Ç∏„É•': 'audio/„Åò„ÇÖ.mp3',
      '„Åò„Çá': 'audio/„Åò„Çá.mp3', '„Ç∏„Éß': 'audio/„Åò„Çá.mp3',
      // Combinations - B
      '„Å≥„ÇÉ': 'audio/„Å≥„ÇÉ.mp3', '„Éì„É£': 'audio/„Å≥„ÇÉ.mp3',
      '„Å≥„ÇÖ': 'audio/„Å≥„ÇÖ.mp3', '„Éì„É•': 'audio/„Å≥„ÇÖ.mp3',
      '„Å≥„Çá': 'audio/„Å≥„Çá.mp3', '„Éì„Éß': 'audio/„Å≥„Çá.mp3',
      // Combinations - P
      '„Å¥„ÇÉ': 'audio/„Å¥„ÇÉ.mp3', '„Éî„É£': 'audio/„Å¥„ÇÉ.mp3',
      '„Å¥„ÇÖ': 'audio/„Å¥„ÇÖ.mp3', '„Éî„É•': 'audio/„Å¥„ÇÖ.mp3',
      '„Å¥„Çá': 'audio/„Å¥„Çá.mp3', '„Éî„Éß': 'audio/„Å¥„Çá.mp3'
    };
    var currentAudio = null;
    
    function playKanaAudio(kana) {
      var audioSrc = kanaAudioMap[kana];
      if (audioSrc) {
        if (currentAudio) {
          currentAudio.pause();
          currentAudio.currentTime = 0;
        }
        currentAudio = new Audio(audioSrc);
        currentAudio.play().catch(function(e) {
          console.log('Audio play failed:', e, 'for kana:', kana, 'src:', audioSrc);
        });
      } else {
        console.log('No audio mapping for:', kana);
      }
    }

    function showTab(tabName) {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelector('.tab[data-tab="' + tabName + '"]').classList.add('active');
      
      document.querySelectorAll('.form-card').forEach(c => c.classList.remove('active'));
      document.getElementById('tab-' + tabName).classList.add('active');
      
      // Scroll to top of page
      window.scrollTo(0, 0);
    }

    // ============ MISTAKE TRACKING SYSTEM ============
    let mistakeLog = [];
    const MIN_ATTEMPTS_FOR_REPORT = 3; // Need at least 3 attempts to show report

    function logMistake(verb, form, userAnswer, correctAnswer) {
      mistakeLog.push({
        timestamp: Date.now(),
        verbType: verb.type,
        verbKanji: verb.kanji,
        verbHiragana: verb.hiragana,
        verbMeaning: verb.meaning,
        form: form,
        userAnswer: userAnswer,
        correctAnswer: correctAnswer
      });

      // Enable report button after enough attempts
      updateReportButton();
    }

    function updateReportButton() {
      const reportBtn = document.getElementById('report-btn');
      // Always enable the report button
      reportBtn.disabled = false;
      reportBtn.style.opacity = '1';
      reportBtn.style.cursor = 'pointer';
      reportBtn.title = 'View your practice report and mistake patterns';
    }

    function isLikelyIntentionalFailure(userAnswer, correctAnswer) {
      // Check if answer seems intentionally wrong (skipping)
      if (!userAnswer || userAnswer.length === 0) return true;
      if (userAnswer.length === 1 && userAnswer !== correctAnswer.charAt(0)) return true;
      if (userAnswer === 'a' || userAnswer === 'aa' || userAnswer === 'aaa') return true;
      if (/^(.)\1+$/.test(userAnswer)) return true; // Repeated single character
      
      // If answer has no hiragana at all (just random letters)
      const hasHiragana = /[\u3040-\u309f]/.test(userAnswer);
      if (!hasHiragana && correctAnswer.length > 3) return true;
      
      // Very short answer for long correct answer
      if (userAnswer.length <= 2 && correctAnswer.length >= 5) return true;
      
      return false;
    }

    function explainMistake(mistake) {
      const userAns = mistake.userAnswer;
      const correctAns = mistake.correctAnswer;
      const verb = mistake.verbKanji;
      const hiragana = mistake.verbHiragana;
      const form = mistake.form;
      const type = mistake.verbType;

      // Helper functions for styled text
      const red = (text) => `<span style="color: #d32f2f; font-weight: 600;">${text}</span>`;
      const green = (text) => `<span style="color: #2e7d32; font-weight: 600;">${text}</span>`;
      const orange = (text) => `<span style="color: #f57c00; font-weight: 600;">${text}</span>`;

      // Handle verb type identification mistakes
      if (form === 'type-identification') {
        const correctType = correctAns.split(' ')[0];
        let explanation = '';
        
        if (correctType === 'godan') {
          explanation = `<strong>Why it's Godan:</strong> ${verb} ends in ${orange(hiragana.slice(-1))}, an „ÅÜ-row sound. Godan verbs shift through 5 vowel rows when conjugating.`;
        } else if (correctType === 'ichidan') {
          explanation = `<strong>Why it's Ichidan:</strong> ${verb} ends in ${orange(hiragana.slice(-2))} (-eru/-iru pattern). Just drop „Çã and add endings!`;
        } else if (correctType === 'suru') {
          explanation = `<strong>Why it's „Åô„Çã:</strong> ${verb} = noun + „Åô„Çã. The noun never changes, only „Åô„Çã conjugates.`;
        } else if (correctType === 'irregular') {
          explanation = `<strong>Why it's Irregular:</strong> Êù•„Çã doesn't follow standard patterns. Its stem changes: „Åè‚Üí„Åç‚Üí„Åì.`;
        }
        
        return `${explanation}<br><br>` +
          `<div style="background: #ffebee; padding: 0.75rem; border-left: 3px solid #c62828; border-radius: 4px;">` +
          `<strong>You wrote:</strong> ${red(userAns)}<br>` +
          `<strong>Correct:</strong> ${green(correctType)}</div>`;
      }

      // Check for skipped questions
      if (isLikelyIntentionalFailure(userAns, correctAns)) {
        return `<div style="background: #fff3e0; padding: 1rem; border-left: 3px solid #f57c00; border-radius: 4px;">` +
          `<strong>‚ö†Ô∏è Skipped Question</strong><br>Make your best guess ‚Äî wrong answers teach more than skipping!</div>`;
      }

      // Get conjugation data based on verb type
      const stem = hiragana.slice(0, -1);
      const lastChar = hiragana.slice(-1);
      
      // Godan vowel rows
      const uRow = ['„ÅÜ', '„Åè', '„Åê', '„Åô', '„Å§', '„Å¨', '„Å∂', '„ÇÄ', '„Çã'];
      const aRow = ['„Çè', '„Åã', '„Åå', '„Åï', '„Åü', '„Å™', '„Å∞', '„Åæ', '„Çâ'];
      const iRow = ['„ÅÑ', '„Åç', '„Åé', '„Åó', '„Å°', '„Å´', '„Å≥', '„Åø', '„Çä'];
      const eRow = ['„Åà', '„Åë', '„Åí', '„Åõ', '„Å¶', '„Å≠', '„Åπ', '„ÇÅ', '„Çå'];
      const oRow = ['„Åä', '„Åì', '„Åî', '„Åù', '„Å®', '„ÅÆ', '„Åº', '„ÇÇ', '„Çç'];
      const idx = uRow.indexOf(lastChar);

      let explanation = '';
      let error = '';
      let tip = '';

      // ========== GODAN VERBS ==========
      if (type === 'godan') {
        
        // Detect what the user likely did wrong
        const detectError = () => {
          // Check if they used a completely wrong form
          if (userAns.includes('„Åæ„Åô') && form !== 'masu' && form !== 'masen' && form !== 'mashita') {
            return `You made the „Åæ„Åô form, but this asked for a different form.`;
          }
          if (userAns.includes('„Å™„ÅÑ') && form !== 'negative' && form !== 'nakatta') {
            return `You made the negative form, but this asked for a different form.`;
          }
          if (userAns.includes('„Åü„ÅÑ') && form !== 'tai') {
            return `You made the „Åü„ÅÑ form, but this asked for a different form.`;
          }
          
          // Check vowel row errors for regular forms
          if (['negative', 'nakatta', 'passive', 'causative', 'causative-passive'].includes(form)) {
            if (userAns.includes(iRow[idx])) return `You used „ÅÑ-row (${iRow[idx]}), but this form needs „ÅÇ-row (${aRow[idx]}).`;
            if (userAns.includes(eRow[idx])) return `You used „Åà-row (${eRow[idx]}), but this form needs „ÅÇ-row (${aRow[idx]}).`;
            if (userAns.includes(oRow[idx])) return `You used „Åä-row (${oRow[idx]}), but this form needs „ÅÇ-row (${aRow[idx]}).`;
          }
          if (['masu', 'masen', 'mashita', 'tai'].includes(form)) {
            if (userAns.includes(aRow[idx])) return `You used „ÅÇ-row (${aRow[idx]}), but this form needs „ÅÑ-row (${iRow[idx]}).`;
            if (userAns.includes(eRow[idx])) return `You used „Åà-row (${eRow[idx]}), but this form needs „ÅÑ-row (${iRow[idx]}).`;
            if (userAns.includes(oRow[idx])) return `You used „Åä-row (${oRow[idx]}), but this form needs „ÅÑ-row (${iRow[idx]}).`;
          }
          if (['potential', 'ba', 'imperative'].includes(form)) {
            if (userAns.includes(aRow[idx])) return `You used „ÅÇ-row (${aRow[idx]}), but this form needs „Åà-row (${eRow[idx]}).`;
            if (userAns.includes(iRow[idx])) return `You used „ÅÑ-row (${iRow[idx]}), but this form needs „Åà-row (${eRow[idx]}).`;
            if (userAns.includes(oRow[idx])) return `You used „Åä-row (${oRow[idx]}), but this form needs „Åà-row (${eRow[idx]}).`;
          }
          if (form === 'volitional') {
            if (userAns.includes(aRow[idx])) return `You used „ÅÇ-row (${aRow[idx]}), but volitional needs „Åä-row (${oRow[idx]}).`;
            if (userAns.includes(iRow[idx])) return `You used „ÅÑ-row (${iRow[idx]}), but volitional needs „Åä-row (${oRow[idx]}).`;
            if (userAns.includes(eRow[idx])) return `You used „Åà-row (${eRow[idx]}), but volitional needs „Åä-row (${oRow[idx]}).`;
          }
          
          // Check for missing endings
          if (form === 'negative' && !userAns.includes('„Å™„ÅÑ')) return `Missing „Å™„ÅÑ ending.`;
          if (form === 'masu' && !userAns.includes('„Åæ„Åô')) return `Missing „Åæ„Åô ending.`;
          if (form === 'tai' && !userAns.includes('„Åü„ÅÑ')) return `Missing „Åü„ÅÑ ending.`;
          if (form === 'potential' && !userAns.endsWith('„Çã')) return `Potential form must end with „Çã.`;
          if (form === 'volitional' && !userAns.endsWith('„ÅÜ')) return `Volitional form must end with „ÅÜ.`;
          
          return `Check the conjugation pattern carefully.`;
        };

        // Build explanation based on form
        if (form === 'negative') {
          explanation = `<strong>Rule:</strong> ${lastChar} ‚Üí ${orange(aRow[idx])} + „Å™„ÅÑ`;
          tip = `Negative always uses „ÅÇ-row!`;
        } else if (form === 'masu') {
          explanation = `<strong>Rule:</strong> ${lastChar} ‚Üí ${orange(iRow[idx])} + „Åæ„Åô`;
          tip = `„Åæ„Åô, „Åæ„Åõ„Çì, „Åæ„Åó„Åü, „Åü„ÅÑ all use the „Åæ„Åô-stem („ÅÑ-row)!`;
        } else if (form === 'past' || form === 'te') {
          const patterns = {
            '„Åè': form === 'past' ? '„ÅÑ„Åü' : '„ÅÑ„Å¶',
            '„Åê': form === 'past' ? '„ÅÑ„Å†' : '„ÅÑ„Åß',
            '„Åô': form === 'past' ? '„Åó„Åü' : '„Åó„Å¶',
            '„Å§': form === 'past' ? '„Å£„Åü' : '„Å£„Å¶',
            '„Çã': form === 'past' ? '„Å£„Åü' : '„Å£„Å¶',
            '„ÅÜ': form === 'past' ? '„Å£„Åü' : '„Å£„Å¶',
            '„ÇÄ': form === 'past' ? '„Çì„Å†' : '„Çì„Åß',
            '„Å∂': form === 'past' ? '„Çì„Å†' : '„Çì„Åß',
            '„Å¨': form === 'past' ? '„Çì„Å†' : '„Çì„Åß'
          };
          explanation = `<strong>Rule:</strong> ${lastChar}-verbs ‚Üí ${orange(patterns[lastChar])}`;
          tip = form === 'te' ? `„Å¶ form uses same changes as past, but „Å¶/„Åß instead of „Åü/„Å†.` : `Group by ending: „Åè‚Üí„ÅÑ„Åü, „Åô‚Üí„Åó„Åü, „ÇÄ/„Å∂/„Å¨‚Üí„Çì„Å†, „Å§/„Çã/„ÅÜ‚Üí„Å£„Åü`;
        } else if (form === 'tai') {
          explanation = `<strong>Rule:</strong> ${lastChar} ‚Üí ${orange(iRow[idx])} + „Åü„ÅÑ (same stem as „Åæ„Åô)`;
          tip = `If you know „Åæ„Åô form, just swap „Åæ„Åô for „Åü„ÅÑ!`;
        } else if (form === 'potential') {
          explanation = `<strong>Rule:</strong> ${lastChar} ‚Üí ${orange(eRow[idx])} + „Çã`;
          tip = `Potential = „Åà-row + „Çã. Don't confuse with volitional („Åä-row + „ÅÜ)!`;
        } else if (form === 'volitional') {
          explanation = `<strong>Rule:</strong> ${lastChar} ‚Üí ${orange(oRow[idx])} + „ÅÜ`;
          tip = `Volitional = „Åä-row + „ÅÜ. "Let's do it!"`;
        } else if (form === 'masen') {
          explanation = `<strong>Rule:</strong> ${lastChar} ‚Üí ${orange(iRow[idx])} + „Åæ„Åõ„Çì`;
          tip = `Same stem as „Åæ„Åô, different ending!`;
        } else if (form === 'mashita') {
          explanation = `<strong>Rule:</strong> ${lastChar} ‚Üí ${orange(iRow[idx])} + „Åæ„Åó„Åü`;
          tip = `Same stem as „Åæ„Åô, different ending!`;
        } else if (form === 'nakatta') {
          explanation = `<strong>Rule:</strong> ${lastChar} ‚Üí ${orange(aRow[idx])} + „Å™„Åã„Å£„Åü`;
          tip = `Think: negative („Å™„ÅÑ) ‚Üí past of „Å™„ÅÑ = „Å™„Åã„Å£„Åü`;
        } else if (form === 'ba') {
          explanation = `<strong>Rule:</strong> ${lastChar} ‚Üí ${orange(eRow[idx])} + „Å∞`;
          tip = `„Å∞ conditional: "if you [verb]..."`;
        } else if (form === 'tara') {
          const pastEnd = {'„Åè':'„ÅÑ„Åü','„Åê':'„ÅÑ„Å†','„Åô':'„Åó„Åü','„Å§':'„Å£„Åü','„Çã':'„Å£„Åü','„ÅÜ':'„Å£„Åü','„ÇÄ':'„Çì„Å†','„Å∂':'„Çì„Å†','„Å¨':'„Çì„Å†'}[lastChar];
          explanation = `<strong>Rule:</strong> Past form (${stem}${pastEnd}) + „Çâ`;
          tip = `„Åü„Çâ = past tense + „Çâ. Easy if you know past form!`;
        } else if (form === 'passive') {
          explanation = `<strong>Rule:</strong> ${lastChar} ‚Üí ${orange(aRow[idx])} + „Çå„Çã`;
          tip = `Passive and causative both use „ÅÇ-row!`;
        } else if (form === 'causative') {
          explanation = `<strong>Rule:</strong> ${lastChar} ‚Üí ${orange(aRow[idx])} + „Åõ„Çã`;
          tip = `"Make/let someone do" = „ÅÇ-row + „Åõ„Çã`;
        } else if (form === 'causative-passive') {
          explanation = `<strong>Rule:</strong> ${lastChar} ‚Üí ${orange(aRow[idx])} + „Åõ„Çâ„Çå„Çã`;
          tip = `"Be made to do" = causative + passive combined`;
        } else if (form === 'imperative') {
          explanation = `<strong>Rule:</strong> ${lastChar} ‚Üí ${orange(eRow[idx])} (no extra ending)`;
          tip = `Just shift to „Åà-row. Short and commanding!`;
        }

        error = detectError();

      // ========== ICHIDAN VERBS ==========
      } else if (type === 'ichidan') {
        const endings = {
          'negative': '„Å™„ÅÑ', 'masu': '„Åæ„Åô', 'past': '„Åü', 'te': '„Å¶',
          'tai': '„Åü„ÅÑ', 'potential': '„Çâ„Çå„Çã', 'volitional': '„Çà„ÅÜ',
          'masen': '„Åæ„Åõ„Çì', 'mashita': '„Åæ„Åó„Åü', 'nakatta': '„Å™„Åã„Å£„Åü',
          'ba': '„Çå„Å∞', 'tara': '„Åü„Çâ', 'passive': '„Çâ„Çå„Çã',
          'causative': '„Åï„Åõ„Çã', 'causative-passive': '„Åï„Åõ„Çâ„Çå„Çã', 'imperative': '„Çç'
        };

        explanation = `<strong>Ichidan Rule:</strong> Drop „Çã ‚Üí ${orange(stem)} + ${orange(endings[form])}`;
        
        if (userAns.startsWith(hiragana)) {
          error = `You forgot to drop the „Çã! Ichidan verbs remove „Çã before adding endings.`;
        } else if (!userAns.startsWith(stem)) {
          error = `Wrong stem. Keep ${orange(stem)}, don't change it.`;
        } else {
          error = `Stem is correct, but ending should be ${orange(endings[form])}.`;
        }
        
        tip = `Ichidan is easy: stem never changes, just swap endings!`;

      // ========== SURU VERBS ==========
      } else if (type === 'suru') {
        const suruEndings = {
          'negative': '„Åó„Å™„ÅÑ', 'masu': '„Åó„Åæ„Åô', 'past': '„Åó„Åü', 'te': '„Åó„Å¶',
          'tai': '„Åó„Åü„ÅÑ', 'potential': '„Åß„Åç„Çã', 'volitional': '„Åó„Çà„ÅÜ',
          'masen': '„Åó„Åæ„Åõ„Çì', 'mashita': '„Åó„Åæ„Åó„Åü', 'nakatta': '„Åó„Å™„Åã„Å£„Åü',
          'ba': '„Åô„Çå„Å∞', 'tara': '„Åó„Åü„Çâ', 'passive': '„Åï„Çå„Çã',
          'causative': '„Åï„Åõ„Çã', 'causative-passive': '„Åï„Åõ„Çâ„Çå„Çã', 'imperative': '„Åó„Çç'
        };
        
        const nounPart = hiragana.replace('„Åô„Çã', '');
        explanation = `<strong>„Åô„Çã Rule:</strong> ${orange(nounPart)} (unchanged) + ${orange(suruEndings[form])}`;
        
        if (!userAns.startsWith(nounPart)) {
          error = `Don't change the noun part! Keep ${orange(nounPart)} exactly as is.`;
        } else {
          error = `Noun is correct, but „Åô„Çã ‚Üí ${orange(suruEndings[form])} for this form.`;
        }
        
        if (form === 'potential') {
          tip = `Special: „Åô„Çã potential = „Åß„Åç„Çã (not *„Åõ„Çã)`;
        } else {
          tip = `The noun never changes ‚Äî only „Åô„Çã conjugates!`;
        }

      // ========== IRREGULAR (Êù•„Çã) ==========
      } else if (type === 'irregular') {
        const kuruForms = {
          'negative': '„Åì„Å™„ÅÑ', 'masu': '„Åç„Åæ„Åô', 'past': '„Åç„Åü', 'te': '„Åç„Å¶',
          'tai': '„Åç„Åü„ÅÑ', 'potential': '„Åì„Çâ„Çå„Çã', 'volitional': '„Åì„Çà„ÅÜ',
          'masen': '„Åç„Åæ„Åõ„Çì', 'mashita': '„Åç„Åæ„Åó„Åü', 'nakatta': '„Åì„Å™„Åã„Å£„Åü',
          'ba': '„Åè„Çå„Å∞', 'tara': '„Åç„Åü„Çâ', 'passive': '„Åì„Çâ„Çå„Çã',
          'causative': '„Åì„Åï„Åõ„Çã', 'causative-passive': '„Åì„Åï„Åõ„Çâ„Çå„Çã', 'imperative': '„Åì„ÅÑ'
        };
        
        const stemUsed = kuruForms[form] ? kuruForms[form].charAt(0) : '„Åè';
        explanation = `<strong>Êù•„Çã (irregular):</strong> Stem changes to ${orange(stemUsed)} for this form`;
        error = `Êù•„Çã uses different stems: „Åç (masu/past/te), „Åì (negative/potential), „Åè (conditional).`;
        tip = `Êù•„Çã must be memorized ‚Äî it's one of only two truly irregular verbs!`;
      }

      // Build final output
      return `${explanation}<br><br>` +
        `<div style="background: #fff8e1; padding: 0.75rem; border-left: 3px solid #f57c00; border-radius: 4px; margin-bottom: 0.75rem;">` +
        `<strong>‚ùå Error:</strong> ${error}</div>` +
        `<div style="background: #ffebee; padding: 0.75rem; border-left: 3px solid #c62828; border-radius: 4px; margin-bottom: 0.75rem;">` +
        `<strong>You wrote:</strong> ${red(userAns || '(empty)')}<br>` +
        `<strong>Correct:</strong> ${green(correctAns)}</div>` +
        `<div style="background: #e3f2fd; padding: 0.75rem; border-left: 3px solid #1976d2; border-radius: 4px;">` +
        `<strong>üí° Tip:</strong> ${tip}</div>`;
    }


    function calculateSimilarity(str1, str2) {
      if (str1 === str2) return 1.0;
      const longer = str1.length > str2.length ? str1 : str2;
      const shorter = str1.length > str2.length ? str2 : str1;
      if (longer.length === 0) return 1.0;
      
      let matches = 0;
      for (let i = 0; i < shorter.length; i++) {
        if (shorter[i] === longer[i]) matches++;
      }
      return matches / longer.length;
    }

    function isRomaji(text) {
      // Check if text is primarily Latin alphabet (romaji)
      // Returns true if the text contains mostly Latin characters
      if (!text || text.length === 0) return false;
      
      // Check if it contains any hiragana, katakana, or kanji
      const hasJapanese = /[\u3040-\u309f\u30a0-\u30ff\u4e00-\u9faf]/.test(text);
      
      // Check if it contains Latin alphabet
      const hasLatin = /[a-zA-Z]/.test(text);
      
      // If it has Latin but no Japanese, it's romaji
      return hasLatin && !hasJapanese;
    }

    function analyzeMistakes() {
      const totalAttempts = parseInt(document.getElementById('score-total').textContent);
      const mistakeCount = mistakeLog.length;
      const accuracyRate = totalAttempts > 0 ? ((totalAttempts - mistakeCount) / totalAttempts * 100).toFixed(1) : 0;

      // Analyze by verb type
      const verbTypeErrors = {};
      mistakeLog.forEach(mistake => {
        verbTypeErrors[mistake.verbType] = (verbTypeErrors[mistake.verbType] || 0) + 1;
      });

      // Analyze by form
      const formErrors = {};
      mistakeLog.forEach(mistake => {
        formErrors[mistake.form] = (formErrors[mistake.form] || 0) + 1;
      });

      // Find most problematic verbs
      const verbErrors = {};
      mistakeLog.forEach(mistake => {
        const key = mistake.verbKanji;
        verbErrors[key] = verbErrors[key] || { count: 0, verb: mistake };
        verbErrors[key].count++;
      });

      const topProblematicVerbs = Object.values(verbErrors)
        .sort((a, b) => b.count - a.count)
        .slice(0, 5);

      return {
        totalAttempts,
        mistakeCount,
        accuracyRate,
        verbTypeErrors,
        formErrors,
        topProblematicVerbs
      };
    }

    function generateAdvice(analysis) {
      const advice = [];

      // ========== ACCURACY-BASED FEEDBACK ==========
      if (analysis.totalAttempts >= 5) {
        if (analysis.accuracyRate < 40) {
          advice.push({
            title: "üå± Take It Slow ‚Äî You're Just Getting Started",
            text: "Your accuracy suggests you're still learning the basics, and that's completely okay! Here's what to do: (1) Switch to 'Random (Basic)' mode to focus only on negative, „Åæ„Åô, past, and „Å¶ forms. (2) Before answering, use the hint button to see the rule. (3) Don't rush ‚Äî take time to understand each pattern before moving on. Consider reviewing the 'Learn' section to build a stronger foundation.",
            priority: 1
          });
        } else if (analysis.accuracyRate < 60) {
          advice.push({
            title: "üìö Building Your Foundation",
            text: "You're making progress! To improve further: (1) Focus on one form at a time using the dropdown instead of random mode. (2) When you get something wrong, really study the explanation before moving on. (3) Practice in shorter, more frequent sessions ‚Äî 10 minutes daily beats one long session weekly. You're on the right track!",
            priority: 2
          });
        } else if (analysis.accuracyRate < 80) {
          advice.push({
            title: "üìà Good Progress ‚Äî Keep Pushing",
            text: "You're developing solid skills! To reach the next level: (1) Try 'Random (Intermediate)' mode to add more variety. (2) Challenge yourself by trying to answer before looking at hints. (3) Pay attention to the patterns in your mistakes below ‚Äî there may be specific rules you need to review.",
            priority: 3
          });
        } else if (analysis.accuracyRate < 95) {
          advice.push({
            title: "‚≠ê Strong Performance!",
            text: "You're doing really well! To achieve mastery: (1) Try 'Random (Advanced)' mode for passive, causative, and conditionals. (2) Work on speed ‚Äî can you answer correctly without hesitation? (3) Look at your remaining mistakes below to eliminate any lingering weak spots.",
            priority: 4
          });
        } else {
          advice.push({
            title: "üèÜ Excellent Mastery!",
            text: "Outstanding work! You've achieved near-perfect accuracy. Consider: (1) Trying harder JLPT levels if you haven't already. (2) Practicing without hints to build automatic recall. (3) Moving on to reading practice where you'll see these forms in context.",
            priority: 5
          });
        }
      }

      // ========== VERB TYPE ADVICE ==========
      const totalTypeErrors = Object.values(analysis.verbTypeErrors).reduce((a, b) => a + b, 0);
      
      if (analysis.verbTypeErrors.godan > (totalTypeErrors * 0.5) && totalTypeErrors >= 3) {
        advice.push({
          title: "üî¥ Focus Area: Godan Verbs",
          text: "Most of your mistakes are with Godan (‰∫îÊÆµ) verbs. The key concept: Godan verbs change their final sound based on a vowel row pattern. For example, Êõ∏„Åè uses different stems: Êõ∏„Åã („ÅÇ-row for negative), Êõ∏„Åç („ÅÑ-row for „Åæ„Åô), Êõ∏„Åë („Åà-row for potential). Try this: pick ONE Godan verb like Êõ∏„Åè and conjugate it into every form until the pattern clicks.",
          priority: 6
        });
      }

      if (analysis.verbTypeErrors.ichidan > (totalTypeErrors * 0.5) && totalTypeErrors >= 3) {
        advice.push({
          title: "üü¢ Focus Area: Ichidan Verbs",
          text: "You're struggling with Ichidan (‰∏ÄÊÆµ) verbs, but these are actually the easiest! The rule is simple: drop „Çã, add the ending. That's it ‚Äî no stem changes. For È£ü„Åπ„Çã: È£ü„Åπ + „Å™„ÅÑ = È£ü„Åπ„Å™„ÅÑ, È£ü„Åπ + „Åæ„Åô = È£ü„Åπ„Åæ„Åô. If you're making mistakes, you might be: (1) Forgetting to drop the „Çã, or (2) Confusing Ichidan with Godan verbs that end in „Çã (like Â∏∞„Çã).",
          priority: 6
        });
      }

      if (analysis.verbTypeErrors.suru > (totalTypeErrors * 0.5) && totalTypeErrors >= 3) {
        advice.push({
          title: "üîµ Focus Area: Suru Verbs",
          text: "„Åô„Çã verbs are giving you trouble. Remember: the noun part (ÂãâÂº∑, ÈÅãÂãï, etc.) NEVER changes ‚Äî only „Åô„Çã conjugates. Memorize the „Åô„Çã patterns: „Åó„Å™„ÅÑ, „Åó„Åæ„Åô, „Åó„Åü, „Åó„Å¶, etc. One exception: potential form uses „Åß„Åç„Çã, not „Åõ„Çã. Practice with ÂãâÂº∑„Åô„Çã through all forms to build the pattern.",
          priority: 6
        });
      }

      // ========== FORM-SPECIFIC ADVICE (all 16 forms) ==========
      const formAdvice = {
        'negative': {
          title: "Negative Form („Å™„ÅÑ) ‚Äî Review Needed",
          text: "Negative form rules: Godan ‚Üí change to „ÅÇ-row + „Å™„ÅÑ (Êõ∏„Åè‚ÜíÊõ∏„Åã„Å™„ÅÑ). Ichidan ‚Üí drop „Çã + „Å™„ÅÑ (È£ü„Åπ„Çã‚ÜíÈ£ü„Åπ„Å™„ÅÑ). „Åô„Çã‚Üí„Åó„Å™„ÅÑ. The most common mistake is using the wrong vowel row for Godan verbs. Remember: „ÅÇ-row means „ÅÇ, „Åã, „Åï, „Åü, „Å™, „ÅØ, „Åæ, „Çâ, „Çè.",
          forms: ['negative']
        },
        'masu': {
          title: "„Åæ„Åô Form (Polite) ‚Äî Review Needed",
          text: "„Åæ„Åô form: Godan ‚Üí change to „ÅÑ-row („Åæ„Åô-stem) + „Åæ„Åô (Êõ∏„Åè‚ÜíÊõ∏„Åç„Åæ„Åô). Ichidan ‚Üí drop „Çã + „Åæ„Åô (È£ü„Åπ„Çã‚ÜíÈ£ü„Åπ„Åæ„Åô). „Åô„Çã‚Üí„Åó„Åæ„Åô. The „Åæ„Åô-stem („ÅÑ-row) is also used for „Åæ„Åõ„Çì, „Åæ„Åó„Åü, „Åü„ÅÑ, „Å™„Åå„Çâ, and compound verbs ‚Äî mastering this stem unlocks many forms!",
          forms: ['masu', 'masen', 'mashita', 'tai']
        },
        'past': {
          title: "Past Form („Åü) ‚Äî Review Needed",
          text: "Past form has special sound changes for Godan verbs that must be memorized: „Åè‚Üí„ÅÑ„Åü, „Åê‚Üí„ÅÑ„Å†, „Åô‚Üí„Åó„Åü, „Å§/„Çã/„ÅÜ‚Üí„Å£„Åü, „ÇÄ/„Å∂/„Å¨‚Üí„Çì„Å†. Ichidan is simple: drop „Çã + „Åü (È£ü„Åπ„Åü). Group these by pattern: the '„Å£„Åü' group („Å§/„Çã/„ÅÜ), the '„Çì„Å†' group („ÇÄ/„Å∂/„Å¨).",
          forms: ['past']
        },
        'te': {
          title: "Te-form („Å¶) ‚Äî Review Needed",
          text: "Te-form uses the SAME sound changes as past tense, but with „Å¶/„Åß instead of „Åü/„Å†. If you know past form, you know te-form! „Åè‚Üí„ÅÑ„Å¶, „Åê‚Üí„ÅÑ„Åß, „Åô‚Üí„Åó„Å¶, „Å§/„Çã/„ÅÜ‚Üí„Å£„Å¶, „ÇÄ/„Å∂/„Å¨‚Üí„Çì„Åß. Practice them together to reinforce the pattern.",
          forms: ['te']
        },
        'tai': {
          title: "Want Form („Åü„ÅÑ) ‚Äî Review Needed",
          text: "The „Åü„ÅÑ form uses the „Åæ„Åô-stem! Godan ‚Üí „ÅÑ-row + „Åü„ÅÑ (Êõ∏„Åè‚ÜíÊõ∏„Åç„Åü„ÅÑ). Ichidan ‚Üí drop „Çã + „Åü„ÅÑ (È£ü„Åπ„Çã‚ÜíÈ£ü„Åπ„Åü„ÅÑ). „Åô„Çã‚Üí„Åó„Åü„ÅÑ. If you can make the „Åæ„Åô form, just swap „Åæ„Åô for „Åü„ÅÑ.",
          forms: ['tai']
        },
        'potential': {
          title: "Potential Form ‚Äî Review Needed",
          text: "Potential ('can do'): Godan ‚Üí change to „Åà-row + „Çã (Êõ∏„Åè‚ÜíÊõ∏„Åë„Çã). Ichidan ‚Üí drop „Çã + „Çâ„Çå„Çã (È£ü„Åπ„Çã‚ÜíÈ£ü„Åπ„Çâ„Çå„Çã). „Åô„Çã‚Üí„Åß„Åç„Çã (special!). Common mistake: confusing „Åà-row (potential) with „Åä-row (volitional). Remember: 'E for Enabled/Can do'.",
          forms: ['potential']
        },
        'volitional': {
          title: "Volitional Form ‚Äî Review Needed",
          text: "Volitional ('let's do'): Godan ‚Üí change to „Åä-row + „ÅÜ (Êõ∏„Åè‚ÜíÊõ∏„Åì„ÅÜ). Ichidan ‚Üí drop „Çã + „Çà„ÅÜ (È£ü„Åπ„Çã‚ÜíÈ£ü„Åπ„Çà„ÅÜ). „Åô„Çã‚Üí„Åó„Çà„ÅÜ. Remember: „Åä-row PLUS „ÅÜ for Godan. This form expresses intention or suggestion.",
          forms: ['volitional']
        },
        'masen': {
          title: "Polite Negative („Åæ„Åõ„Çì) ‚Äî Review Needed",
          text: "„Åæ„Åõ„Çì uses the „Åæ„Åô-stem („ÅÑ-row). Godan: Êõ∏„Åè‚ÜíÊõ∏„Åç„Åæ„Åõ„Çì. Ichidan: È£ü„Åπ„Çã‚ÜíÈ£ü„Åπ„Åæ„Åõ„Çì. „Åô„Çã‚Üí„Åó„Åæ„Åõ„Çì. Same stem as „Åæ„Åô, „Åæ„Åó„Åü, and „Åü„ÅÑ!",
          forms: ['masen']
        },
        'mashita': {
          title: "Polite Past („Åæ„Åó„Åü) ‚Äî Review Needed",
          text: "„Åæ„Åó„Åü uses the „Åæ„Åô-stem („ÅÑ-row). Godan: Êõ∏„Åè‚ÜíÊõ∏„Åç„Åæ„Åó„Åü. Ichidan: È£ü„Åπ„Çã‚ÜíÈ£ü„Åπ„Åæ„Åó„Åü. „Åô„Çã‚Üí„Åó„Åæ„Åó„Åü. Same stem as „Åæ„Åô, „Åæ„Åõ„Çì, and „Åü„ÅÑ!",
          forms: ['mashita']
        },
        'nakatta': {
          title: "Negative Past („Å™„Åã„Å£„Åü) ‚Äî Review Needed",
          text: "„Å™„Åã„Å£„Åü is the past tense of „Å™„ÅÑ. Use the same stem as negative form („ÅÇ-row for Godan), then add „Å™„Åã„Å£„Åü. Êõ∏„Åè‚ÜíÊõ∏„Åã„Å™„Åã„Å£„Åü. È£ü„Åπ„Çã‚ÜíÈ£ü„Åπ„Å™„Åã„Å£„Åü. Think: 'negative stem + past of „Å™„ÅÑ'.",
          forms: ['nakatta']
        },
        'ba': {
          title: "Conditional „Å∞ Form ‚Äî Review Needed",
          text: "The „Å∞ conditional ('if'): Godan ‚Üí change to „Åà-row + „Å∞ (Êõ∏„Åè‚ÜíÊõ∏„Åë„Å∞). Ichidan ‚Üí drop „Çã + „Çå„Å∞ (È£ü„Åπ„Çã‚ÜíÈ£ü„Åπ„Çå„Å∞). „Åô„Çã‚Üí„Åô„Çå„Å∞. Same „Åà-row as potential for Godan verbs!",
          forms: ['ba']
        },
        'tara': {
          title: "Conditional „Åü„Çâ Form ‚Äî Review Needed",
          text: "The „Åü„Çâ conditional: take the past form and add „Çâ. Êõ∏„ÅÑ„Åü‚ÜíÊõ∏„ÅÑ„Åü„Çâ, È£ü„Åπ„Åü‚ÜíÈ£ü„Åπ„Åü„Çâ, „Åó„Åü‚Üí„Åó„Åü„Çâ. If you know past form, this is easy ‚Äî just add „Çâ!",
          forms: ['tara']
        },
        'passive': {
          title: "Passive Form ‚Äî Review Needed",
          text: "Passive ('be done to'): Godan ‚Üí change to „ÅÇ-row + „Çå„Çã (Êõ∏„Åè‚ÜíÊõ∏„Åã„Çå„Çã). Ichidan ‚Üí drop „Çã + „Çâ„Çå„Çã (È£ü„Åπ„Çã‚ÜíÈ£ü„Åπ„Çâ„Çå„Çã). „Åô„Çã‚Üí„Åï„Çå„Çã. Same „ÅÇ-row as negative, but with „Çå„Çã instead of „Å™„ÅÑ.",
          forms: ['passive']
        },
        'causative': {
          title: "Causative Form ‚Äî Review Needed",
          text: "Causative ('make/let do'): Godan ‚Üí change to „ÅÇ-row + „Åõ„Çã (Êõ∏„Åè‚ÜíÊõ∏„Åã„Åõ„Çã). Ichidan ‚Üí drop „Çã + „Åï„Åõ„Çã (È£ü„Åπ„Çã‚ÜíÈ£ü„Åπ„Åï„Åõ„Çã). „Åô„Çã‚Üí„Åï„Åõ„Çã. Same „ÅÇ-row as passive, but with „Åõ„Çã.",
          forms: ['causative']
        },
        'causative-passive': {
          title: "Causative-Passive Form ‚Äî Review Needed",
          text: "Causative-passive ('be made to do'): combines both forms. Godan ‚Üí „ÅÇ-row + „Åõ„Çâ„Çå„Çã (Êõ∏„Åè‚ÜíÊõ∏„Åã„Åõ„Çâ„Çå„Çã). Ichidan ‚Üí drop „Çã + „Åï„Åõ„Çâ„Çå„Çã. „Åô„Çã‚Üí„Åï„Åõ„Çâ„Çå„Çã. This is the longest form ‚Äî take it step by step.",
          forms: ['causative-passive']
        },
        'imperative': {
          title: "Imperative Form ‚Äî Review Needed",
          text: "Imperative (command): Godan ‚Üí change to „Åà-row only, no ending (Êõ∏„Åè‚ÜíÊõ∏„Åë). Ichidan ‚Üí drop „Çã + „Çç (È£ü„Åπ„Çã‚ÜíÈ£ü„Åπ„Çç). „Åô„Çã‚Üí„Åó„Çç. This is the shortest form ‚Äî just the „Åà-row for Godan!",
          forms: ['imperative']
        },
        'type-identification': {
          title: "Verb Type Identification ‚Äî Review Needed",
          text: "Identifying verb types is crucial! Godan: ends in „ÅÜ-row sound („Åè, „Åô, „ÇÄ, etc.) ‚Äî EXCEPT „Çã verbs need checking. Ichidan: ends in „Çã preceded by „ÅÑ or „Åà sound (È£ü„Åπ„Çã, Ë¶ã„Çã). Suru: noun + „Åô„Çã. Tricky ones: Â∏∞„Çã, Ëµ∞„Çã, Âàá„Çã look like Ichidan but are Godan! When unsure, check if the vowel before „Çã is „ÅÑ or „Åà.",
          forms: ['type-identification']
        }
      };

      // Find most problematic forms and add specific advice
      const sortedForms = Object.entries(analysis.formErrors).sort((a, b) => b[1] - a[1]);
      const addedFormAdvice = new Set();
      
      sortedForms.slice(0, 3).forEach(([form, count]) => {
        if (count >= 2 && formAdvice[form] && !addedFormAdvice.has(form)) {
          advice.push({
            title: formAdvice[form].title,
            text: formAdvice[form].text,
            priority: 7
          });
          addedFormAdvice.add(form);
        }
      });

      // ========== DETECT COMMON ERROR PATTERNS ==========
      // Check if user consistently uses wrong vowel row
      let wrongRowCount = 0;
      mistakeLog.forEach(m => {
        if (m.verbType === 'godan' && m.userAnswer) {
          // Simple heuristic: check if they're using „ÅÑ-row when they should use „ÅÇ-row, etc.
          const shouldUseA = ['negative', 'nakatta', 'passive', 'causative', 'causative-passive'].includes(m.form);
          const shouldUseI = ['masu', 'masen', 'mashita', 'tai'].includes(m.form);
          const shouldUseE = ['potential', 'ba', 'imperative'].includes(m.form);
          // This is a simplified check
          if (shouldUseA || shouldUseI || shouldUseE) wrongRowCount++;
        }
      });

      if (wrongRowCount >= 5) {
        advice.push({
          title: "üìä Pattern Detected: Vowel Row Confusion",
          text: "You may be mixing up which vowel row to use for Godan verbs. Here's a quick reference: „ÅÇ-row (negative, passive, causative), „ÅÑ-row/„Åæ„Åô-stem („Åæ„Åô, „Åæ„Åõ„Çì, „Åæ„Åó„Åü, „Åü„ÅÑ, „Å™„Åå„Çâ), „Åà-row (potential, „Å∞ conditional, imperative), „Åä-row (volitional). Try writing these groupings down and refer to them while practicing!",
          priority: 5
        });
      }

      // ========== SPECIFIC PROBLEMATIC VERB ADVICE ==========
      if (analysis.topProblematicVerbs.length > 0) {
        const topVerb = analysis.topProblematicVerbs[0];
        if (topVerb.count >= 3) {
          advice.push({
            title: `üéØ Focus Verb: ${topVerb.verb.verbKanji}`,
            text: `You've made ${topVerb.count} mistakes with ${topVerb.verb.verbKanji} (${topVerb.verb.verbHiragana}). Try this: conjugate this specific verb through ALL forms in one practice session. Write them down: negative, „Åæ„Åô, past, „Å¶, potential, volitional. Repetition with one verb builds the pattern faster than jumping between many verbs.`,
            priority: 8
          });
        }
      }

      // ========== CHECK FOR SKIPPING ==========
      const intentionalFailures = mistakeLog.filter(m => 
        isLikelyIntentionalFailure(m.userAnswer, m.correctAnswer)
      ).length;
      
      if (intentionalFailures >= 3) {
        advice.unshift({
          title: "‚ö†Ô∏è Try Using Hints Instead of Skipping",
          text: `We noticed ${intentionalFailures} questions where you may have given up quickly. That's okay ‚Äî everyone gets stuck! But instead of submitting a random answer, try: (1) Click 'Show Hint' to see the exact rule, (2) Use the 'Skip' button to see the answer without penalty, (3) Make your best guess ‚Äî even wrong attempts help you learn. Each real attempt builds neural pathways that skipping doesn't!`,
          priority: 0
        });
      }

      // Sort by priority
      advice.sort((a, b) => (a.priority || 99) - (b.priority || 99));

      return advice;
    }

    function showMistakeReport() {
      const analysis = analyzeMistakes();
      const advice = generateAdvice(analysis);
      
      // Define formNames at the top so it's available throughout
      const formNames = {
        negative: 'Negative („Å™„ÅÑ)',
        masu: 'Polite („Åæ„Åô)',
        past: 'Past („Åü)',
        tai: 'Want („Åü„ÅÑ)',
        potential: 'Potential',
        volitional: 'Volitional',
        te: 'Te-form („Å¶)',
        masen: 'Polite Neg („Åæ„Åõ„Çì)',
        mashita: 'Polite Past („Åæ„Åó„Åü)',
        nakatta: 'Neg Past („Å™„Åã„Å£„Åü)',
        ba: 'Conditional („Å∞)',
        tara: 'Conditional („Åü„Çâ)',
        passive: 'Passive',
        causative: 'Causative',
        'causative-passive': 'Caus-Passive',
        imperative: 'Imperative',
        'type-identification': 'Verb Type ID'
      };
      
      let html = '';

      // Welcome message if no attempts yet
      if (analysis.totalAttempts === 0) {
        html += '<div class="report-section" style="text-align: center; padding: 3rem 2rem;">';
        html += '<div style="font-size: 3rem; margin-bottom: 1rem;">üìö</div>';
        html += '<h3 style="font-size: 1.5rem; margin-bottom: 1rem; color: var(--ink);">No Practice Data Yet</h3>';
        html += '<p style="color: var(--text-light); max-width: 400px; margin: 0 auto 1.5rem;">Start practicing to see your statistics, mistake patterns, and personalized advice!</p>';
        html += '<button onclick="closeMistakeReport(); generateNewQuestion();" style="background: var(--sage); color: white; border: none; padding: 0.75rem 1.5rem; font-size: 1rem; font-weight: 600; border-radius: 4px; cursor: pointer; font-family: inherit;">Start Practicing ‚Üí</button>';
        html += '</div>';
        
        document.getElementById('report-body-content').innerHTML = html;
        document.getElementById('mistake-report-modal').classList.add('active');
        document.body.style.overflow = 'hidden';
        return;
      }
      
      // Perfect score message
      if (analysis.mistakeCount === 0 && analysis.totalAttempts > 0) {
        html += '<div class="report-section" style="text-align: center; padding: 2rem;">';
        html += '<div style="font-size: 3rem; margin-bottom: 1rem;">üéâ</div>';
        html += '<h3 style="font-size: 1.5rem; margin-bottom: 0.5rem; color: var(--sage);">Perfect Score!</h3>';
        html += `<p style="color: var(--text-light);">You've answered all ${analysis.totalAttempts} questions correctly. Amazing work!</p>`;
        html += '</div>';
      }

      // Statistics section with visual progress
      html += '<div class="report-section">';
      html += '<h3 class="report-section-title">üìà Your Statistics</h3>';
      html += '<div class="mistake-stats">';
      html += `<div class="mistake-stat">
                <div class="mistake-stat-value">${analysis.totalAttempts}</div>
                <div class="mistake-stat-label">Total Attempts</div>
              </div>`;
      html += `<div class="mistake-stat">
                <div class="mistake-stat-value" style="color: ${analysis.mistakeCount > 0 ? 'var(--accent)' : 'var(--sage)'}">${analysis.mistakeCount}</div>
                <div class="mistake-stat-label">Mistakes Made</div>
              </div>`;
      html += `<div class="mistake-stat">
                <div class="mistake-stat-value">${analysis.totalAttempts - analysis.mistakeCount}</div>
                <div class="mistake-stat-label">Correct Answers</div>
              </div>`;
      if (stats.skipped > 0) {
        html += `<div class="mistake-stat">
                  <div class="mistake-stat-value" style="color: #f9a825;">${stats.skipped}</div>
                  <div class="mistake-stat-label">Skipped</div>
                </div>`;
      }
      html += '</div>';
      
      // Visual accuracy bar
      const accuracyColor = analysis.accuracyRate >= 80 ? '#4a7c59' : analysis.accuracyRate >= 60 ? '#c9a227' : '#b85c38';
      html += `<div style="margin-top: 1.5rem;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                  <span style="font-weight: 600; color: var(--ink);">Accuracy Rate</span>
                  <span style="font-weight: 700; color: ${accuracyColor};">${analysis.accuracyRate}%</span>
                </div>
                <div style="background: #e0e0e0; border-radius: 10px; height: 12px; overflow: hidden;">
                  <div style="background: ${accuracyColor}; height: 100%; width: ${analysis.accuracyRate}%; border-radius: 10px; transition: width 0.5s ease;"></div>
                </div>
                <div style="display: flex; justify-content: space-between; margin-top: 0.25rem; font-size: 0.75rem; color: var(--text-light);">
                  <span>0%</span>
                  <span>50%</span>
                  <span>100%</span>
                </div>
              </div>`;
      html += '</div>';

      // Verb type breakdown
      if (Object.keys(analysis.verbTypeErrors).length > 0) {
        html += '<div class="report-section">';
        html += '<h3 class="report-section-title">üéØ Mistakes by Verb Type</h3>';
        html += '<div class="mistake-card">';
        html += '<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">';
        
        const typeNames = { godan: 'Godan (‰∫îÊÆµ)', ichidan: 'Ichidan (‰∏ÄÊÆµ)', suru: 'Suru („Åô„Çã)' };
        for (const [type, count] of Object.entries(analysis.verbTypeErrors)) {
          html += `<div style="text-align: center; padding: 1rem; background: white; border-radius: 4px;">
                    <div style="font-size: 1.75rem; font-weight: 700; color: var(--accent);">${count}</div>
                    <div style="font-size: 0.85rem; color: var(--text-light);">${typeNames[type]}</div>
                  </div>`;
        }
        html += '</div></div></div>';
      }

      // Form breakdown with improvement suggestions
      if (Object.keys(analysis.formErrors).length > 0) {
        html += '<div class="report-section">';
        html += '<h3 class="report-section-title">üìù Mistakes by Form</h3>';
        html += '<p style="color: var(--text-light); margin-bottom: 1rem; font-size: 0.9rem;">Forms are sorted by number of mistakes. Focus on forms with the most errors first.</p>';
        html += '<div class="mistake-card">';
        html += '<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 0.75rem;">';
        
        const sortedFormErrors = Object.entries(analysis.formErrors).sort((a, b) => b[1] - a[1]);
        sortedFormErrors.forEach(([form, count], index) => {
          const isTop = index < 3 && count >= 2;
          html += `<div style="text-align: center; padding: 0.75rem; background: ${isTop ? '#fff3e0' : 'white'}; border-radius: 4px; border: 1px solid ${isTop ? '#ffcc80' : 'rgba(0,0,0,0.06)'};">
                    <div style="font-size: 1.5rem; font-weight: 700; color: ${isTop ? '#e65100' : 'var(--accent)'}; margin-bottom: 0.25rem;">${count}</div>
                    <div style="font-size: 0.8rem; color: var(--text-light);">${formNames[form] || form}</div>
                    ${isTop ? '<div style="font-size: 0.7rem; color: #e65100; margin-top: 0.25rem;">‚ö†Ô∏è Focus here</div>' : ''}
                  </div>`;
        });
        html += '</div></div></div>';
      }

      // Recommended Study Plan (only show if there are mistakes)
      if (analysis.mistakeCount > 0) {
        html += '<div class="report-section">';
        html += '<h3 class="report-section-title">üìã Recommended Study Plan</h3>';
        html += '<div class="mistake-card" style="background: linear-gradient(135deg, #f5f7fa 0%, #f8f9fa 100%);">';
        
        // Determine recommendations based on performance
        let recommendations = [];
        
        if (analysis.accuracyRate < 50) {
          recommendations = [
            { step: '1', action: 'Switch to "Random (Basic)" mode', reason: 'Focus on just 4 fundamental forms' },
            { step: '2', action: 'Use hints on EVERY question', reason: 'Learn the rules before testing yourself' },
            { step: '3', action: 'Review the "Learn" section', reason: 'Build conceptual understanding' },
            { step: '4', action: 'Practice 10 min daily', reason: 'Consistency beats intensity' }
          ];
        } else if (analysis.accuracyRate < 70) {
          const topProblemForm = Object.entries(analysis.formErrors).sort((a, b) => b[1] - a[1])[0];
          recommendations = [
            { step: '1', action: `Practice "${formNames[topProblemForm?.[0]] || 'your weakest form'}" specifically`, reason: 'Target your biggest weakness' },
            { step: '2', action: 'Try answering before using hints', reason: 'Test your recall first' },
            { step: '3', action: 'Review mistakes in this report', reason: 'Understand your error patterns' },
            { step: '4', action: 'Aim for 20 correct in a row', reason: 'Build confidence with streaks' }
          ];
        } else {
          recommendations = [
            { step: '1', action: 'Try "Random (Advanced)" mode', reason: 'Challenge yourself with harder forms' },
            { step: '2', action: 'Practice without hints', reason: 'Build automatic recall' },
            { step: '3', action: 'Focus on speed', reason: 'Aim for instant recognition' },
            { step: '4', action: 'Try a harder JLPT level', reason: 'Expand your vocabulary' }
          ];
        }
        
        recommendations.forEach(rec => {
          html += `<div style="display: flex; gap: 1rem; padding: 0.75rem 0; border-bottom: 1px solid rgba(0,0,0,0.06);">
                    <div style="width: 28px; height: 28px; background: var(--ink); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.85rem; flex-shrink: 0;">${rec.step}</div>
                    <div>
                      <div style="font-weight: 600; color: var(--ink);">${rec.action}</div>
                      <div style="font-size: 0.85rem; color: var(--text-light);">${rec.reason}</div>
                    </div>
                  </div>`;
        });
        
        html += '</div></div>';
      }

      // Most problematic verbs
      if (analysis.topProblematicVerbs.length > 0) {
        html += '<div class="report-section">';
        html += '<h3 class="report-section-title">‚ö†Ô∏è Verbs to Practice More</h3>';
        analysis.topProblematicVerbs.forEach(item => {
          const verb = item.verb;
          html += `<div class="mistake-card">
                    <div class="mistake-card-title">
                      <span class="jp" style="font-size: 1.3rem;">${verb.verbKanji}</span>
                      <span style="color: var(--text-light); font-size: 0.95rem; margin-left: 0.5rem;">
                        (${verb.verbHiragana}) ‚Äî ${verb.verbMeaning}
                      </span>
                    </div>
                    <div style="color: var(--text);">
                      <strong style="color: var(--accent);">${item.count}</strong> ${item.count === 1 ? 'mistake' : 'mistakes'} with this verb
                    </div>
                  </div>`;
        });
        html += '</div>';
      }

      // Detailed mistake breakdown
      if (mistakeLog.length > 0) {
        html += '<div class="report-section">';
        html += '<h3 class="report-section-title">üìù All Your Mistakes (Most Recent First)</h3>';
        html += '<p style="color: var(--text-light); margin-bottom: 1.5rem; font-size: 0.95rem;">Review each mistake to understand exactly where you went wrong and how to fix it.</p>';
        
        // Show mistakes in reverse order (most recent first)
        const recentMistakes = [...mistakeLog].reverse().slice(0, 15); // Show last 15 mistakes
        
        recentMistakes.forEach((mistake, index) => {
          const isIntentional = isLikelyIntentionalFailure(mistake.userAnswer, mistake.correctAnswer);
          const explanation = explainMistake(mistake);
          
          html += `<div class="mistake-card" style="${isIntentional ? 'border-left-color: #ff9800;' : ''}">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.75rem; flex-wrap: wrap; gap: 0.5rem;">
                      <div class="mistake-card-title" style="margin-bottom: 0;">
                        <span class="jp" style="font-size: 1.3rem;">${mistake.verbKanji}</span>
                        <span style="color: var(--text-light); font-size: 0.9rem; margin-left: 0.5rem;">
                          (${mistake.verbHiragana}) ‚Äî ${mistake.verbMeaning}
                        </span>
                      </div>
                      <span style="background: var(--paper); padding: 0.25rem 0.75rem; border-radius: 4px; font-size: 0.85rem; color: var(--text-light); white-space: nowrap;">
                        ${formNames[mistake.form] || mistake.form}
                      </span>
                    </div>
                    
                    <div style="background: white; padding: 1rem; border-radius: 4px; margin-bottom: 0.75rem;">
                      <div style="display: grid; gap: 0.75rem;">
                        <div>
                          <div style="font-size: 0.8rem; font-weight: 600; color: var(--text-light); text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.25rem;">
                            Your Answer:
                          </div>
                          <div class="jp" style="font-size: 1.2rem; color: #d32f2f; font-weight: 600;">
                            ${mistake.userAnswer || '(no answer)'}
                          </div>
                        </div>
                        <div>
                          <div style="font-size: 0.8rem; font-weight: 600; color: var(--text-light); text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.25rem;">
                            Correct Answer:
                          </div>
                          <div class="jp" style="font-size: 1.2rem; color: #2e7d32; font-weight: 600;">
                            ${mistake.correctAnswer}
                          </div>
                        </div>
                      </div>
                    </div>
                    
                    <div style="background: ${isIntentional ? '#fff3e0' : '#f5f5f3'}; padding: 0.75rem 1rem; border-radius: 4px; border-left: 3px solid ${isIntentional ? '#ff9800' : '#4a90a4'};">
                      <div style="font-weight: 600; color: ${isIntentional ? '#e65100' : '#357a8a'}; margin-bottom: 0.25rem; font-size: 0.9rem;">
                        ${isIntentional ? '‚ö†Ô∏è Skipped Question' : 'üí° What Went Wrong:'}
                      </div>
                      <div style="color: var(--text); font-size: 0.95rem; line-height: 1.6;">
                        ${explanation}
                      </div>
                    </div>
                  </div>`;
        });
        
        if (mistakeLog.length > 15) {
          html += `<div style="text-align: center; margin-top: 1rem; color: var(--text-light); font-size: 0.9rem;">
                    Showing 15 most recent mistakes (you have ${mistakeLog.length} total)
                  </div>`;
        }
        
        html += '</div>';
      }

      // Personalized advice
      if (advice.length > 0) {
        html += '<div class="report-section">';
        html += '<h3 class="report-section-title">üí° Personalized Advice</h3>';
        advice.forEach(item => {
          const isWarning = item.title.includes('‚ö†Ô∏è');
          const boxStyle = isWarning 
            ? 'background: #fff3e0; border-left-color: #ff9800;' 
            : '';
          const titleStyle = isWarning
            ? 'color: #e65100;'
            : '';
          
          html += `<div class="advice-box" style="${boxStyle}">
                    <div class="advice-title" style="${titleStyle}">${item.title}</div>
                    <div class="advice-text">${item.text}</div>
                  </div>`;
        });
        html += '</div>';
      }

      // If no mistakes
      if (analysis.mistakeCount === 0) {
        html = `<div class="no-mistakes">
                  <div class="no-mistakes-icon">üéâ</div>
                  <h3 style="color: var(--ink); margin-bottom: 1rem;">Perfect Score!</h3>
                  <p style="max-width: 500px; margin: 0 auto;">
                    You haven't made any mistakes yet! Keep practicing to maintain your accuracy,
                    and this report will help you identify patterns as you work through more challenging forms.
                  </p>
                </div>`;
      }

      document.getElementById('report-body-content').innerHTML = html;
      document.getElementById('mistake-report-modal').classList.add('active');
      document.body.style.overflow = 'hidden'; // Prevent background scrolling
    }

    function closeMistakeReport() {
      var modal = document.getElementById('mistake-report-modal');
      modal.classList.remove('active');
      modal.style.display = ''; // Clear any inline styles
      document.body.style.overflow = ''; // Restore scrolling
    }

    function downloadReport() {
      const analysis = analyzeMistakes();
      const advice = generateAdvice(analysis);
      const today = new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
      
      // Create HTML content for download
      let html = `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Practice Report - ${today}</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap');
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      line-height: 1.6;
      color: #1a1a1a;
      background: #f8f8f6;
      padding: 2rem;
    }
    
    .jp { font-family: 'Noto Sans JP', sans-serif; }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      padding: 3rem;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .header {
      text-align: center;
      margin-bottom: 3rem;
      padding-bottom: 2rem;
      border-bottom: 2px solid #e8e8e6;
    }
    
    .header h1 {
      font-size: 2rem;
      font-weight: 700;
      color: #2e2e2c;
      margin-bottom: 0.5rem;
    }
    
    .header .date {
      color: #6b7280;
      font-size: 1rem;
    }
    
    .section {
      margin-bottom: 2.5rem;
    }
    
    .section-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: #2e2e2c;
      margin-bottom: 1.25rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid #e8e8e6;
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    
    .stat-card {
      background: #f5f5f3;
      padding: 1.5rem;
      border-radius: 8px;
      text-align: center;
    }
    
    .stat-value {
      font-size: 2rem;
      font-weight: 700;
      color: #4a90a4;
      margin-bottom: 0.5rem;
    }
    
    .stat-label {
      color: #6b7280;
      font-size: 0.95rem;
      font-weight: 500;
    }
    
    .mistake-card {
      background: #fafaf7;
      padding: 1.5rem;
      border-radius: 8px;
      border-left: 4px solid #4a90a4;
      margin-bottom: 1rem;
    }
    
    .mistake-card-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.75rem;
    }
    
    .advice-box {
      background: #e8f4f8;
      border-left: 4px solid #4a90a4;
      padding: 1.5rem;
      border-radius: 4px;
      margin-bottom: 1rem;
    }
    
    .advice-box.warning {
      background: #fff3e0;
      border-left-color: #ff9800;
    }
    
    .advice-title {
      font-weight: 600;
      color: #357a8a;
      margin-bottom: 0.5rem;
      font-size: 1.05rem;
    }
    
    .advice-box.warning .advice-title {
      color: #e65100;
    }
    
    .advice-text {
      color: #1a1a1a;
      line-height: 1.7;
    }
    
    .mistake-detail {
      background: white;
      padding: 1rem;
      border-radius: 4px;
      margin-bottom: 0.75rem;
    }
    
    .answer-comparison {
      display: grid;
      gap: 0.75rem;
    }
    
    .answer-label {
      font-size: 0.8rem;
      font-weight: 600;
      color: #6b7280;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 0.25rem;
    }
    
    .wrong-answer {
      font-size: 1.2rem;
      color: #d32f2f;
      font-weight: 600;
    }
    
    .correct-answer {
      font-size: 1.2rem;
      color: #2e7d32;
      font-weight: 600;
    }
    
    .explanation-box {
      background: #f5f5f3;
      padding: 0.75rem 1rem;
      border-radius: 4px;
      border-left: 3px solid #4a90a4;
      margin-top: 0.75rem;
    }
    
    .explanation-title {
      font-weight: 600;
      color: #357a8a;
      margin-bottom: 0.25rem;
      font-size: 0.9rem;
    }
    
    .footer {
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 2px solid #e8e8e6;
      text-align: center;
      color: #6b7280;
      font-size: 0.9rem;
    }
    
    @media print {
      body { 
        background: white; 
        padding: 0; 
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
      }
      .container { 
        box-shadow: none; 
        max-width: 100%;
        padding: 1.5rem;
      }
      .section { page-break-inside: avoid; }
      .mistake-card { page-break-inside: avoid; }
      .advice-box { page-break-inside: avoid; }
      .stat-card { 
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
      }
    }
    
    @page {
      margin: 1.5cm;
      size: A4;
    }
  
      /* Simple Navigation Styles */
      .nav-links {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        flex-wrap: wrap;
      }
      
      .nav-link {
        background: none;
        border: none;
        color: var(--text);
        padding: 0.75rem 1rem;
        cursor: pointer;
        font-size: 0.95rem;
        font-weight: 500;
        font-family: inherit;
        transition: all 0.2s;
        position: relative;
      }
      
      .nav-link:hover {
        color: var(--accent);
      }
      
      .nav-link.active {
        color: var(--accent);
      }
      
      .nav-link.active::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 80%;
        height: 2px;
        background: var(--accent);
      }
      
      @media (max-width: 768px) {
        .nav-links {
          font-size: 0.85rem;
        }
        
        .nav-link {
          padding: 0.5rem 0.75rem;
          font-size: 0.85rem;
        }
      }
      
      /* Kana D≈çj≈ç Styles */
      .kana-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 1rem;
        margin-top: 1rem;
      }
      
      .kana-cell {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 1.5rem 0.75rem;
        background: var(--paper-warm);
        border: 1px solid rgba(0,0,0,0.1);
        border-radius: 4px;
        transition: all 0.2s ease;
        min-height: 140px;
      }
      
      .kana-cell:hover {
        transform: translateY(-3px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        border-color: var(--accent);
      }
      
      .kana-romaji {
        font-size: 0.75rem;
        color: #888;
        text-transform: lowercase;
        margin-bottom: 0.75rem;
        font-weight: 600;
        letter-spacing: 0.05em;
      }
      
      .kana-hiragana {
        font-size: 2rem;
        color: var(--ink);
        font-family: 'Noto Sans JP', sans-serif;
        margin-bottom: 0.25rem;
        line-height: 1;
      }
      
      .kana-katakana {
        font-size: 2rem;
        color: #2d7d9a;
        font-family: 'Noto Sans JP', sans-serif;
        line-height: 1;
      }
      
            @media (max-width: 768px) {
        .kana-grid {
          grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
          gap: 0.75rem;
        }
        
        .kana-cell {
          padding: 1rem 0.5rem;
          min-height: 110px;
        }
        
        .kana-hiragana,
        .kana-katakana {
          font-size: 2rem;
        }
        
        .nav-dropdown-content {
          position: static;
          box-shadow: none;
          border-radius: 0;
          margin-top: 0;
        }
      }

    </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üìä Practice Report</h1>
      <div class="date">${today}</div>
    </div>
`;

      // Statistics section
      const skippedStatHtml = stats.skipped > 0 ? `
        <div class="stat-card">
          <div class="stat-value" style="color: #f9a825;">${stats.skipped}</div>
          <div class="stat-label">Skipped</div>
        </div>` : '';
      
      html += `
    <div class="section">
      <h2 class="section-title">üìà Your Statistics</h2>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-value">${analysis.totalAttempts}</div>
          <div class="stat-label">Total Attempts</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">${analysis.mistakeCount}</div>
          <div class="stat-label">Mistakes Made</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">${analysis.accuracyRate}%</div>
          <div class="stat-label">Accuracy Rate</div>
        </div>${skippedStatHtml}
      </div>
    </div>
`;

      // Mistakes by verb type
      if (Object.keys(analysis.verbTypeErrors).some(key => analysis.verbTypeErrors[key] > 0)) {
        html += `
    <div class="section">
      <h2 class="section-title">üìä Mistakes by Verb Type</h2>
      <div class="stats-grid">`;
        
        if (analysis.verbTypeErrors.godan > 0) {
          html += `
        <div class="stat-card">
          <div class="stat-value">${analysis.verbTypeErrors.godan}</div>
          <div class="stat-label">Godan Verbs</div>
        </div>`;
        }
        
        if (analysis.verbTypeErrors.ichidan > 0) {
          html += `
        <div class="stat-card">
          <div class="stat-value">${analysis.verbTypeErrors.ichidan}</div>
          <div class="stat-label">Ichidan Verbs</div>
        </div>`;
        }
        
        if (analysis.verbTypeErrors.suru > 0) {
          html += `
        <div class="stat-card">
          <div class="stat-value">${analysis.verbTypeErrors.suru}</div>
          <div class="stat-label">Suru Verbs</div>
        </div>`;
        }
        
        html += `
      </div>
    </div>`;
      }

      // Mistakes by form
      if (Object.keys(analysis.formErrors).length > 0) {
        html += `
    <div class="section">
      <h2 class="section-title">üìù Mistakes by Form</h2>
      <div class="stats-grid">`;
        
        Object.entries(analysis.formErrors).forEach(([form, count]) => {
          const formNames = {
            negative: 'Negative („Å™„ÅÑ)',
            masu: 'Polite („Åæ„Åô)',
            past: 'Past („Åü)',
            tai: 'Want („Åü„ÅÑ)',
            potential: 'Potential',
            volitional: 'Volitional',
            te: 'Te-form („Å¶)',
            masen: 'Polite Negative („Åæ„Åõ„Çì)',
            mashita: 'Polite Past („Åæ„Åó„Åü)',
            nakatta: 'Negative Past („Å™„Åã„Å£„Åü)',
            ba: 'Conditional („Å∞)',
            tara: 'Conditional („Åü„Çâ)',
            passive: 'Passive',
            causative: 'Causative',
            'causative-passive': 'Causative-Passive',
            imperative: 'Imperative',
            'type-identification': 'Verb Type ID'
          };
          html += `
        <div class="stat-card">
          <div class="stat-value">${count}</div>
          <div class="stat-label">${formNames[form] || form}</div>
        </div>`;
        });
        
        html += `
      </div>
    </div>`;
      }

      // Top problematic verbs
      if (analysis.topProblematicVerbs.length > 0) {
        html += `
    <div class="section">
      <h2 class="section-title">‚ö†Ô∏è Verbs to Practice More</h2>`;
        
        analysis.topProblematicVerbs.forEach(item => {
          html += `
      <div class="mistake-card">
        <div class="mistake-card-title">
          <span class="jp" style="font-size: 1.3rem;">${item.verb.verbKanji}</span>
          <span style="color: #6b7280; font-size: 0.95rem; margin-left: 0.5rem;">
            (${item.verb.verbHiragana}) ‚Äî ${item.verb.verbMeaning}
          </span>
        </div>
        <div style="color: #1a1a1a;">
          <strong style="color: #4a90a4;">${item.count}</strong> ${item.count === 1 ? 'mistake' : 'mistakes'} with this verb
        </div>
      </div>`;
        });
        
        html += `
    </div>`;
      }

      // Detailed mistakes
      if (mistakeLog.length > 0) {
        html += `
    <div class="section">
      <h2 class="section-title">üìù All Your Mistakes (Most Recent First)</h2>`;
        
        const recentMistakes = [...mistakeLog].reverse().slice(0, 15);
        const formNames = {
          negative: 'Negative („Å™„ÅÑ)',
          masu: 'Polite („Åæ„Åô)',
          past: 'Past („Åü)',
          tai: 'Want („Åü„ÅÑ)',
          potential: 'Potential',
          volitional: 'Volitional',
          'type-identification': 'Verb Type ID'
        };
        
        recentMistakes.forEach(mistake => {
          const explanation = explainMistake(mistake);
          
          html += `
      <div class="mistake-card">
        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.75rem;">
          <div class="mistake-card-title">
            <span class="jp" style="font-size: 1.3rem;">${mistake.verbKanji}</span>
            <span style="color: #6b7280; font-size: 0.9rem; margin-left: 0.5rem;">
              (${mistake.verbHiragana}) ‚Äî ${mistake.verbMeaning}
            </span>
          </div>
          <span style="background: #f5f5f3; padding: 0.25rem 0.75rem; border-radius: 4px; font-size: 0.85rem; color: #6b7280;">
            ${formNames[mistake.form] || mistake.form}
          </span>
        </div>
        
        <div class="mistake-detail">
          <div class="answer-comparison">
            <div>
              <div class="answer-label">Your Answer:</div>
              <div class="wrong-answer jp">${mistake.userAnswer || '(no answer)'}</div>
            </div>
            <div>
              <div class="answer-label">Correct Answer:</div>
              <div class="correct-answer jp">${mistake.correctAnswer}</div>
            </div>
          </div>
        </div>
        
        <div class="explanation-box">
          <div class="explanation-title">üí° What Went Wrong:</div>
          <div style="color: #1a1a1a; font-size: 0.95rem; line-height: 1.6;">
            ${explanation}
          </div>
        </div>
      </div>`;
        });
        
        if (mistakeLog.length > 15) {
          html += `
      <p style="text-align: center; margin-top: 1rem; color: #6b7280; font-size: 0.9rem;">
        Showing 15 most recent mistakes (you have ${mistakeLog.length} total)
      </p>`;
        }
        
        html += `
    </div>`;
      }

      // Personalized advice
      if (advice.length > 0) {
        html += `
    <div class="section">
      <h2 class="section-title">üí° Personalized Advice</h2>`;
        
        advice.forEach(item => {
          const isWarning = item.title.includes('‚ö†Ô∏è');
          html += `
      <div class="advice-box${isWarning ? ' warning' : ''}">
        <div class="advice-title">${item.title}</div>
        <div class="advice-text">${item.text}</div>
      </div>`;
        });
        
        html += `
    </div>`;
      }

      // Footer
      html += `
    <div class="footer">
      <p><strong>Katsuy≈ç Academy</strong> ‚Äî Japanese Verb Conjugation Practice</p>
      <p style="margin-top: 0.5rem;">Generated on ${today}</p>
    </div>
  </div>
</body>
</html>`;

      // Download as HTML file (can be opened and printed to PDF)
      const blob = new Blob([html], { type: 'text/html' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `Practice-Report-${new Date().toISOString().split('T')[0]}.html`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      
      showToast('Report downloaded! Open it and use Print ‚Üí Save as PDF', 'success');
    }

    // Close modal when clicking outside
    document.addEventListener('click', function(e) {
      const modal = document.getElementById('mistake-report-modal');
      if (e.target === modal) {
        closeMistakeReport();
      }
    });

    // ============ CONJUGATOR LOGIC ============
    
    // Normalize and check verb type answer (accepts multiple formats)
    function checkVerbType(userInput, correctType) {
      const normalized = userInput.toLowerCase().trim();
      
      // Define all acceptable answers for each type
      const acceptableAnswers = {
        godan: ['godan', '„Åî„Å†„Çì', '‰∫îÊÆµ', 'god–∞–Ω', 'u-verb', 'group 1', 'group1', 'type 1', 'type1'],
        ichidan: ['ichidan', '„ÅÑ„Å°„Å†„Çì', '‰∏ÄÊÆµ', 'ru-verb', 'group 2', 'group2', 'type 2', 'type2'],
        irregular: ['irregular', '„Åç„Åù„Åè', '‰∏çË¶èÂâá', 'irregular verb', 'kuru'],
        suru: ['suru', '„Åô„Çã', '„Åô„ÇãÂãïË©û', 'group 3', 'group3', 'type 3', 'type3']
      };
      
      // Check if the user's answer matches any acceptable answer for the correct type
      return acceptableAnswers[correctType].some(answer => 
        normalized === answer || normalized.includes(answer)
      );
    }
    
    // Generate a step-by-step walkthrough for the current verb
    function generateWorkedExample(verb, form) {
      let steps = [];
      const correctAnswer = conjugateVerb(verb, form);
      
      if (verb.type === 'godan') {
        const lastChar = verb.hiragana.slice(-1);
        const stem = verb.hiragana.slice(0, -1);
        
        steps.push(`<strong>Step 1:</strong> Identify the verb type. ${verb.kanji} (${verb.hiragana}) is a <strong>godan verb</strong> because it ends in "${lastChar}".`);
        
        if (form.key === 'negative') {
          const u = ['„Åè', '„Åê', '„Åô', '„Å§', '„Å¨', '„Å∂', '„ÇÄ', '„Çã', '„ÅÜ'];
          const a = ['„Åã', '„Åå', '„Åï', '„Åü', '„Å™', '„Å∞', '„Åæ', '„Çâ', '„Çè'];
          const idx = u.indexOf(lastChar);
          const aRow = a[idx];
          steps.push(`<strong>Step 2:</strong> For negative form, shift "${lastChar}" to the „ÅÇ-row: "${lastChar}" ‚Üí "${aRow}".`);
          steps.push(`<strong>Step 3:</strong> Add „Å™„ÅÑ: ${stem}${aRow} + „Å™„ÅÑ = <strong class="jp">${correctAnswer}</strong>`);
        } else if (form.key === 'masu') {
          const u = ['„Åè', '„Åê', '„Åô', '„Å§', '„Å¨', '„Å∂', '„ÇÄ', '„Çã', '„ÅÜ'];
          const i = ['„Åç', '„Åé', '„Åó', '„Å°', '„Å´', '„Å≥', '„Åø', '„Çä', '„ÅÑ'];
          const idx = u.indexOf(lastChar);
          const iRow = i[idx];
          steps.push(`<strong>Step 2:</strong> For masu form, shift "${lastChar}" to the „ÅÑ-row: "${lastChar}" ‚Üí "${iRow}".`);
          steps.push(`<strong>Step 3:</strong> Add „Åæ„Åô: ${stem}${iRow} + „Åæ„Åô = <strong class="jp">${correctAnswer}</strong>`);
        } else if (form.key === 'past') {
          steps.push(`<strong>Step 2:</strong> For past tense, godan verbs have special sound changes.`);
          if (lastChar === '„Åè') {
            steps.push(`<strong>Step 3:</strong> "${lastChar}" becomes "„ÅÑ„Åü": ${stem} + „ÅÑ„Åü = <strong class="jp">${correctAnswer}</strong>`);
          } else if (lastChar === '„Åê') {
            steps.push(`<strong>Step 3:</strong> "${lastChar}" becomes "„ÅÑ„Å†": ${stem} + „ÅÑ„Å† = <strong class="jp">${correctAnswer}</strong>`);
          } else if (lastChar === '„Åô') {
            steps.push(`<strong>Step 3:</strong> "${lastChar}" becomes "„Åó„Åü": ${stem} + „Åó„Åü = <strong class="jp">${correctAnswer}</strong>`);
          } else if (['„Å§', '„Çã', '„ÅÜ'].includes(lastChar)) {
            steps.push(`<strong>Step 3:</strong> "${lastChar}" becomes "„Å£„Åü": ${stem} + „Å£„Åü = <strong class="jp">${correctAnswer}</strong>`);
          } else if (['„ÇÄ', '„Å∂', '„Å¨'].includes(lastChar)) {
            steps.push(`<strong>Step 3:</strong> "${lastChar}" becomes "„Çì„Å†": ${stem} + „Çì„Å† = <strong class="jp">${correctAnswer}</strong>`);
          }
        } else if (form.key === 'tai') {
          const u = ['„Åè', '„Åê', '„Åô', '„Å§', '„Å¨', '„Å∂', '„ÇÄ', '„Çã', '„ÅÜ'];
          const i = ['„Åç', '„Åé', '„Åó', '„Å°', '„Å´', '„Å≥', '„Åø', '„Çä', '„ÅÑ'];
          const idx = u.indexOf(lastChar);
          const iRow = i[idx];
          steps.push(`<strong>Step 2:</strong> For „Åü„ÅÑ form, shift "${lastChar}" to the „ÅÑ-row: "${lastChar}" ‚Üí "${iRow}".`);
          steps.push(`<strong>Step 3:</strong> Add „Åü„ÅÑ: ${stem}${iRow} + „Åü„ÅÑ = <strong class="jp">${correctAnswer}</strong>`);
        } else if (form.key === 'potential') {
          const u = ['„Åè', '„Åê', '„Åô', '„Å§', '„Å¨', '„Å∂', '„ÇÄ', '„Çã', '„ÅÜ'];
          const e = ['„Åë', '„Åí', '„Åõ', '„Å¶', '„Å≠', '„Åπ', '„ÇÅ', '„Çå', '„Åà'];
          const idx = u.indexOf(lastChar);
          const eRow = e[idx];
          steps.push(`<strong>Step 2:</strong> For potential form, shift "${lastChar}" to the „Åà-row: "${lastChar}" ‚Üí "${eRow}".`);
          steps.push(`<strong>Step 3:</strong> Add „Çã: ${stem}${eRow} + „Çã = <strong class="jp">${correctAnswer}</strong>`);
        } else if (form.key === 'volitional') {
          const u = ['„Åè', '„Åê', '„Åô', '„Å§', '„Å¨', '„Å∂', '„ÇÄ', '„Çã', '„ÅÜ'];
          const o = ['„Åì', '„Åî', '„Åù', '„Å®', '„ÅÆ', '„Åº', '„ÇÇ', '„Çç', '„Åä'];
          const idx = u.indexOf(lastChar);
          const oRow = o[idx];
          steps.push(`<strong>Step 2:</strong> For volitional form, shift "${lastChar}" to the „Åä-row: "${lastChar}" ‚Üí "${oRow}".`);
          steps.push(`<strong>Step 3:</strong> Add „ÅÜ: ${stem}${oRow} + „ÅÜ = <strong class="jp">${correctAnswer}</strong>`);
        } else if (form.key === 'te') {
          steps.push(`<strong>Step 2:</strong> For te-form, godan verbs have special sound changes (same pattern as past tense).`);
          if (lastChar === '„Åè') {
            steps.push(`<strong>Step 3:</strong> "${lastChar}" becomes "„ÅÑ„Å¶": ${stem} + „ÅÑ„Å¶ = <strong class="jp">${correctAnswer}</strong>`);
          } else if (lastChar === '„Åê') {
            steps.push(`<strong>Step 3:</strong> "${lastChar}" becomes "„ÅÑ„Åß": ${stem} + „ÅÑ„Åß = <strong class="jp">${correctAnswer}</strong>`);
          } else if (lastChar === '„Åô') {
            steps.push(`<strong>Step 3:</strong> "${lastChar}" becomes "„Åó„Å¶": ${stem} + „Åó„Å¶ = <strong class="jp">${correctAnswer}</strong>`);
          } else if (['„Å§', '„Çã', '„ÅÜ'].includes(lastChar)) {
            steps.push(`<strong>Step 3:</strong> "${lastChar}" becomes "„Å£„Å¶": ${stem} + „Å£„Å¶ = <strong class="jp">${correctAnswer}</strong>`);
          } else if (['„ÇÄ', '„Å∂', '„Å¨'].includes(lastChar)) {
            steps.push(`<strong>Step 3:</strong> "${lastChar}" becomes "„Çì„Åß": ${stem} + „Çì„Åß = <strong class="jp">${correctAnswer}</strong>`);
          }
        } else {
          // Generic fallback for other forms
          steps.push(`<strong>Step 2:</strong> Apply the ${form.name} conjugation pattern.`);
          steps.push(`<strong>Step 3:</strong> The correct answer is: <strong class="jp">${correctAnswer}</strong>`);
        }
      } else if (verb.type === 'ichidan') {
        const stem = verb.hiragana.slice(0, -1);
        steps.push(`<strong>Step 1:</strong> Identify the verb type. ${verb.kanji} (${verb.hiragana}) is an <strong>ichidan verb</strong>‚Äîit ends in -eru or -iru sound.`);
        steps.push(`<strong>Step 2:</strong> For ichidan verbs, the stem never changes. Drop the „Çã: ${verb.hiragana} ‚Üí ${stem}`);
        
        const endings = {
          negative: '„Å™„ÅÑ',
          masu: '„Åæ„Åô',
          past: '„Åü',
          tai: '„Åü„ÅÑ',
          potential: '„Çâ„Çå„Çã',
          volitional: '„Çà„ÅÜ',
          te: '„Å¶',
          masen: '„Åæ„Åõ„Çì',
          mashita: '„Åæ„Åó„Åü',
          nakatta: '„Å™„Åã„Å£„Åü',
          ba: '„Çå„Å∞',
          tara: '„Åü„Çâ',
          passive: '„Çâ„Çå„Çã',
          causative: '„Åï„Åõ„Çã',
          'causative-passive': '„Åï„Åõ„Çâ„Çå„Çã',
          imperative: '„Çç'
        };
        
        steps.push(`<strong>Step 3:</strong> Add ${endings[form.key]}: ${stem} + ${endings[form.key]} = <strong class="jp">${correctAnswer}</strong>`);
      } else if (verb.type === 'suru') {
        const prefix = verb.hiragana.replace('„Åô„Çã', '');
        steps.push(`<strong>Step 1:</strong> Identify the verb type. ${verb.kanji} (${verb.hiragana}) is a <strong>suru verb</strong>‚Äîit's formed by adding „Åô„Çã to a noun.`);
        
        const suruMap = {
          negative: '„Åó„Å™„ÅÑ',
          masu: '„Åó„Åæ„Åô',
          past: '„Åó„Åü',
          tai: '„Åó„Åü„ÅÑ',
          potential: '„Åß„Åç„Çã',
          volitional: '„Åó„Çà„ÅÜ',
          te: '„Åó„Å¶',
          masen: '„Åó„Åæ„Åõ„Çì',
          mashita: '„Åó„Åæ„Åó„Åü',
          nakatta: '„Åó„Å™„Åã„Å£„Åü',
          ba: '„Åô„Çå„Å∞',
          tara: '„Åó„Åü„Çâ',
          passive: '„Åï„Çå„Çã',
          causative: '„Åï„Åõ„Çã',
          'causative-passive': '„Åï„Åõ„Çâ„Çå„Çã',
          imperative: '„Åó„Çç'
        };
        
        if (form.key === 'potential') {
          steps.push(`<strong>Step 2:</strong> For potential form, „Åô„Çã becomes „Åß„Åç„Çã (special case).`);
          steps.push(`<strong>Step 3:</strong> Replace „Åô„Çã with „Åß„Åç„Çã: ${prefix}„Åô„Çã ‚Üí <strong class="jp">${correctAnswer}</strong>`);
        } else {
          steps.push(`<strong>Step 2:</strong> For ${form.name} form, „Åô„Çã becomes ${suruMap[form.key]}.`);
          steps.push(`<strong>Step 3:</strong> Replace „Åô„Çã with ${suruMap[form.key]}: ${prefix}„Åô„Çã ‚Üí <strong class="jp">${correctAnswer}</strong>`);
        }
      }
      
      return '<div style="margin-top: 1rem; padding: 1rem; background: rgba(0,0,0,0.03); border-radius: 4px; text-align: left;">' +
             '<div style="font-weight: 600; margin-bottom: 0.75rem; color: var(--sage);">Let\'s work through this together:</div>' +
             steps.map(s => `<div style="margin-bottom: 0.5rem; line-height: 1.6;">${s}</div>`).join('') +
             '</div>';
    }
    
    // Check if the answer is close enough to warrant a retry
    function isAnswerInBallpark(userAnswer, correctAnswer) {
      // Remove spaces for comparison
      const user = userAnswer.trim();
      const correct = correctAnswer.trim();
      
      // If completely empty, not in ballpark
      if (!user) return false;
      
      // Check if it's all hiragana (basic validation)
      const hiraganaRegex = /^[„ÅÅ-„Çì]+$/;
      if (!hiraganaRegex.test(user)) {
        return false; // Contains non-hiragana, probably way off
      }
      
      // Check length similarity (within 3 characters)
      if (Math.abs(user.length - correct.length) > 3) {
        return false;
      }
      
      // Check for any character overlap
      let overlapCount = 0;
      for (let char of user) {
        if (correct.includes(char)) overlapCount++;
      }
      
      // If at least 40% of characters are in the correct answer, it's close
      return (overlapCount / user.length) >= 0.4;
    }
    
    // Generate detailed error explanation
    function getErrorExplanation(userAnswer, correctAnswer, verb, form) {
      const user = userAnswer.trim();
      
      // Check for non-hiragana
      const hiraganaRegex = /^[„ÅÅ-„Çì]+$/;
      if (!hiraganaRegex.test(user)) {
        return "Your answer contains characters that aren't hiragana. Remember, we're conjugating the verb, not translating it. Write your answer in hiragana only.";
      }
      
      // Check if they forgot to conjugate
      if (user === verb.hiragana) {
        return `You entered the dictionary form (${verb.hiragana}), but we need the <strong>${form.name}</strong> form. You need to change the verb ending.`;
      }
      
      // Type-specific hints
      if (verb.type === 'godan') {
        const lastChar = verb.hiragana.slice(-1);
        const userLast = user.slice(-1);
        
        if (form.key === 'negative' && !user.endsWith('„Å™„ÅÑ')) {
          return `For godan negative, you need to end with <strong>„Å™„ÅÑ</strong>. The last character of ${verb.hiragana} (${lastChar}) should shift to the „ÅÇ-row, then add „Å™„ÅÑ.`;
        }
        
        if (form.key === 'masu' && !user.endsWith('„Åæ„Åô')) {
          return `For godan polite form, you need to end with <strong>„Åæ„Åô</strong>. Shift ${lastChar} to the „ÅÑ-row, then add „Åæ„Åô.`;
        }
        
        if (form.key === 'past' && !user.endsWith('„Åü') && !user.endsWith('„Å†')) {
          return `For godan past tense, you need special endings like <strong>„ÅÑ„Åü, „ÅÑ„Å†, „Åó„Åü, „Å£„Åü, or „Çì„Å†</strong> depending on the verb ending. Check which pattern ${verb.hiragana} follows.`;
        }
        
        if (form.key === 'tai' && !user.endsWith('„Åü„ÅÑ')) {
          return `For the „Åü„ÅÑ form, shift to the „ÅÑ-row and add <strong>„Åü„ÅÑ</strong>. Your answer should end with „Åü„ÅÑ.`;
        }
        
        if (form.key === 'potential' && !user.endsWith('„Çã')) {
          return `For godan potential, shift to the „Åà-row and add <strong>„Çã</strong>. Your answer should end with „Çã.`;
        }
        
        if (form.key === 'volitional' && !user.endsWith('„ÅÜ')) {
          return `For godan volitional, shift to the „Åä-row and add <strong>„ÅÜ</strong>. Your answer should end with „ÅÜ.`;
        }
        
        return `Remember, this is a <strong>godan verb</strong> that conjugates by shifting the final kana to different rows („ÅÇ„ÄÅ„ÅÑ„ÄÅ„ÅÜ„ÄÅ„Åà„ÄÅ„Åä). Check your conjugation pattern for the ${form.name} form.`;
      }
      
      if (verb.type === 'ichidan') {
        const stem = verb.hiragana.slice(0, -1);
        
        if (!user.startsWith(stem)) {
          return `For ichidan verbs, the stem <strong>never changes</strong>. Your answer should start with "${stem}". Just drop the „Çã and add the correct ending.`;
        }
        
        if (form.key === 'negative' && !user.endsWith('„Å™„ÅÑ')) {
          return `For ichidan negative: drop „Çã and add <strong>„Å™„ÅÑ</strong>. It should be ${stem}„Å™„ÅÑ.`;
        }
        
        if (form.key === 'masu' && !user.endsWith('„Åæ„Åô')) {
          return `For ichidan polite: drop „Çã and add <strong>„Åæ„Åô</strong>. It should be ${stem}„Åæ„Åô.`;
        }
        
        if (form.key === 'past' && !user.endsWith('„Åü')) {
          return `For ichidan past: drop „Çã and add <strong>„Åü</strong>. It should be ${stem}„Åü.`;
        }
        
        if (form.key === 'tai' && !user.endsWith('„Åü„ÅÑ')) {
          return `For ichidan desire form: drop „Çã and add <strong>„Åü„ÅÑ</strong>. It should be ${stem}„Åü„ÅÑ.`;
        }
        
        if (form.key === 'potential' && !user.endsWith('„Çâ„Çå„Çã')) {
          return `For ichidan potential: drop „Çã and add <strong>„Çâ„Çå„Çã</strong>. It should be ${stem}„Çâ„Çå„Çã.`;
        }
        
        if (form.key === 'volitional' && !user.endsWith('„Çà„ÅÜ')) {
          return `For ichidan volitional: drop „Çã and add <strong>„Çà„ÅÜ</strong>. It should be ${stem}„Çà„ÅÜ.`;
        }
        
        return `Remember, this is an <strong>ichidan verb</strong>. The stem never changes‚Äîjust drop „Çã and add the ending for the ${form.name} form.`;
      }
      
      if (verb.type === 'suru') {
        const suruMap = { 
          negative: '„Åó„Å™„ÅÑ', 
          masu: '„Åó„Åæ„Åô', 
          past: '„Åó„Åü', 
          tai: '„Åó„Åü„ÅÑ', 
          potential: '„Åß„Åç„Çã', 
          volitional: '„Åó„Çà„ÅÜ',
          te: '„Åó„Å¶',
          masen: '„Åó„Åæ„Åõ„Çì',
          mashita: '„Åó„Åæ„Åó„Åü',
          nakatta: '„Åó„Å™„Åã„Å£„Åü',
          ba: '„Åô„Çå„Å∞',
          tara: '„Åó„Åü„Çâ',
          passive: '„Åï„Çå„Çã',
          causative: '„Åï„Åõ„Çã',
          'causative-passive': '„Åï„Åõ„Çâ„Çå„Çã',
          imperative: '„Åó„Çç'
        };
        
        const expectedEnding = suruMap[form.key];
        const prefix = verb.hiragana.replace('„Åô„Çã', '');
        
        if (form.key === 'potential') {
          return `For „Åô„Çã verbs in potential form, „Åô„Çã becomes <strong>„Åß„Åç„Çã</strong>. The answer should be ${prefix}„Åß„Åç„Çã.`;
        }
        
        return `For „Åô„Çã verbs, replace „Åô„Çã with <strong>${expectedEnding}</strong>. The answer should be ${prefix}${expectedEnding}.`;
      }
      
      return `Your answer doesn't match the correct conjugation pattern. Review how ${verb.type} verbs conjugate in the ${form.name} form.`;
    }
    
    function getRandomVerb() {
      const types = ['godan', 'ichidan', 'irregular', 'suru'];
      const weights = [5, 3, 1, 2]; // irregular gets weight of 1 (rare but possible)
      const weightedTypes = types.flatMap((type, i) => Array(weights[i]).fill(type));
      const type = weightedTypes[Math.floor(Math.random() * weightedTypes.length)];
      let verbList = verbs[type];
      
      // Apply JLPT filter
      const jlptFilter = document.getElementById('jlpt-filter').value;
      if (jlptFilter !== 'all') {
        const allowedLevels = jlptFilter === 'N5-N4' ? ['N5', 'N4'] : [jlptFilter];
        verbList = verbList.filter(v => allowedLevels.includes(v.jlpt));
        
        // If no verbs match the filter for this type, try another type
        if (verbList.length === 0) {
          for (const fallbackType of types) {
            const fallbackList = verbs[fallbackType].filter(v => allowedLevels.includes(v.jlpt));
            if (fallbackList.length > 0) {
              verbList = fallbackList;
              break;
            }
          }
        }
      }
      
      // Try to pick a verb that hasn't been used recently
      let availableVerbs = verbList.filter(v => 
        !recentlyUsedVerbs.some(recent => 
          recent.kanji === v.kanji && recent.type === type
        )
      );
      
      // If all verbs have been used recently, use the full list
      if (availableVerbs.length === 0) {
        availableVerbs = verbList;
      }
      
      const verb = availableVerbs[Math.floor(Math.random() * availableVerbs.length)];
      
      const selectedForm = document.getElementById('form-select').value;
      let form;
      
      // Handle different random modes
      if (selectedForm === 'random') {
        form = forms[Math.floor(Math.random() * forms.length)];
      } else if (selectedForm === 'random-basic') {
        const basicForms = forms.filter(f => formCategories.basic.includes(f.key));
        form = basicForms[Math.floor(Math.random() * basicForms.length)];
      } else if (selectedForm === 'random-intermediate') {
        const intermediateForms = forms.filter(f => formCategories.intermediate.includes(f.key));
        form = intermediateForms[Math.floor(Math.random() * intermediateForms.length)];
      } else if (selectedForm === 'random-advanced') {
        const advancedForms = forms.filter(f => formCategories.advanced.includes(f.key));
        form = advancedForms[Math.floor(Math.random() * advancedForms.length)];
      } else {
        form = forms.find(f => f.key === selectedForm);
      }
      
      // Pick a random prompt template
      const template = form.templates[Math.floor(Math.random() * form.templates.length)];
      
      // Add to recently used list
      const verbWithType = { ...verb, type };
      recentlyUsedVerbs.push(verbWithType);
      
      // Keep only the last MAX_RECENT_VERBS
      if (recentlyUsedVerbs.length > MAX_RECENT_VERBS) {
        recentlyUsedVerbs.shift();
      }
      
      return { ...verb, type, form, template };
    }

    function conjugateVerb(verb, form) {
      if (!verb) return '';
      
      // Special handling for irregular verb Êù•„Çã (kuru)
      if (verb.hiragana === '„Åè„Çã') {
        const kuruMap = {
          negative: '„Åì„Å™„ÅÑ',
          masu: '„Åç„Åæ„Åô',
          past: '„Åç„Åü',
          tai: '„Åç„Åü„ÅÑ',
          potential: '„Åì„Çâ„Çå„Çã',
          volitional: '„Åì„Çà„ÅÜ',
          te: '„Åç„Å¶',
          masen: '„Åç„Åæ„Åõ„Çì',
          mashita: '„Åç„Åæ„Åó„Åü',
          nakatta: '„Åì„Å™„Åã„Å£„Åü',
          ba: '„Åè„Çå„Å∞',
          tara: '„Åç„Åü„Çâ',
          passive: '„Åì„Çâ„Çå„Çã',
          causative: '„Åì„Åï„Åõ„Çã',
          'causative-passive': '„Åì„Åï„Åõ„Çâ„Çå„Çã',
          imperative: '„Åì„ÅÑ'
        };
        return kuruMap[form.key] || verb.hiragana;
      }
      
      // Special handling for Ë°å„Åè (iku) - irregular te/ta/tara forms
      if (verb.hiragana === '„ÅÑ„Åè') {
        const ikuMap = {
          te: '„ÅÑ„Å£„Å¶',
          past: '„ÅÑ„Å£„Åü',
          tara: '„ÅÑ„Å£„Åü„Çâ'
        };
        if (ikuMap[form.key]) return ikuMap[form.key];
        // Fall through to regular godan handling for other forms
      }
      
      // Special handling for „ÅÇ„Çã (aru) - irregular negative forms
      if (verb.hiragana === '„ÅÇ„Çã') {
        const aruMap = {
          negative: '„Å™„ÅÑ',
          nakatta: '„Å™„Åã„Å£„Åü',
          masen: '„ÅÇ„Çä„Åæ„Åõ„Çì',
          ba: '„ÅÇ„Çå„Å∞'
        };
        if (aruMap[form.key]) return aruMap[form.key];
        // Fall through to regular godan handling for other forms
      }
      
      const stem = verb.hiragana.slice(0, -1);
      const last = verb.hiragana.slice(-1);
      
      if (verb.type === 'suru') {
        const map = { 
          negative: '„Åó„Å™„ÅÑ', 
          masu: '„Åó„Åæ„Åô', 
          past: '„Åó„Åü', 
          tai: '„Åó„Åü„ÅÑ', 
          potential: '„Åß„Åç„Çã', 
          volitional: '„Åó„Çà„ÅÜ',
          te: '„Åó„Å¶',
          masen: '„Åó„Åæ„Åõ„Çì',
          mashita: '„Åó„Åæ„Åó„Åü',
          nakatta: '„Åó„Å™„Åã„Å£„Åü',
          ba: '„Åô„Çå„Å∞',
          tara: '„Åó„Åü„Çâ',
          passive: '„Åï„Çå„Çã',
          causative: '„Åï„Åõ„Çã',
          'causative-passive': '„Åï„Åõ„Çâ„Çå„Çã',
          imperative: '„Åó„Çç'
        };
        return verb.hiragana.replace('„Åô„Çã', map[form.key]);
      } else if (verb.type === 'godan') {
        const u = ['„Åè', '„Åê', '„Åô', '„Å§', '„Å¨', '„Å∂', '„ÇÄ', '„Çã', '„ÅÜ'];
        const a = ['„Åã', '„Åå', '„Åï', '„Åü', '„Å™', '„Å∞', '„Åæ', '„Çâ', '„Çè'];
        const i = ['„Åç', '„Åé', '„Åó', '„Å°', '„Å´', '„Å≥', '„Åø', '„Çä', '„ÅÑ'];
        const e = ['„Åë', '„Åí', '„Åõ', '„Å¶', '„Å≠', '„Åπ', '„ÇÅ', '„Çå', '„Åà'];
        const o = ['„Åì', '„Åî', '„Åù', '„Å®', '„ÅÆ', '„Åº', '„ÇÇ', '„Çç', '„Åä'];
        const idx = u.indexOf(last);
        
        if (form.key === 'negative') return stem + a[idx] + '„Å™„ÅÑ';
        if (form.key === 'masu') return stem + i[idx] + '„Åæ„Åô';
        if (form.key === 'tai') return stem + i[idx] + '„Åü„ÅÑ';
        if (form.key === 'potential') return stem + e[idx] + '„Çã';
        if (form.key === 'volitional') return stem + o[idx] + '„ÅÜ';
        if (form.key === 'masen') return stem + i[idx] + '„Åæ„Åõ„Çì';
        if (form.key === 'mashita') return stem + i[idx] + '„Åæ„Åó„Åü';
        if (form.key === 'nakatta') return stem + a[idx] + '„Å™„Åã„Å£„Åü';
        if (form.key === 'ba') return stem + e[idx] + '„Å∞';
        if (form.key === 'passive') return stem + a[idx] + '„Çå„Çã';
        if (form.key === 'causative') return stem + a[idx] + '„Åõ„Çã';
        if (form.key === 'causative-passive') return stem + a[idx] + '„Åõ„Çâ„Çå„Çã';
        if (form.key === 'imperative') return stem + e[idx];
        
        // Te-form uses same sound changes as past
        if (form.key === 'te') {
          if (last === '„Åè') return stem + '„ÅÑ„Å¶';
          if (last === '„Åê') return stem + '„ÅÑ„Åß';
          if (last === '„Åô') return stem + '„Åó„Å¶';
          if (['„Å§', '„Çã', '„ÅÜ'].includes(last)) return stem + '„Å£„Å¶';
          if (['„ÇÄ', '„Å∂', '„Å¨'].includes(last)) return stem + '„Çì„Åß';
        }
        
        // Tara is past + „Çâ
        if (form.key === 'tara') {
          if (last === '„Åè') return stem + '„ÅÑ„Åü„Çâ';
          if (last === '„Åê') return stem + '„ÅÑ„Å†„Çâ';
          if (last === '„Åô') return stem + '„Åó„Åü„Çâ';
          if (['„Å§', '„Çã', '„ÅÜ'].includes(last)) return stem + '„Å£„Åü„Çâ';
          if (['„ÇÄ', '„Å∂', '„Å¨'].includes(last)) return stem + '„Çì„Å†„Çâ';
        }
        
        // Past form
        if (form.key === 'past') {
          if (last === '„Åè') return stem + '„ÅÑ„Åü';
          if (last === '„Åê') return stem + '„ÅÑ„Å†';
          if (last === '„Åô') return stem + '„Åó„Åü';
          if (['„Å§', '„Çã', '„ÅÜ'].includes(last)) return stem + '„Å£„Åü';
          if (['„ÇÄ', '„Å∂', '„Å¨'].includes(last)) return stem + '„Çì„Å†';
        }
      } else {
        // Ichidan
        const map = { 
          negative: '„Å™„ÅÑ', 
          masu: '„Åæ„Åô', 
          past: '„Åü', 
          tai: '„Åü„ÅÑ', 
          potential: '„Çâ„Çå„Çã', 
          volitional: '„Çà„ÅÜ',
          te: '„Å¶',
          masen: '„Åæ„Åõ„Çì',
          mashita: '„Åæ„Åó„Åü',
          nakatta: '„Å™„Åã„Å£„Åü',
          ba: '„Çå„Å∞',
          tara: '„Åü„Çâ',
          passive: '„Çâ„Çå„Çã',
          causative: '„Åï„Åõ„Çã',
          'causative-passive': '„Åï„Åõ„Çâ„Çå„Çã',
          imperative: '„Çç'
        };
        return stem + map[form.key];
      }
      return verb.hiragana;
    }

    function generateNewQuestion() {
      currentVerb = getRandomVerb();
      currentPrompt = currentVerb.template;
      showAnswer = false;
      firstAttempt = true;
      hintVisible = false;
      typeIdentificationAnswer = null;
      
      // 25% chance to do verb type identification quiz
      isTypeIdentificationQuiz = Math.random() < 0.25;
      
      if (isTypeIdentificationQuiz) {
        // Hide verb type, ask them to identify it
        document.getElementById('verb-type').style.display = 'none';
        document.getElementById('prompt-form').innerHTML = 'What type of verb is this?<br><span style="font-size: 0.85rem; font-weight: 400; color: var(--text-light); margin-top: 0.5rem; display: block; line-height: 1.8;">Enter: <strong>godan</strong> / „Åî„Å†„Çì / ‰∫îÊÆµ<br>or <strong>ichidan</strong> / „ÅÑ„Å°„Å†„Çì / ‰∏ÄÊÆµ<br>or <strong>suru</strong> / „Åô„Çã</span>';
      } else {
        // Normal conjugation mode
        document.getElementById('verb-type').style.display = 'block';
        document.getElementById('verb-type').textContent = 
          currentVerb.type === 'godan' ? 'Godan Verb' : 
          currentVerb.type === 'ichidan' ? 'Ichidan Verb' : 
          currentVerb.type === 'irregular' ? 'Irregular Verb' : 'Suru Verb';
        
        // Generate the prompt text with replacements
        let promptText = currentPrompt.text.replace('{meaning}', currentVerb.meaning.replace('to ', ''));
        document.getElementById('prompt-form').innerHTML = promptText;
      }
      
      // Update display
      document.getElementById('verb-kanji').textContent = currentVerb.kanji;
      document.getElementById('verb-hiragana').textContent = currentVerb.hiragana;
      document.getElementById('verb-meaning').textContent = currentVerb.meaning;
      
      // Reset UI
      document.getElementById('answer-input').value = '';
      document.getElementById('answer-input').disabled = false;
      document.getElementById('hint-box').classList.remove('visible');
      document.getElementById('hint-btn-text').textContent = 'üí° Show hint';
      document.getElementById('feedback-warning').classList.remove('visible');
      document.getElementById('feedback-result').classList.remove('visible', 'correct', 'incorrect');
      document.getElementById('feedback-result').style.background = '';
      document.getElementById('feedback-result').style.borderLeftColor = '';
      document.getElementById('check-btn').style.display = 'block';
      document.getElementById('check-btn').disabled = true;
      document.getElementById('skip-btn').style.display = 'block';
      document.getElementById('next-btn').style.display = 'none';
      
      document.getElementById('answer-input').focus();
    }

    function toggleHint() {
      hintVisible = !hintVisible;
      document.getElementById('hint-box').classList.toggle('visible', hintVisible);
      document.getElementById('hint-btn-text').textContent = hintVisible ? 'üôà Hide hint' : 'üí° Show hint';
      
      if (hintVisible) {
        document.getElementById('hint-content').innerHTML = getDetailedHint();
      }
    }
    
    function getDetailedHint() {
      // For type identification quiz
      if (isTypeIdentificationQuiz) {
        return `
          <div>Look at how the verb ends:</div>
          <div class="hint-rule">
            <strong>Godan:</strong> ends in „ÅÜ-row sound („ÅÜ„ÄÅ„Åè„ÄÅ„Åô„ÄÅ„Å§„ÄÅ„ÇÄ„ÄÅ„Çã...)<br>
            <strong>Ichidan:</strong> ends in „Åà„Çã or „ÅÑ„Çã<br>
            <strong>„Åô„Çã:</strong> noun + „Åô„Çã
          </div>
          <div class="hint-example">
            ‚ö†Ô∏è Tricky: Some „Çã verbs are Godan (Â∏∞„Çã„ÄÅËµ∞„Çã) ‚Äî check what comes before „Çã!
          </div>
        `;
      }
      
      const verb = currentVerb;
      const form = currentVerb.form.key;
      const type = verb.type;
      
      // Get conjugation info
      const stem = verb.hiragana.slice(0, -1);
      const lastChar = verb.hiragana.slice(-1);
      
      // Vowel rows for godan
      const uRow = ['„ÅÜ', '„Åè', '„Åê', '„Åô', '„Å§', '„Å¨', '„Å∂', '„ÇÄ', '„Çã'];
      const aRow = ['„Çè', '„Åã', '„Åå', '„Åï', '„Åü', '„Å™', '„Å∞', '„Åæ', '„Çâ'];
      const iRow = ['„ÅÑ', '„Åç', '„Åé', '„Åó', '„Å°', '„Å´', '„Å≥', '„Åø', '„Çä'];
      const eRow = ['„Åà', '„Åë', '„Åí', '„Åõ', '„Å¶', '„Å≠', '„Åπ', '„ÇÅ', '„Çå'];
      const oRow = ['„Åä', '„Åì', '„Åî', '„Åù', '„Å®', '„ÅÆ', '„Åº', '„ÇÇ', '„Çç'];
      const idx = uRow.indexOf(lastChar);
      
      // Example verbs for each type
      const examples = {
        godan: { kanji: 'Êõ∏„Åè', stem: '„Åã', lastChar: '„Åè' },
        ichidan: { kanji: 'È£ü„Åπ„Çã', stem: '„Åü„Åπ' },
        suru: { kanji: 'ÂãâÂº∑„Åô„Çã', stem: '„Åπ„Çì„Åç„Çá„ÅÜ' },
        irregular: { kanji: 'Êù•„Çã', stem: '„Åè/„Åç/„Åì' }
      };
      
      let rule = '';
      let example = '';
      
      if (type === 'godan') {
        const exIdx = uRow.indexOf('„Åè'); // Êõ∏„Åè ends in „Åè
        
        if (form === 'negative' || form === 'passive' || form === 'causative') {
          rule = `<strong>${lastChar}</strong> ‚Üí <strong>${aRow[idx]}</strong> („ÅÇ-row) + ${form === 'negative' ? '„Å™„ÅÑ' : form === 'passive' ? '„Çå„Çã' : '„Åõ„Çã'}`;
          example = `Êõ∏„Åè ‚Üí Êõ∏<strong>${aRow[exIdx]}</strong>${form === 'negative' ? '„Å™„ÅÑ' : form === 'passive' ? '„Çå„Çã' : '„Åõ„Çã'}`;
        } else if (form === 'masu' || form === 'masen' || form === 'mashita' || form === 'tai') {
          const ending = form === 'masu' ? '„Åæ„Åô' : form === 'masen' ? '„Åæ„Åõ„Çì' : form === 'mashita' ? '„Åæ„Åó„Åü' : '„Åü„ÅÑ';
          rule = `<strong>${lastChar}</strong> ‚Üí <strong>${iRow[idx]}</strong> („ÅÑ-row) + ${ending}`;
          example = `Êõ∏„Åè ‚Üí Êõ∏<strong>${iRow[exIdx]}</strong>${ending}`;
        } else if (form === 'potential' || form === 'ba' || form === 'imperative') {
          const ending = form === 'potential' ? '„Çã' : form === 'ba' ? '„Å∞' : '';
          rule = `<strong>${lastChar}</strong> ‚Üí <strong>${eRow[idx]}</strong> („Åà-row)${ending ? ' + ' + ending : ''}`;
          example = `Êõ∏„Åè ‚Üí Êõ∏<strong>${eRow[exIdx]}</strong>${ending}`;
        } else if (form === 'volitional') {
          rule = `<strong>${lastChar}</strong> ‚Üí <strong>${oRow[idx]}</strong> („Åä-row) + „ÅÜ`;
          example = `Êõ∏„Åè ‚Üí Êõ∏<strong>${oRow[exIdx]}</strong>„ÅÜ`;
        } else if (form === 'past' || form === 'te' || form === 'tara') {
          const patterns = {
            '„Åè': form === 'te' ? '„ÅÑ„Å¶' : '„ÅÑ„Åü',
            '„Åê': form === 'te' ? '„ÅÑ„Åß' : '„ÅÑ„Å†',
            '„Åô': form === 'te' ? '„Åó„Å¶' : '„Åó„Åü',
            '„Å§': form === 'te' ? '„Å£„Å¶' : '„Å£„Åü',
            '„Çã': form === 'te' ? '„Å£„Å¶' : '„Å£„Åü',
            '„ÅÜ': form === 'te' ? '„Å£„Å¶' : '„Å£„Åü',
            '„ÇÄ': form === 'te' ? '„Çì„Åß' : '„Çì„Å†',
            '„Å∂': form === 'te' ? '„Çì„Åß' : '„Çì„Å†',
            '„Å¨': form === 'te' ? '„Çì„Åß' : '„Çì„Å†'
          };
          const patternEnd = patterns[lastChar] + (form === 'tara' ? '„Çâ' : '');
          rule = `<strong>${lastChar}</strong>-verbs ‚Üí <strong>${patternEnd}</strong>`;
          example = `Êõ∏„Åè ‚Üí Êõ∏<strong>${patterns['„Åè']}${form === 'tara' ? '„Çâ' : ''}</strong>`;
        } else if (form === 'nakatta') {
          rule = `<strong>${lastChar}</strong> ‚Üí <strong>${aRow[idx]}</strong>„Å™„Åã„Å£„Åü`;
          example = `Êõ∏„Åè ‚Üí Êõ∏<strong>${aRow[exIdx]}„Å™„Åã„Å£„Åü</strong>`;
        } else if (form === 'causative-passive') {
          rule = `<strong>${lastChar}</strong> ‚Üí <strong>${aRow[idx]}</strong> („ÅÇ-row) + „Åõ„Çâ„Çå„Çã`;
          example = `Êõ∏„Åè ‚Üí Êõ∏<strong>${aRow[exIdx]}</strong>„Åõ„Çâ„Çå„Çã`;
        }
      } else if (type === 'ichidan') {
        const endings = {
          'negative': '„Å™„ÅÑ', 'masu': '„Åæ„Åô', 'past': '„Åü', 'te': '„Å¶',
          'tai': '„Åü„ÅÑ', 'potential': '„Çâ„Çå„Çã', 'volitional': '„Çà„ÅÜ',
          'masen': '„Åæ„Åõ„Çì', 'mashita': '„Åæ„Åó„Åü', 'nakatta': '„Å™„Åã„Å£„Åü',
          'ba': '„Çå„Å∞', 'tara': '„Åü„Çâ', 'passive': '„Çâ„Çå„Çã',
          'causative': '„Åï„Åõ„Çã', 'causative-passive': '„Åï„Åõ„Çâ„Çå„Çã', 'imperative': '„Çç'
        };
        rule = `Drop <strong>„Çã</strong> ‚Üí add <strong>${endings[form]}</strong>`;
        example = `È£ü„Åπ„Çã ‚Üí È£ü„Åπ<strong>${endings[form]}</strong>`;
      } else if (type === 'suru') {
        const suruEndings = {
          'negative': '„Åó„Å™„ÅÑ', 'masu': '„Åó„Åæ„Åô', 'past': '„Åó„Åü', 'te': '„Åó„Å¶',
          'tai': '„Åó„Åü„ÅÑ', 'potential': '„Åß„Åç„Çã', 'volitional': '„Åó„Çà„ÅÜ',
          'masen': '„Åó„Åæ„Åõ„Çì', 'mashita': '„Åó„Åæ„Åó„Åü', 'nakatta': '„Åó„Å™„Åã„Å£„Åü',
          'ba': '„Åô„Çå„Å∞', 'tara': '„Åó„Åü„Çâ', 'passive': '„Åï„Çå„Çã',
          'causative': '„Åï„Åõ„Çã', 'causative-passive': '„Åï„Åõ„Çâ„Çå„Çã', 'imperative': '„Åó„Çç'
        };
        rule = `„Åô„Çã ‚Üí <strong>${suruEndings[form]}</strong>`;
        example = `ÂãâÂº∑„Åô„Çã ‚Üí ÂãâÂº∑<strong>${suruEndings[form]}</strong>`;
        if (form === 'potential') {
          rule += ` <span style="color: var(--accent);">(special!)</span>`;
        }
      } else if (type === 'irregular') {
        const kuruForms = {
          'negative': '„Åì„Å™„ÅÑ', 'masu': '„Åç„Åæ„Åô', 'past': '„Åç„Åü', 'te': '„Åç„Å¶',
          'tai': '„Åç„Åü„ÅÑ', 'potential': '„Åì„Çâ„Çå„Çã', 'volitional': '„Åì„Çà„ÅÜ',
          'masen': '„Åç„Åæ„Åõ„Çì', 'mashita': '„Åç„Åæ„Åó„Åü', 'nakatta': '„Åì„Å™„Åã„Å£„Åü',
          'ba': '„Åè„Çå„Å∞', 'tara': '„Åç„Åü„Çâ', 'passive': '„Åì„Çâ„Çå„Çã',
          'causative': '„Åì„Åï„Åõ„Çã', 'causative-passive': '„Åì„Åï„Åõ„Çâ„Çå„Çã', 'imperative': '„Åì„ÅÑ'
        };
        const stemUsed = kuruForms[form].charAt(0);
        rule = `Êù•„Çã stem becomes <strong>${stemUsed}</strong> for this form`;
        example = `Êù•„Çã ‚Üí <strong>${kuruForms[form]}</strong>`;
      }
      
      return `
        <div class="hint-rule">${rule}</div>
        <div class="hint-example">Example: ${example}</div>
      `;
    }

    function checkAnswer() {
      const userAnswer = document.getElementById('answer-input').value.trim();
      
      // Don't process empty answers (unless in continue/next mode)
      if (userAnswer === '' && !showAnswer) {
        return;
      }
      
      // Check if we're in "continue" mode after correct verb type identification
      if (showAnswer && typeIdentificationAnswer && !isTypeIdentificationQuiz) {
        // Transition to conjugation mode
        document.getElementById('verb-type').style.display = 'block';
        document.getElementById('verb-type').textContent = 
          currentVerb.type === 'godan' ? 'Godan Verb' : 
          currentVerb.type === 'ichidan' ? 'Ichidan Verb' : 
          currentVerb.type === 'irregular' ? 'Irregular Verb' : 'Suru Verb';
        
        let promptText = currentPrompt.text.replace('{meaning}', currentVerb.meaning.replace('to ', ''));
        document.getElementById('prompt-form').innerHTML = promptText;
        
        // Reset UI for conjugation
        document.getElementById('answer-input').value = '';
        document.getElementById('answer-input').disabled = false;
        document.getElementById('feedback-result').classList.remove('visible');
        document.getElementById('check-btn').textContent = 'Check Answer';
        document.getElementById('check-btn').classList.remove('continue');
        document.getElementById('check-btn').classList.add('primary');
        document.getElementById('check-btn').disabled = true;
        
        // Reset state
        showAnswer = false;
        firstAttempt = true;
        typeIdentificationAnswer = null;
        
        document.getElementById('answer-input').focus();
        return;
      }
      
      if (isTypeIdentificationQuiz) {
        // ===== VERB TYPE IDENTIFICATION MODE =====
        const correctType = currentVerb.type;
        const isCorrect = checkVerbType(userAnswer, correctType);
        
        if (isCorrect) {
          // Correct! Show success and change button to continue
          typeIdentificationAnswer = correctType;
          
          // Show success message
          const feedbackResult = document.getElementById('feedback-result');
          feedbackResult.classList.add('visible', 'correct');
          document.getElementById('feedback-title').textContent = '‚úì Correct!';
          document.getElementById('feedback-answer').innerHTML = `This is a <strong>${correctType}</strong> verb.`;
          
          let typeExplanation = '';
          if (correctType === 'godan') {
            typeExplanation = 'Godan verbs conjugate by shifting through the five vowel rows („ÅÇ„ÄÅ„ÅÑ„ÄÅ„ÅÜ„ÄÅ„Åà„ÄÅ„Åä).';
          } else if (correctType === 'ichidan') {
            typeExplanation = 'Ichidan verbs have a stem that never changes‚Äîjust drop „Çã and add endings.';
          } else {
            typeExplanation = 'Suru verbs are formed by adding „Åô„Çã to a noun and have irregular conjugations.';
          }
          
          document.getElementById('feedback-explanation').innerHTML = typeExplanation + '<br><br><strong>Click "Continue" when ready to conjugate this verb.</strong>';
          document.getElementById('feedback-explanation').style.display = 'block';
          
          // Disable input and change button to "Continue"
          document.getElementById('answer-input').disabled = true;
          document.getElementById('check-btn').textContent = 'Continue ‚Üí';
          document.getElementById('check-btn').classList.remove('primary');
          document.getElementById('check-btn').classList.add('continue');
          document.getElementById('check-btn').disabled = false;
          
          // Mark that we're waiting for continuation
          isTypeIdentificationQuiz = false;
          showAnswer = true; // Reuse this flag to indicate we're in "continue" state
        } else {
          // Wrong type identification - this counts as a mistake!
          stats.total++;
          document.getElementById('score-total').textContent = stats.total;
          saveStats(); // Persist to localStorage
          
          // Log this mistake for the report
          const typeNames = {
            godan: '‰∫îÊÆµ',
            ichidan: '‰∏ÄÊÆµ',
            suru: '„Åô„Çã',
            irregular: '‰∏çË¶èÂâá'
          };
          logMistake(
            currentVerb,
            'type-identification',
            userAnswer,
            `${correctType} (${typeNames[correctType]})`
          );
          
          showAnswer = true;
          document.getElementById('answer-input').disabled = true;
          
          const feedbackResult = document.getElementById('feedback-result');
          feedbackResult.classList.add('visible');
          feedbackResult.classList.remove('correct');
          document.getElementById('feedback-title').textContent = '‚úó Incorrect';
          document.getElementById('feedback-answer').innerHTML = `This is a <strong>${correctType}</strong> verb, not ${userAnswer}.`;
          
          // Generate detailed explanation
          let explanation = '';
          if (correctType === 'godan') {
            explanation = `<strong>Godan (‰∫îÊÆµ) verbs</strong> end in one of nine „ÅÜ-sound syllables: „Åè„ÄÅ„Åê„ÄÅ„Åô„ÄÅ„Å§„ÄÅ„Å¨„ÄÅ„Å∂„ÄÅ„ÇÄ„ÄÅ„Çã„ÄÅor „ÅÜ. ` +
                         `${currentVerb.kanji} ends in "${currentVerb.hiragana.slice(-1)}", which is one of these endings. ` +
                         `They're called "five-step" verbs because they conjugate by moving through the five vowel rows („ÅÇ„ÄÅ„ÅÑ„ÄÅ„ÅÜ„ÄÅ„Åà„ÄÅ„Åä). ` +
                         `<br><br><strong>Watch out:</strong> Some verbs ending in „Çã are godan, not ichidan (like Ëµ∞„Çã, Â∏∞„Çã, Áü•„Çã).`;
          } else if (correctType === 'ichidan') {
            explanation = `<strong>Ichidan (‰∏ÄÊÆµ) verbs</strong> typically end in -eru („Åà„Çã) or -iru („ÅÑ„Çã) sounds. ` +
                         `${currentVerb.kanji} (${currentVerb.hiragana}) follows this pattern. ` +
                         `They're called "one-step" verbs because the stem never changes‚Äîyou just drop „Çã and add endings. ` +
                         `<br><br><strong>Note:</strong> Not all verbs ending in -eru/-iru are ichidan (there are exceptions like Â∏∞„Çã„ÄÅËµ∞„Çã).`;
          } else {
            explanation = `<strong>Suru („Åô„Çã) verbs</strong> are formed by adding „Åô„Çã to a noun. ` +
                         `${currentVerb.kanji} is "${currentVerb.meaning}" = [noun] + „Åô„Çã. ` +
                         `These are irregular verbs with their own conjugation patterns. ` +
                         `Common examples: ÂãâÂº∑„Åô„Çã (to study), ‰ªï‰∫ã„Åô„Çã (to work), ÊñôÁêÜ„Åô„Çã (to cook).`;
          }
          
          document.getElementById('feedback-explanation').innerHTML = explanation;
          document.getElementById('feedback-explanation').style.display = 'block';
          
          document.getElementById('check-btn').style.display = 'none';
          document.getElementById('skip-btn').style.display = 'none';
          document.getElementById('next-btn').style.display = 'block';
        }
        
        return;
      }
      
      // ===== NORMAL CONJUGATION MODE =====
      
      // Check if user wrote in romaji instead of hiragana
      if (isRomaji(userAnswer)) {
        // Show a helpful reminder
        const feedbackResult = document.getElementById('feedback-result');
        feedbackResult.classList.add('visible');
        feedbackResult.classList.remove('correct');
        document.getElementById('feedback-title').textContent = '‚ö†Ô∏è Use Hiragana';
        document.getElementById('feedback-answer').innerHTML = `Please type your answer in <strong>hiragana</strong> („Å≤„Çâ„Åå„Å™), not romaji.`;
        
        const explanation = `<strong>Tip:</strong> If you don't have a Japanese keyboard enabled, you can:<br>
                             ‚Ä¢ <strong>Windows:</strong> Press Windows + Space to switch keyboards, or install Japanese IME from Settings<br>
                             ‚Ä¢ <strong>Mac:</strong> Go to System Preferences ‚Üí Keyboard ‚Üí Input Sources ‚Üí Add Japanese<br>
                             ‚Ä¢ <strong>Mobile:</strong> Add Japanese keyboard in your device settings<br><br>
                             Once enabled, you can type in romaji and it will convert to hiragana automatically!`;
        
        document.getElementById('feedback-explanation').innerHTML = explanation;
        document.getElementById('feedback-explanation').style.display = 'block';
        
        return; // Don't check the answer
      }
      
      const correctAnswer = conjugateVerb(currentVerb, currentVerb.form);
      const isCorrect = userAnswer.toLowerCase() === correctAnswer;
      const failureKey = `${currentVerb.type}-${currentVerb.form.key}`;
      
      if (isCorrect) {
        // Correct answer!
        stats.total++;
        stats.correct++;
        document.getElementById('score-correct').textContent = stats.correct;
        document.getElementById('score-total').textContent = stats.total;
        saveStats(); // Persist to localStorage
        
        // Update report button availability
        updateReportButton();
        
        // Reset failure tracking for this type-form combo
        failureTracking[failureKey] = 0;
        
        showAnswer = true;
        document.getElementById('answer-input').disabled = true;
        document.getElementById('feedback-warning').classList.remove('visible');
        
        const feedbackResult = document.getElementById('feedback-result');
        feedbackResult.classList.add('visible', 'correct');
        document.getElementById('feedback-title').textContent = '‚úì Correct!';
        document.getElementById('feedback-answer').textContent = correctAnswer;
        document.getElementById('feedback-explanation').innerHTML = '';
        document.getElementById('feedback-explanation').style.display = 'none';
        
        document.getElementById('check-btn').style.display = 'none';
        document.getElementById('skip-btn').style.display = 'none';
        document.getElementById('next-btn').style.display = 'block';
      } else {
        // Wrong answer - check if it's in the ballpark
        const inBallpark = isAnswerInBallpark(userAnswer, correctAnswer);
        
        if (inBallpark && firstAttempt) {
          // Close enough - give them another try
          firstAttempt = false;
          document.getElementById('answer-input').value = '';
          document.getElementById('feedback-warning').classList.add('visible');
          document.getElementById('answer-input').focus();
        } else {
          // Either not in ballpark, or second attempt - mark as wrong
          stats.total++;
          document.getElementById('score-correct').textContent = stats.correct;
          document.getElementById('score-total').textContent = stats.total;
          saveStats(); // Persist to localStorage
          
          // Log this mistake for the report
          logMistake(currentVerb, currentVerb.form.key, userAnswer, correctAnswer);
          
          // Track consecutive failures
          failureTracking[failureKey] = (failureTracking[failureKey] || 0) + 1;
          const consecutiveFailures = failureTracking[failureKey];
          
          showAnswer = true;
          document.getElementById('answer-input').disabled = true;
          document.getElementById('feedback-warning').classList.remove('visible');
          
          const feedbackResult = document.getElementById('feedback-result');
          feedbackResult.classList.add('visible', 'incorrect');
          document.getElementById('feedback-title').textContent = '‚úó Incorrect';
          document.getElementById('feedback-answer').textContent = correctAnswer;
          
          // Generate explanation
          let explanation = getErrorExplanation(userAnswer, correctAnswer, currentVerb, currentVerb.form);
          
          // After 2-3 failures, show a worked example
          if (consecutiveFailures >= 2 && Math.random() < 0.7) { // 70% chance after 2+ failures
            explanation += generateWorkedExample(currentVerb, currentVerb.form);
          }
          
          const explanationEl = document.getElementById('feedback-explanation');
          explanationEl.innerHTML = explanation;
          explanationEl.style.display = 'block';
          
          document.getElementById('check-btn').style.display = 'none';
          document.getElementById('skip-btn').style.display = 'none';
          document.getElementById('next-btn').style.display = 'block';
        }
      }
    }

    function handleKeyPress(event) {
      if (event.key === 'Enter' && !showAnswer) {
        const input = document.getElementById('answer-input').value.trim();
        if (input === '') return; // Don't submit empty answers
        checkAnswer();
      }
    }
    
    function skipQuestion() {
      // Track skipped questions
      stats.skipped++;
      
      // Get correct answer - check if this is a type identification quiz
      let correctAnswer;
      if (isTypeIdentificationQuiz) {
        correctAnswer = currentVerb.type;
      } else {
        correctAnswer = conjugateVerb(currentVerb, currentVerb.form);
      }
      
      // Show feedback (no penalty - doesn't count as wrong)
      const feedbackResult = document.getElementById('feedback-result');
      feedbackResult.classList.remove('correct', 'incorrect');
      feedbackResult.classList.add('visible');
      feedbackResult.style.background = 'linear-gradient(135deg, #fff8e1 0%, #fffde7 100%)';
      feedbackResult.style.borderLeftColor = '#f9a825';
      
      document.getElementById('feedback-title').textContent = '‚è≠Ô∏è Skipped';
      document.getElementById('feedback-answer').textContent = correctAnswer;
      document.getElementById('feedback-explanation').innerHTML = 
        `<div style="color: var(--text-light); margin-top: 0.5rem;">` +
        `No penalty ‚Äî review the answer and try similar questions to build confidence!</div>`;
      document.getElementById('feedback-explanation').style.display = 'block';
      
      // Disable input
      document.getElementById('answer-input').disabled = true;
      
      // Switch buttons
      document.getElementById('check-btn').style.display = 'none';
      document.getElementById('skip-btn').style.display = 'none';
      document.getElementById('next-btn').style.display = 'block';
      
      showAnswer = true;
    }

    // Enable/disable check button based on input
    document.getElementById('answer-input').addEventListener('input', function() {
      document.getElementById('check-btn').disabled = this.value.trim() === '';
    });

    // ============ VERB LIST FUNCTIONS ============
    function showVerbList(type) {
      // Update tab buttons
      document.querySelectorAll('.verb-list-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      document.getElementById('verb-tab-' + type).classList.add('active');
      
      // Update content
      document.querySelectorAll('.verb-list-content').forEach(content => {
        content.classList.remove('active');
      });
      document.getElementById('verb-list-' + type).classList.add('active');
      
      // Show/hide irregular explanation
      const irregularExplanation = document.getElementById('irregular-explanation');
      if (irregularExplanation) {
        irregularExplanation.style.display = (type === 'irregular') ? 'block' : 'none';
      }
    }

    // JLPT badge colors
    const jlptColors = {
      'N5': { bg: '#dcfce7', text: '#16a34a', border: '#22c55e' },
      'N4': { bg: '#fef3c7', text: '#d97706', border: '#f59e0b' },
      'N3': { bg: '#fee2e2', text: '#dc2626', border: '#ef4444' }
    };

    // Current filter state
    let currentJLPTFilter = 'all';
    let currentSearchTerm = '';

    function createVerbCard(verb) {
      const colors = jlptColors[verb.jlpt];
      return `
        <div class="verb-kanji jp">${verb.kanji}</div>
        <div class="verb-reading">${verb.hiragana} (${verb.romaji})</div>
        <div class="verb-meaning">${verb.meaning}</div>
        <div class="jlpt-badge" style="position: absolute; top: 0.75rem; right: 0.75rem; padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.7rem; font-weight: 700; background: ${colors.bg}; color: ${colors.text}; border: 1px solid ${colors.border};">${verb.jlpt}</div>
      `;
    }

    function populateVerbLists() {
      const types = ['godan', 'ichidan', 'suru', 'irregular'];
      
      types.forEach(type => {
        const container = document.getElementById('verb-list-' + type);
        container.innerHTML = '';
        
        verbs[type].forEach(verb => {
          const verbItem = document.createElement('div');
          verbItem.className = 'verb-item';
          verbItem.setAttribute('data-jlpt', verb.jlpt);
          verbItem.setAttribute('data-kanji', verb.kanji);
          verbItem.setAttribute('data-hiragana', verb.hiragana);
          verbItem.setAttribute('data-romaji', verb.romaji);
          verbItem.setAttribute('data-meaning', verb.meaning);
          verbItem.innerHTML = createVerbCard(verb);
          container.appendChild(verbItem);
        });
      });
    }

    function filterVerbs() {
      currentSearchTerm = document.getElementById('verb-search').value.toLowerCase().trim();
      applyFilters();
    }

    function filterByJLPT(level) {
      currentJLPTFilter = level;
      
      // Update button styles
      document.querySelectorAll('.jlpt-filter-btn').forEach(btn => {
        btn.classList.remove('active');
        const btnLevel = btn.id.replace('jlpt-filter-', '');
        if (btnLevel === 'all') {
          btn.style.background = 'white';
          btn.style.color = 'var(--ink)';
        } else {
          const colors = jlptColors[btnLevel];
          btn.style.background = 'white';
          btn.style.color = colors.border;
        }
      });
      
      const activeBtn = document.getElementById('jlpt-filter-' + level);
      activeBtn.classList.add('active');
      if (level === 'all') {
        activeBtn.style.background = 'var(--ink)';
        activeBtn.style.color = 'white';
      } else {
        const colors = jlptColors[level];
        activeBtn.style.background = colors.border;
        activeBtn.style.color = 'white';
      }
      
      applyFilters();
    }

    function applyFilters() {
      let totalVisible = 0;
      
      document.querySelectorAll('.verb-item').forEach(item => {
        const jlpt = item.getAttribute('data-jlpt');
        const kanji = item.getAttribute('data-kanji').toLowerCase();
        const hiragana = item.getAttribute('data-hiragana').toLowerCase();
        const romaji = item.getAttribute('data-romaji').toLowerCase();
        const meaning = item.getAttribute('data-meaning').toLowerCase();
        
        // Check JLPT filter
        const passesJLPT = currentJLPTFilter === 'all' || jlpt === currentJLPTFilter;
        
        // Check search filter
        const passesSearch = currentSearchTerm === '' || 
          kanji.includes(currentSearchTerm) ||
          hiragana.includes(currentSearchTerm) ||
          romaji.includes(currentSearchTerm) ||
          meaning.includes(currentSearchTerm);
        
        if (passesJLPT && passesSearch) {
          item.style.display = '';
          totalVisible++;
        } else {
          item.style.display = 'none';
        }
      });
      
      // Update results count
      const countEl = document.getElementById('search-results-count');
      if (currentSearchTerm || currentJLPTFilter !== 'all') {
        countEl.style.display = 'block';
        countEl.textContent = `Showing ${totalVisible} verb${totalVisible !== 1 ? 's' : ''}`;
      } else {
        countEl.style.display = 'none';
      }
    }

    function showToast(message, type) {
      var toast = document.getElementById('toast');
      toast.textContent = message;
      toast.className = 'toast ' + (type || '');
      toast.classList.add('visible');
      setTimeout(function() {
        toast.classList.remove('visible');
      }, 2000);
    }
    
    function resetScoreNow() {
      if (stats.total === 0) {
        showToast('Nothing to reset!', 'warning');
        return;
      }
      // Reset the stats
      stats = { correct: 0, total: 0, skipped: 0 };
      mistakeLog = [];
      saveStats();
      updateScoreDisplay();
      updateReportButton();
      showToast('‚úì Score reset!', 'success');
    }

    // ============ DATE DOJO SYSTEM ============
    var dojoData = {
      dates: {
        1: '„Å§„ÅÑ„Åü„Å°', 2: '„Åµ„Å§„Åã', 3: '„Åø„Å£„Åã', 4: '„Çà„Å£„Åã', 5: '„ÅÑ„Å§„Åã',
        6: '„ÇÄ„ÅÑ„Åã', 7: '„Å™„ÅÆ„Åã', 8: '„Çà„ÅÜ„Åã', 9: '„Åì„Åì„ÅÆ„Åã', 10: '„Å®„Åä„Åã',
        11: '„Åò„ÇÖ„ÅÜ„ÅÑ„Å°„Å´„Å°', 12: '„Åò„ÇÖ„ÅÜ„Å´„Å´„Å°', 13: '„Åò„ÇÖ„ÅÜ„Åï„Çì„Å´„Å°', 
        14: '„Åò„ÇÖ„ÅÜ„Çà„Å£„Åã', 15: '„Åò„ÇÖ„ÅÜ„Åî„Å´„Å°', 16: '„Åò„ÇÖ„ÅÜ„Çç„Åè„Å´„Å°',
        17: '„Åò„ÇÖ„ÅÜ„Å™„Å™„Å´„Å°', 18: '„Åò„ÇÖ„ÅÜ„ÅØ„Å°„Å´„Å°', 19: '„Åò„ÇÖ„ÅÜ„Åè„Å´„Å°', 
        20: '„ÅØ„Å§„Åã', 21: '„Å´„Åò„ÇÖ„ÅÜ„ÅÑ„Å°„Å´„Å°', 22: '„Å´„Åò„ÇÖ„ÅÜ„Å´„Å´„Å°',
        23: '„Å´„Åò„ÇÖ„ÅÜ„Åï„Çì„Å´„Å°', 24: '„Å´„Åò„ÇÖ„ÅÜ„Çà„Å£„Åã', 25: '„Å´„Åò„ÇÖ„ÅÜ„Åî„Å´„Å°',
        26: '„Å´„Åò„ÇÖ„ÅÜ„Çç„Åè„Å´„Å°', 27: '„Å´„Åò„ÇÖ„ÅÜ„Å™„Å™„Å´„Å°', 28: '„Å´„Åò„ÇÖ„ÅÜ„ÅØ„Å°„Å´„Å°',
        29: '„Å´„Åò„ÇÖ„ÅÜ„Åè„Å´„Å°', 30: '„Åï„Çì„Åò„ÇÖ„ÅÜ„Å´„Å°', 31: '„Åï„Çì„Åò„ÇÖ„ÅÜ„ÅÑ„Å°„Å´„Å°'
      },
      months: {
        1: '„ÅÑ„Å°„Åå„Å§', 2: '„Å´„Åå„Å§', 3: '„Åï„Çì„Åå„Å§', 4: '„Åó„Åå„Å§',
        5: '„Åî„Åå„Å§', 6: '„Çç„Åè„Åå„Å§', 7: '„Åó„Å°„Åå„Å§', 8: '„ÅØ„Å°„Åå„Å§',
        9: '„Åè„Åå„Å§', 10: '„Åò„ÇÖ„ÅÜ„Åå„Å§', 11: '„Åò„ÇÖ„ÅÜ„ÅÑ„Å°„Åå„Å§', 12: '„Åò„ÇÖ„ÅÜ„Å´„Åå„Å§'
      },
      weekdays: {
        0: { jp: '„Å´„Å°„Çà„ÅÜ„Å≥', kanji: 'Êó•ÊõúÊó•', en: 'Sunday', short: '„Å´„Å°' },
        1: { jp: '„Åí„Å§„Çà„ÅÜ„Å≥', kanji: 'ÊúàÊõúÊó•', en: 'Monday', short: '„Åí„Å§' },
        2: { jp: '„Åã„Çà„ÅÜ„Å≥', kanji: 'ÁÅ´ÊõúÊó•', en: 'Tuesday', short: '„Åã' },
        3: { jp: '„Åô„ÅÑ„Çà„ÅÜ„Å≥', kanji: 'Ê∞¥ÊõúÊó•', en: 'Wednesday', short: '„Åô„ÅÑ' },
        4: { jp: '„ÇÇ„Åè„Çà„ÅÜ„Å≥', kanji: 'Êú®ÊõúÊó•', en: 'Thursday', short: '„ÇÇ„Åè' },
        5: { jp: '„Åç„Çì„Çà„ÅÜ„Å≥', kanji: 'ÈáëÊõúÊó•', en: 'Friday', short: '„Åç„Çì' },
        6: { jp: '„Å©„Çà„ÅÜ„Å≥', kanji: 'ÂúüÊõúÊó•', en: 'Saturday', short: '„Å©' }
      },
      relative: { '-2': '„Åä„Å®„Å®„ÅÑ', '-1': '„Åç„ÅÆ„ÅÜ', '0': '„Åç„Çá„ÅÜ', '1': '„ÅÇ„Åó„Åü', '2': '„ÅÇ„Åï„Å£„Å¶', '3': '„Åó„ÅÇ„Åï„Å£„Å¶' },
      numbers: {
        100: '„Å≤„ÇÉ„Åè', 200: '„Å´„Å≤„ÇÉ„Åè', 300: '„Åï„Çì„Å≥„ÇÉ„Åè', 400: '„Çà„Çì„Å≤„ÇÉ„Åè',
        500: '„Åî„Å≤„ÇÉ„Åè', 600: '„Çç„Å£„Å¥„ÇÉ„Åè', 700: '„Å™„Å™„Å≤„ÇÉ„Åè', 800: '„ÅØ„Å£„Å¥„ÇÉ„Åè',
        900: '„Åç„ÇÖ„ÅÜ„Å≤„ÇÉ„Åè', 1000: '„Åõ„Çì', 2000: '„Å´„Åõ„Çì', 3000: '„Åï„Çì„Åú„Çì',
        4000: '„Çà„Çì„Åõ„Çì', 5000: '„Åî„Åõ„Çì', 6000: '„Çç„Åè„Åõ„Çì', 7000: '„Å™„Å™„Åõ„Çì',
        8000: '„ÅØ„Å£„Åõ„Çì', 9000: '„Åç„ÇÖ„ÅÜ„Åõ„Çì', 10000: '„ÅÑ„Å°„Åæ„Çì', 20000: '„Å´„Åæ„Çì',
        50000: '„Åî„Åæ„Çì', 100000: '„Åò„ÇÖ„ÅÜ„Åæ„Çì', 1000000: '„Å≤„ÇÉ„Åè„Åæ„Çì', 100000000: '„ÅÑ„Å°„Åä„Åè'
      },
      questionTypes: {
        currentDate: { jp: '‰ªäÊó•„ÅÆÊó•‰ªò', en: "Today's date" },
        currentMonth: { jp: '‰ªä„ÅÆÊúà', en: 'Current month' },
        currentWeekday: { jp: '‰ªäÊó•„ÅÆÊõúÊó•', en: "Today's weekday" },
        futureDate: { jp: 'Êú™Êù•„ÅÆÊó•‰ªò', en: 'Future date' },
        pastDate: { jp: 'ÈÅéÂéª„ÅÆÊó•‰ªò', en: 'Past date' },
        futureWeekday: { jp: 'Êú™Êù•„ÅÆÊõúÊó•', en: 'Future weekday' },
        pastWeekday: { jp: 'ÈÅéÂéª„ÅÆÊõúÊó•', en: 'Past weekday' },
        relativeDay: { jp: 'Áõ∏ÂØæÁöÑ„Å™Êó•', en: 'Relative day' },
        number: { jp: 'Êï∞Â≠ó', en: 'Number' },
        dateFromJapanese: { jp: 'Ë™≠„Åø‚ÜíÊó•‰ªò', en: 'Reading to Date' },
        dateReading: { jp: 'Êó•‰ªò„ÅÆË™≠„Åø', en: 'Date reading' },
        weekdayReading: { jp: 'ÊõúÊó•„ÅÆË™≠„Åø', en: 'Weekday reading' },
        numberReading: { jp: 'Êï∞Â≠ó„ÅÆË™≠„Åø', en: 'Number reading' },
        weekdayName: { jp: 'ÊõúÊó•„ÅÆÂêçÂâç', en: 'Weekday name' },
        weekdayNameFull: { jp: 'ÊõúÊó•Ôºà„Äú„Çà„ÅÜ„Å≥Ôºâ', en: 'Weekday (full)' }
      },
      kanjiDict: {
        '‰ªäÊó•': { reading: '„Åç„Çá„ÅÜ', en: 'today' },
        '‰ΩïÊó•': { reading: '„Å™„Çì„Å´„Å°', en: 'what day' },
        '‰ΩïÊúà': { reading: '„Å™„Çì„Åå„Å§', en: 'what month' },
        '‰ΩïÊõúÊó•': { reading: '„Å™„Çì„Çà„ÅÜ„Å≥', en: 'what weekday' },
        'Êó•Âæå': { reading: '„Å´„Å°„Åî', en: 'days later' },
        'Êó•Ââç': { reading: '„Å´„Å°„Åæ„Åà', en: 'days ago' },
        'Êó•‰ªò': { reading: '„Å≤„Å•„Åë', en: 'date' },
        'ÊõúÊó•': { reading: '„Çà„ÅÜ„Å≥', en: 'weekday' },
        'Êú™Êù•': { reading: '„Åø„Çâ„ÅÑ', en: 'future' },
        'ÈÅéÂéª': { reading: '„Åã„Åì', en: 'past' },
        'Êï∞Â≠ó': { reading: '„Åô„ÅÜ„Åò', en: 'number' },
        '‰ªä': { reading: '„ÅÑ„Åæ', en: 'now' },
        'Êó•': { reading: '„Å´„Å°', en: 'day' },
        '‰Ωï': { reading: '„Å™„Å´', en: 'what' },
        'Êúà': { reading: '„Åå„Å§', en: 'month' },
        'Êõú': { reading: '„Çà„ÅÜ', en: 'weekday' },
        'Ââç': { reading: '„Åæ„Åà', en: 'before' },
        'Âæå': { reading: '„ÅÇ„Å®', en: 'after' }
      }
    };

    // Build hiragana dictionary for tooltips
    var dojoHiraganaDict = {};
    Object.keys(dojoData.dates).forEach(function(k) {
      var suffix = k == 1 ? 'st' : k == 2 ? 'nd' : k == 3 ? 'rd' : 'th';
      dojoHiraganaDict[dojoData.dates[k]] = k + suffix;
    });
    var monthNames = ['','January','February','March','April','May','June','July','August','September','October','November','December'];
    Object.keys(dojoData.months).forEach(function(k) {
      dojoHiraganaDict[dojoData.months[k]] = monthNames[k];
    });
    Object.keys(dojoData.weekdays).forEach(function(k) {
      dojoHiraganaDict[dojoData.weekdays[k].jp] = dojoData.weekdays[k].en;
      dojoHiraganaDict[dojoData.weekdays[k].short] = dojoData.weekdays[k].en; // Also add short forms
    });
    var relativeLabels = {'-2': '2 days ago', '-1': 'yesterday', '0': 'today', '1': 'tomorrow', '2': 'day after tomorrow', '3': '3 days from now'};
    Object.keys(dojoData.relative).forEach(function(k) {
      dojoHiraganaDict[dojoData.relative[k]] = relativeLabels[k];
    });
    Object.keys(dojoData.numbers).forEach(function(k) {
      dojoHiraganaDict[dojoData.numbers[k]] = Number(k).toLocaleString();
    });

    var dojoQuestion = null;
    var dojoScore = { correct: 0, total: 0 };
    var dojoStreak = 0;
    var dojoMistakeLog = [];
    var dojoShowHint = false;
    var dojoPartialFeedback = null;
    var dojoQuestionHistory = []; // Track recent questions to avoid repeats
    var dojoTypeHistory = []; // Track recent question types for better variety
    var dojoMaxHistory = 5; // Remember last 5 questions
    var dojoMaxTypeHistory = 3; // Don't repeat same type within 3 questions

    function parseKanjiText(text) {
      var result = '';
      var remaining = text;
      while (remaining.length > 0) {
        var matched = false;
        for (var len = 3; len >= 1; len--) {
          if (remaining.length >= len) {
            var substr = remaining.slice(0, len);
            if (dojoData.kanjiDict[substr]) {
              var k = dojoData.kanjiDict[substr];
              result += '<span class="dojo-kanji-tip" data-reading="' + k.reading + '" data-en="' + k.en + '">' + substr + '</span>';
              remaining = remaining.slice(len);
              matched = true;
              break;
            }
          }
        }
        if (!matched) {
          result += remaining[0];
          remaining = remaining.slice(1);
        }
      }
      return result;
    }

    function generateDojoQuestion() {
      var types = Object.keys(dojoData.questionTypes);
      var today = new Date();
      var q = null;
      var attempts = 0;
      var maxAttempts = 30;
      
      // Keep trying until we get a unique question with good variety
      while (attempts < maxAttempts) {
        attempts++;
        var type = types[Math.floor(Math.random() * types.length)];
        
        // Skip if this type was used recently (for better variety)
        if (dojoTypeHistory.indexOf(type) !== -1 && attempts < maxAttempts - 5) {
          continue;
        }
        
        q = { type: type, requiresFullSentence: true };

        switch (type) {
          case 'currentDate':
            var day = today.getDate();
            q.prompt = '‰ªäÊó•„ÅØ‰ΩïÊó•„Åß„Åô„ÅãÔºü';
            q.promptEn = "What is today's date?";
            q.coreAnswer = dojoData.dates[day];
            q.fullAnswer = dojoData.dates[day] + '„Åß„Åô';
            q.hint = 'Today is the ' + day + (day === 1 ? 'st' : day === 2 ? 'nd' : day === 3 ? 'rd' : 'th') + ' ‚Äî Answer with „Åß„Åô';
            q.uniqueKey = 'currentDate';
            break;
          case 'currentMonth':
            var month = today.getMonth() + 1;
            q.prompt = '‰ªä„ÅØ‰ΩïÊúà„Åß„Åô„ÅãÔºü';
            q.promptEn = 'What month is it now?';
            q.coreAnswer = dojoData.months[month];
            q.fullAnswer = dojoData.months[month] + '„Åß„Åô';
            q.hint = "It's month #" + month + " (" + monthNames[month] + ") ‚Äî Answer with „Åß„Åô";
            q.uniqueKey = 'currentMonth';
            break;
          case 'currentWeekday':
            var weekday = today.getDay();
            q.prompt = '‰ªäÊó•„ÅØ‰ΩïÊõúÊó•„Åß„Åô„ÅãÔºü';
            q.promptEn = 'What day of the week is today?';
            q.coreAnswer = dojoData.weekdays[weekday].jp;
            q.fullAnswer = dojoData.weekdays[weekday].jp + '„Åß„Åô';
            q.kanjiAnswer = dojoData.weekdays[weekday].kanji + '„Åß„Åô';
            q.hint = 'Today is ' + dojoData.weekdays[weekday].en + ' ‚Äî Answer with „Åß„Åô';
            q.uniqueKey = 'currentWeekday';
            break;
          case 'futureDate':
            var daysAhead = Math.floor(Math.random() * 14) + 1;
            var futureDate = new Date(today);
            futureDate.setDate(today.getDate() + daysAhead);
            var day = futureDate.getDate();
            q.prompt = daysAhead + 'Êó•Âæå„ÅØ‰ΩïÊó•„Åß„Åô„ÅãÔºü';
            q.promptEn = 'What date will it be in ' + daysAhead + ' days?';
            q.coreAnswer = dojoData.dates[day];
            q.fullAnswer = dojoData.dates[day] + '„Åß„Åô';
            q.hint = 'It will be the ' + day + (day === 1 ? 'st' : day === 2 ? 'nd' : day === 3 ? 'rd' : 'th') + ' ‚Äî Answer with „Åß„Åô';
            q.uniqueKey = 'futureDate_' + daysAhead;
            break;
          case 'pastDate':
            var daysAgo = Math.floor(Math.random() * 14) + 1;
            var pastDate = new Date(today);
            pastDate.setDate(today.getDate() - daysAgo);
            var day = pastDate.getDate();
            q.prompt = daysAgo + 'Êó•Ââç„ÅØ‰ΩïÊó•„Åß„Åó„Åü„ÅãÔºü';
            q.promptEn = 'What date was it ' + daysAgo + ' days ago?';
            q.coreAnswer = dojoData.dates[day];
            q.fullAnswer = dojoData.dates[day] + '„Åß„Åó„Åü';
            q.hint = 'It was the ' + day + (day === 1 ? 'st' : day === 2 ? 'nd' : day === 3 ? 'rd' : 'th') + ' ‚Äî Answer with „Åß„Åó„Åü (past)';
            q.uniqueKey = 'pastDate_' + daysAgo;
            break;
          case 'futureWeekday':
            var daysAhead = Math.floor(Math.random() * 7) + 1;
            var futureDate = new Date(today);
            futureDate.setDate(today.getDate() + daysAhead);
            var weekday = futureDate.getDay();
            q.prompt = daysAhead + 'Êó•Âæå„ÅØ‰ΩïÊõúÊó•„Åß„Åô„ÅãÔºü';
            q.promptEn = 'What day will it be in ' + daysAhead + ' days?';
            q.coreAnswer = dojoData.weekdays[weekday].jp;
            q.fullAnswer = dojoData.weekdays[weekday].jp + '„Åß„Åô';
            q.kanjiAnswer = dojoData.weekdays[weekday].kanji + '„Åß„Åô';
            q.hint = 'It will be ' + dojoData.weekdays[weekday].en + ' ‚Äî Answer with „Åß„Åô';
            q.uniqueKey = 'futureWeekday_' + daysAhead;
            break;
          case 'pastWeekday':
            var daysAgo = Math.floor(Math.random() * 7) + 1;
            var pastDate = new Date(today);
            pastDate.setDate(today.getDate() - daysAgo);
            var weekday = pastDate.getDay();
            q.prompt = daysAgo + 'Êó•Ââç„ÅØ‰ΩïÊõúÊó•„Åß„Åó„Åü„ÅãÔºü';
            q.promptEn = 'What day was it ' + daysAgo + ' days ago?';
            q.coreAnswer = dojoData.weekdays[weekday].jp;
            q.fullAnswer = dojoData.weekdays[weekday].jp + '„Åß„Åó„Åü';
            q.kanjiAnswer = dojoData.weekdays[weekday].kanji + '„Åß„Åó„Åü';
            q.hint = 'It was ' + dojoData.weekdays[weekday].en + ' ‚Äî Answer with „Åß„Åó„Åü (past)';
            q.uniqueKey = 'pastWeekday_' + daysAgo;
            break;
          case 'relativeDay':
            var offsets = Object.keys(dojoData.relative).map(Number);
            var offset = offsets[Math.floor(Math.random() * offsets.length)];
            var targetDate = new Date(today);
            targetDate.setDate(today.getDate() + offset);
            var day = targetDate.getDate();
            var relativeTerm = dojoData.relative[offset.toString()];
            q.prompt = '„Äå' + relativeTerm + '„Äç„ÅØ‰ΩïÊó•„Åß„Åô„ÅãÔºü';
            q.promptEn = 'What date is "' + relativeTerm + '"?';
            q.coreAnswer = dojoData.dates[day];
            q.fullAnswer = dojoData.dates[day] + '„Åß„Åô';
            q.hint = relativeTerm + ' = ' + relativeLabels[offset.toString()] + ' ‚Äî Answer with „Åß„Åô';
            q.uniqueKey = 'relativeDay_' + offset;
            break;
          case 'number':
            var numbers = Object.keys(dojoData.numbers).map(Number);
            var num = numbers[Math.floor(Math.random() * numbers.length)];
            q.prompt = num.toLocaleString() + ' „ÅØÔºü';
            q.promptEn = 'How do you say ' + num.toLocaleString() + '?';
            q.coreAnswer = dojoData.numbers[num];
            q.fullAnswer = dojoData.numbers[num] + '„Åß„Åô';
            q.hint = 'Think about the counter pattern... Answer with „Åß„Åô';
            q.uniqueKey = 'number_' + num;
            break;
          case 'dateFromJapanese':
            var dates = Object.entries(dojoData.dates);
            var entry = dates[Math.floor(Math.random() * dates.length)];
            var day = entry[0];
            var reading = entry[1];
            q.prompt = '„Äå' + reading + '„Äç„ÅØ‰ΩïÊó•Ôºü';
            q.promptEn = 'What number date is "' + reading + '"?';
            q.coreAnswer = day + 'Êó•';
            q.fullAnswer = day + 'Êó•„Åß„Åô';
            q.hint = 'Listen to the reading pattern... Answer with Êó•„Åß„Åô';
            q.uniqueKey = 'dateFromJapanese_' + day;
            break;
          
          // NEW: Reading-only questions (no „Åß„Åô required)
          case 'dateReading':
            var day = Math.floor(Math.random() * 10) + 1; // 1-10 for special readings
            q.prompt = day + 'Êó•„ÅÆË™≠„ÅøÊñπ„ÅØÔºü';
            q.promptEn = 'How do you read ' + day + 'Êó•?';
            q.coreAnswer = dojoData.dates[day];
            q.fullAnswer = dojoData.dates[day]; // No „Åß„Åô needed
            q.hint = 'Just the reading ‚Äî no „Åß„Åô needed';
            q.uniqueKey = 'dateReading_' + day;
            q.requiresFullSentence = false;
            break;
          case 'weekdayReading':
            var weekday = Math.floor(Math.random() * 7);
            var dayKanji = ['Êó•ÊõúÊó•', 'ÊúàÊõúÊó•', 'ÁÅ´ÊõúÊó•', 'Ê∞¥ÊõúÊó•', 'Êú®ÊõúÊó•', 'ÈáëÊõúÊó•', 'ÂúüÊõúÊó•'][weekday];
            q.prompt = '„Äå' + dayKanji + '„Äç„ÅÆË™≠„ÅøÊñπ„ÅØÔºü';
            q.promptEn = 'How do you read "' + dayKanji + '"?';
            q.coreAnswer = dojoData.weekdays[weekday].jp;
            q.fullAnswer = dojoData.weekdays[weekday].jp; // No „Åß„Åô needed
            q.hint = 'Just the reading ‚Äî no „Åß„Åô needed';
            q.uniqueKey = 'weekdayReading_' + weekday;
            q.requiresFullSentence = false;
            break;
          case 'numberReading':
            var numbers = Object.keys(dojoData.numbers).map(Number);
            var num = numbers[Math.floor(Math.random() * numbers.length)];
            q.prompt = num.toLocaleString() + ' „ÅÆË™≠„ÅøÊñπ„ÅØÔºü';
            q.promptEn = 'How do you read ' + num.toLocaleString() + '?';
            q.coreAnswer = dojoData.numbers[num];
            q.fullAnswer = dojoData.numbers[num]; // No „Åß„Åô needed
            q.hint = 'Just the reading ‚Äî no „Åß„Åô needed';
            q.uniqueKey = 'numberReading_' + num;
            q.requiresFullSentence = false;
            break;
          
          // Weekday name questions
          case 'weekdayName':
            var dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            var weekday = Math.floor(Math.random() * 7);
            q.prompt = dayNames[weekday] + ' „ÅØÊó•Êú¨Ë™û„Åß‰ΩïÔºü';
            q.promptEn = 'What is ' + dayNames[weekday] + ' in Japanese?';
            // Accept short form („Å´„Å°, „Åí„Å§, etc.) or full form
            q.coreAnswer = dojoData.weekdays[weekday].short;
            q.fullAnswer = dojoData.weekdays[weekday].short;
            q.altAnswer = dojoData.weekdays[weekday].jp; // Also accept full „Çà„ÅÜ„Å≥ form
            q.hint = 'Short form is fine (e.g., „Åí„Å§) or full form („Åí„Å§„Çà„ÅÜ„Å≥)';
            q.uniqueKey = 'weekdayName_' + weekday;
            q.requiresFullSentence = false;
            break;
          case 'weekdayNameFull':
            var dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            var weekday = Math.floor(Math.random() * 7);
            q.prompt = dayNames[weekday] + ' „ÅØÊó•Êú¨Ë™û„Åß‰Ωï„Çà„ÅÜ„Å≥Ôºü';
            q.promptEn = 'What is ' + dayNames[weekday] + ' in Japanese? (include „Çà„ÅÜ„Å≥)';
            q.coreAnswer = dojoData.weekdays[weekday].jp;
            q.fullAnswer = dojoData.weekdays[weekday].jp;
            q.hint = 'Must include „Çà„ÅÜ„Å≥ (e.g., „Åí„Å§„Çà„ÅÜ„Å≥)';
            q.uniqueKey = 'weekdayNameFull_' + weekday;
            q.requiresFullSentence = false;
            break;
        }
        
        // Check if this question was asked recently
        if (dojoQuestionHistory.indexOf(q.uniqueKey) === -1) {
          break; // Found a unique question
        }
      }
      
      // Add to history
      dojoQuestionHistory.push(q.uniqueKey);
      if (dojoQuestionHistory.length > dojoMaxHistory) {
        dojoQuestionHistory.shift(); // Remove oldest
      }
      
      // Track type history for better variety
      dojoTypeHistory.push(q.type);
      if (dojoTypeHistory.length > dojoMaxTypeHistory) {
        dojoTypeHistory.shift();
      }
      
      // Set the display answer (what we show as correct)
      q.answer = q.fullAnswer;
      
      dojoQuestion = q;
      dojoShowHint = false;
      dojoPartialFeedback = null;
      
      // Update UI
      var typeInfo = dojoData.questionTypes[q.type];
      document.getElementById('dojo-question-type').innerHTML = parseKanjiText(typeInfo.jp);
      document.getElementById('dojo-question-type').title = typeInfo.en;
      document.getElementById('dojo-question-text').innerHTML = parseKanjiText(q.prompt);
      document.getElementById('dojo-question-text-en').textContent = q.promptEn;
      document.getElementById('dojo-answer-input').value = '';
      document.getElementById('dojo-answer-input').disabled = false;
      document.getElementById('dojo-answer-input').focus();
      
      // Update input hint based on whether full sentence is required
      var hintEl = document.getElementById('dojo-input-hint');
      if (q.requiresFullSentence === false) {
        hintEl.textContent = 'Ë™≠„ÅøÊñπ„Å†„Åë„ÅßOKÔºÅÔºà„Åß„Åô‰∏çË¶ÅÔºâ';
      } else {
        hintEl.textContent = '„Éï„É´„Çª„É≥„ÉÜ„É≥„Çπ„ÅßÁ≠î„Åà„Å¶„Å≠ÔºÅÔºà„Äú„Åß„Åô / „Äú„Åß„Åó„ÅüÔºâ';
      }
      
      document.getElementById('dojo-hint-box').style.display = 'none';
      document.getElementById('dojo-hint-btn').innerHTML = 'üîí <span class="dojo-tip" data-reading="„Éí„É≥„Éà" data-en="Hint">„Éí„É≥„Éà</span>';
      document.getElementById('dojo-hint-btn').classList.remove('active');
      document.getElementById('dojo-feedback').style.display = 'none';
      document.getElementById('dojo-partial-feedback').style.display = 'none';
      document.getElementById('dojo-btn-row').style.display = 'flex';
      document.getElementById('dojo-next-btn-row').style.display = 'none';
    }

    function checkDojoAnswer() {
      if (!dojoQuestion) return;
      var userAnswer = document.getElementById('dojo-answer-input').value.trim();
      if (!userAnswer) return;

      // Normalize the answer
      var normalizedAnswer = userAnswer
        .replace(/\s+/g, '')
        .replace(/„ÄÇ$/g, '')
        .replace(/Êó•ÊõúÊó•/g, '„Å´„Å°„Çà„ÅÜ„Å≥')
        .replace(/ÊúàÊõúÊó•/g, '„Åí„Å§„Çà„ÅÜ„Å≥')
        .replace(/ÁÅ´ÊõúÊó•/g, '„Åã„Çà„ÅÜ„Å≥')
        .replace(/Ê∞¥ÊõúÊó•/g, '„Åô„ÅÑ„Çà„ÅÜ„Å≥')
        .replace(/Êú®ÊõúÊó•/g, '„ÇÇ„Åè„Çà„ÅÜ„Å≥')
        .replace(/ÈáëÊõúÊó•/g, '„Åç„Çì„Çà„ÅÜ„Å≥')
        .replace(/ÂúüÊõúÊó•/g, '„Å©„Çà„ÅÜ„Å≥');

      var fullAnswer = dojoQuestion.fullAnswer.replace(/\s+/g, '');
      var kanjiAnswer = dojoQuestion.kanjiAnswer ? dojoQuestion.kanjiAnswer.replace(/\s+/g, '') : null;
      var coreAnswer = dojoQuestion.coreAnswer.replace(/\s+/g, '');
      var altAnswer = dojoQuestion.altAnswer ? dojoQuestion.altAnswer.replace(/\s+/g, '') : null;
      var questionRequiresFullSentence = dojoQuestion.requiresFullSentence !== false; // Default true
      
      // Check if answer is correct (must include „Åß„Åô/„Åß„Åó„Åü for full sentence questions)
      var isCorrect = false;
      var needsFullSentence = false;
      var hasWrongSpelling = false;
      
      // Check for exact match with full answer or alt answer
      if (normalizedAnswer === fullAnswer || (kanjiAnswer && normalizedAnswer === kanjiAnswer) || (altAnswer && normalizedAnswer === altAnswer)) {
        isCorrect = true;
      }
      // Check if they got the core answer right
      else if (normalizedAnswer === coreAnswer || 
               (dojoQuestion.kanjiAnswer && normalizedAnswer === dojoQuestion.kanjiAnswer.replace('„Åß„Åô', '').replace('„Åß„Åó„Åü', ''))) {
        // For reading-only questions, core answer is sufficient
        if (!questionRequiresFullSentence) {
          isCorrect = true;
        } else {
          needsFullSentence = true;
        }
      }
      // Check if answer contains the correct core but may have spelling issues
      else {
        // Check if they included „Åß„Åô/„Åß„Åó„Åü
        var hasDesu = normalizedAnswer.indexOf('„Åß„Åô') !== -1;
        var hasDeshita = normalizedAnswer.indexOf('„Åß„Åó„Åü') !== -1;
        var hasSentenceEnding = hasDesu || hasDeshita;
        
        // Extract what they wrote before „Åß„Åô/„Åß„Åó„Åü
        var userCore = normalizedAnswer.replace(/„Åß„Åô$/, '').replace(/„Åß„Åó„Åü$/, '');
        
        if (userCore === coreAnswer || (altAnswer && userCore === altAnswer)) {
          // Core is right
          if (!questionRequiresFullSentence) {
            // Reading-only question - accept with or without „Åß„Åô
            isCorrect = true;
          } else {
            // Full sentence question - check if they used the right ending
            var needsPast = dojoQuestion.type === 'pastDate' || dojoQuestion.type === 'pastWeekday';
            if (needsPast && hasDesu && !hasDeshita) {
              // They used „Åß„Åô but should have used „Åß„Åó„Åü
              hasWrongSpelling = true;
            } else if (!needsPast && hasDeshita && !hasDesu) {
              // They used „Åß„Åó„Åü but should have used „Åß„Åô
              hasWrongSpelling = true;
            } else if (hasSentenceEnding) {
              isCorrect = true;
            } else {
              needsFullSentence = true;
            }
          }
        } else if (hasSentenceEnding) {
          // They have sentence ending but core is wrong - check for spelling errors
          hasWrongSpelling = true;
        } else {
          // No sentence ending and wrong core
          if (questionRequiresFullSentence) {
            needsFullSentence = true;
          } else {
            hasWrongSpelling = true; // Just wrong answer for reading questions
          }
        }
      }

      // Check for partial answers (gave date when asked for weekday, or vice versa)
      if (!isCorrect && !dojoPartialFeedback && !needsFullSentence && !hasWrongSpelling) {
        var isWeekdayQuestion = dojoQuestion.type === 'currentWeekday' || dojoQuestion.type === 'futureWeekday' || dojoQuestion.type === 'pastWeekday';
        var isDateQuestion = dojoQuestion.type === 'currentDate' || dojoQuestion.type === 'futureDate' || dojoQuestion.type === 'pastDate' || dojoQuestion.type === 'relativeDay';
        
        if (isWeekdayQuestion) {
          var dateValues = Object.values(dojoData.dates);
          var gaveDate = dateValues.some(function(date) { return normalizedAnswer.indexOf(date) !== -1; });
          if (gaveDate) {
            dojoPartialFeedback = true;
            document.getElementById('dojo-partial-message').textContent = '„Åù„ÅÆÊó•‰ªò„ÅØÂêà„Å£„Å¶„Çã„Åã„ÇÇÔºÅ„Åß„ÇÇÊõúÊó•„ÅØÔºü';
            document.getElementById('dojo-partial-message-en').textContent = "That date might be right! But what's the weekday?";
            document.getElementById('dojo-partial-feedback').style.display = 'block';
            document.getElementById('dojo-answer-input').value = '';
            document.getElementById('dojo-answer-input').focus();
            return;
          }
        }
        
        if (isDateQuestion) {
          var weekdayValues = Object.values(dojoData.weekdays).map(function(w) { return w.jp; });
          var gaveWeekday = weekdayValues.some(function(day) { return normalizedAnswer.indexOf(day) !== -1; });
          if (gaveWeekday) {
            dojoPartialFeedback = true;
            document.getElementById('dojo-partial-message').textContent = '„Åù„ÅÆÊõúÊó•„ÅØÂêà„Å£„Å¶„Çã„Åã„ÇÇÔºÅ„Åß„ÇÇÊó•‰ªò„ÅØÔºü';
            document.getElementById('dojo-partial-message-en').textContent = "That weekday might be right! But what's the date?";
            document.getElementById('dojo-partial-feedback').style.display = 'block';
            document.getElementById('dojo-answer-input').value = '';
            document.getElementById('dojo-answer-input').focus();
            return;
          }
        }
      }

      // Handle "needs full sentence" feedback
      if (needsFullSentence && !dojoPartialFeedback) {
        dojoPartialFeedback = true;
        var needsPast = dojoQuestion.type === 'pastDate' || dojoQuestion.type === 'pastWeekday';
        document.getElementById('dojo-partial-message').textContent = 'ÊÉú„Åó„ÅÑÔºÅ„Éï„É´„Çª„É≥„ÉÜ„É≥„Çπ„ÅßÁ≠î„Åà„Å¶ÔºÅ';
        document.getElementById('dojo-partial-message-en').textContent = needsPast ? 'Almost! Add „Åß„Åó„Åü for past tense!' : 'Almost! Add „Åß„Åô to complete your answer!';
        document.getElementById('dojo-partial-feedback').style.display = 'block';
        document.getElementById('dojo-answer-input').value = '';
        document.getElementById('dojo-answer-input').focus();
        return;
      }

      // Handle wrong spelling/tense feedback
      if (hasWrongSpelling && !dojoPartialFeedback) {
        dojoPartialFeedback = true;
        var needsPast = dojoQuestion.type === 'pastDate' || dojoQuestion.type === 'pastWeekday';
        if (needsPast && normalizedAnswer.indexOf('„Åß„Åô') !== -1 && normalizedAnswer.indexOf('„Åß„Åó„Åü') === -1) {
          document.getElementById('dojo-partial-message').textContent = 'ÈÅéÂéªÂΩ¢„ÅßÔºÅ';
          document.getElementById('dojo-partial-message-en').textContent = 'Use past tense! „Åß„Åó„Åü not „Åß„Åô';
        } else if (!needsPast && normalizedAnswer.indexOf('„Åß„Åó„Åü') !== -1) {
          document.getElementById('dojo-partial-message').textContent = 'ÁèæÂú®ÂΩ¢„ÅßÔºÅ';
          document.getElementById('dojo-partial-message-en').textContent = 'Use present tense! „Åß„Åô not „Åß„Åó„Åü';
        } else {
          document.getElementById('dojo-partial-message').textContent = '„Çπ„Éö„É´„Çí„ÉÅ„Çß„ÉÉ„ÇØÔºÅ';
          document.getElementById('dojo-partial-message-en').textContent = 'Check your spelling!';
        }
        document.getElementById('dojo-partial-feedback').style.display = 'block';
        document.getElementById('dojo-answer-input').value = '';
        document.getElementById('dojo-answer-input').focus();
        return;
      }

      // Show final feedback
      dojoScore.total++;
      if (isCorrect) {
        dojoScore.correct++;
        dojoStreak++;
      } else {
        dojoStreak = 0;
        dojoMistakeLog.push({
          question: dojoQuestion.prompt,
          type: dojoQuestion.type,
          userAnswer: userAnswer,
          correctAnswer: dojoQuestion.answer,
          hint: dojoQuestion.hint
        });
      }

      updateDojoDisplay();
      
      var feedback = document.getElementById('dojo-feedback');
      feedback.style.display = 'block';
      feedback.className = 'dojo-feedback ' + (isCorrect ? 'correct' : 'incorrect');
      document.getElementById('dojo-feedback-title').innerHTML = (isCorrect ? '‚ú® ' : '‚úó ') + (isCorrect ? 'Ê≠£Ëß£ÔºÅ' : '„Åñ„Çì„Å≠„Çì...');
      document.getElementById('dojo-feedback-label').textContent = isCorrect ? 'ÊúüÂæÖ„Åó„ÅüÁ≠î„Åà' : 'Ê≠£„Åó„ÅÑÁ≠î„Åà';
      
      var answerEl = document.getElementById('dojo-feedback-answer');
      var displayAnswer = dojoQuestion.answer;
      // For weekdayName questions, show both acceptable answers
      if (dojoQuestion.altAnswer && dojoQuestion.type === 'weekdayName') {
        displayAnswer = dojoQuestion.coreAnswer + ' or ' + dojoQuestion.altAnswer;
      }
      var tip = dojoHiraganaDict[dojoQuestion.coreAnswer] || '';
      if (tip && !dojoQuestion.altAnswer) {
        answerEl.innerHTML = '<span class="dojo-answer-tip" data-en="' + tip + '">' + displayAnswer + '</span>';
      } else {
        answerEl.textContent = displayAnswer;
      }

      document.getElementById('dojo-partial-feedback').style.display = 'none';
      document.getElementById('dojo-answer-input').disabled = true;
      document.getElementById('dojo-btn-row').style.display = 'none';
      document.getElementById('dojo-next-btn-row').style.display = 'flex';
    }

    function toggleDojoHint() {
      dojoShowHint = !dojoShowHint;
      var hintBox = document.getElementById('dojo-hint-box');
      var hintBtn = document.getElementById('dojo-hint-btn');
      
      if (dojoShowHint) {
        document.getElementById('dojo-hint-content').textContent = dojoQuestion.hint;
        hintBox.style.display = 'block';
        hintBtn.innerHTML = 'üîì <span class="dojo-tip" data-reading="„Éí„É≥„Éà" data-en="Hint">„Éí„É≥„Éà</span>';
        hintBtn.classList.add('active');
      } else {
        hintBox.style.display = 'none';
        hintBtn.innerHTML = 'üîí <span class="dojo-tip" data-reading="„Éí„É≥„Éà" data-en="Hint">„Éí„É≥„Éà</span>';
        hintBtn.classList.remove('active');
      }
    }

    function handleDojoKeyPress(event) {
      if (event.key === 'Enter') {
        var feedback = document.getElementById('dojo-feedback');
        if (feedback.style.display === 'block') {
          generateDojoQuestion();
        } else {
          checkDojoAnswer();
        }
      }
    }

    function updateDojoDisplay() {
      document.getElementById('dojo-score').textContent = dojoScore.correct + '/' + dojoScore.total;
      var accuracy = dojoScore.total > 0 ? Math.round((dojoScore.correct / dojoScore.total) * 100) : 0;
      document.getElementById('dojo-accuracy').textContent = accuracy + '%';
      
      var streakEl = document.getElementById('dojo-streak');
      if (dojoStreak >= 3) {
        streakEl.innerHTML = '<span class="dojo-streak-fire">üî•</span> ' + dojoStreak;
        streakEl.style.color = '#f97316';
      } else {
        streakEl.textContent = dojoStreak;
        streakEl.style.color = '#fff';
      }
      
      var countEl = document.getElementById('dojo-mistake-count');
      if (dojoMistakeLog.length > 0) {
        countEl.textContent = dojoMistakeLog.length;
        countEl.style.color = '#c41e3a';
      } else {
        countEl.textContent = '';
      }
      
      document.getElementById('dojo-reset-btn').style.display = dojoScore.total > 0 ? 'block' : 'none';
    }

    function resetDojoScore() {
      if (dojoScore.total === 0) {
        showToast('Nothing to reset!', 'warning');
        return;
      }
      dojoScore = { correct: 0, total: 0 };
      dojoStreak = 0;
      dojoMistakeLog = [];
      dojoQuestionHistory = []; // Clear question history too
      dojoTypeHistory = []; // Clear type history for better variety
      updateDojoDisplay();
      showToast('‚úì Score reset!', 'success');
    }

    function showDojoReview() {
      var modal = document.getElementById('dojo-review-modal');
      var body = document.getElementById('dojo-review-body');
      
      var accuracy = dojoScore.total > 0 ? Math.round((dojoScore.correct / dojoScore.total) * 100) : 0;
      
      // Build category breakdown
      var mistakesByType = {};
      dojoMistakeLog.forEach(function(m) {
        mistakesByType[m.type] = (mistakesByType[m.type] || 0) + 1;
      });
      
      var html = '<div class="dojo-stats-grid">' +
        '<div class="dojo-stats-grid-item"><div class="value" style="color: #22c55e;">' + dojoScore.correct + '</div><div class="label">Ê≠£Ëß£</div></div>' +
        '<div class="dojo-stats-grid-item"><div class="value" style="color: #ef4444;">' + dojoMistakeLog.length + '</div><div class="label">ÈñìÈÅï„ÅÑ</div></div>' +
        '<div class="dojo-stats-grid-item"><div class="value" style="color: #60a5fa;">' + accuracy + '%</div><div class="label">Á≤æÂ∫¶</div></div>' +
      '</div>';
      
      // Category breakdown
      if (Object.keys(mistakesByType).length > 0) {
        html += '<div class="dojo-section-title">‚ö†Ô∏è „Ç´„ÉÜ„Ç¥„É™Âà•</div><div class="dojo-category-tags">';
        var sorted = Object.entries(mistakesByType).sort(function(a, b) { return b[1] - a[1]; });
        sorted.forEach(function(item) {
          var typeLabel = dojoData.questionTypes[item[0]] ? dojoData.questionTypes[item[0]].jp : item[0];
          html += '<div class="dojo-category-tag">' + typeLabel + ': <strong>' + item[1] + '</strong></div>';
        });
        html += '</div>';
      }
      
      html += '<div class="dojo-section-title">üìù „Åô„Åπ„Å¶„ÅÆÈñìÈÅï„ÅÑ</div>';
      
      if (dojoMistakeLog.length > 0) {
        dojoMistakeLog.slice().reverse().forEach(function(mistake) {
          var typeLabel = dojoData.questionTypes[mistake.type] ? dojoData.questionTypes[mistake.type].jp : mistake.type;
          html += '<div class="dojo-mistake-entry">' +
            '<div class="dojo-mistake-type">' + typeLabel + '</div>' +
            '<div class="dojo-mistake-question">' + mistake.question + '</div>' +
            '<div class="dojo-mistake-answers">' +
              '<div><div class="dojo-mistake-label">Your Answer</div><div style="color: #ef4444;">' + (mistake.userAnswer || '(empty)') + '</div></div>' +
              '<div><div class="dojo-mistake-label">Correct</div><div style="color: #22c55e;">' + mistake.correctAnswer + '</div></div>' +
            '</div>' +
            '<div class="dojo-mistake-hint">üí° ' + mistake.hint + '</div>' +
          '</div>';
        });
      } else {
        html += '<div class="dojo-empty-state"><div style="font-size: 2rem; margin-bottom: 1rem;">üéâ</div><div>„Åæ„Å†ÈñìÈÅï„ÅÑ„Åå„Å™„ÅÑÔºÅ</div></div>';
      }
      
      body.innerHTML = html;
      modal.classList.add('visible');
    }

    function closeDojoReview() {
      document.getElementById('dojo-review-modal').classList.remove('visible');
    }

    function populateDojoReference() {
      // Dates 1-10
      var datesRef = document.getElementById('dojo-ref-dates');
      if (datesRef) {
        var html = '';
        for (var i = 1; i <= 10; i++) {
          var tip = dojoHiraganaDict[dojoData.dates[i]] || i;
          html += '<div class="dojo-reference-item"><span class="num">' + i + 'Êó•</span><span class="dojo-answer-tip" data-en="' + tip + '">' + dojoData.dates[i] + '</span></div>';
        }
        datesRef.innerHTML = html;
      }
      
      // Weekdays - simpler format without kanji to prevent wrapping
      var weekdaysRef = document.getElementById('dojo-ref-weekdays');
      if (weekdaysRef) {
        var html = '';
        var dayAbbrev = ['Êó•', 'Êúà', 'ÁÅ´', 'Ê∞¥', 'Êú®', 'Èáë', 'Âúü'];
        for (var i = 0; i < 7; i++) {
          html += '<div class="dojo-reference-item"><span class="num">' + dayAbbrev[i] + '</span><span class="dojo-answer-tip" data-en="' + dojoData.weekdays[i].en + '">' + dojoData.weekdays[i].jp + '</span> <span style="color: rgba(255,255,255,0.4); font-size: 0.75em;">(' + dojoData.weekdays[i].short + ')</span></div>';
        }
        weekdaysRef.innerHTML = html;
      }
      
      // Relative days
      var relativeRef = document.getElementById('dojo-ref-relative');
      if (relativeRef) {
        var html = '';
        var orderedKeys = ['-2', '-1', '0', '1', '2', '3'];
        orderedKeys.forEach(function(k) {
          html += '<div class="dojo-reference-item"><span class="dojo-answer-tip" data-en="' + relativeLabels[k] + '">' + dojoData.relative[k] + '</span></div>';
        });
        relativeRef.innerHTML = html;
      }
    }

    // Hook into page navigation
    var originalShowPage = showPage;
    showPage = function(pageName) {
      originalShowPage(pageName);
      if (pageName === 'datedojo' && !dojoQuestion) {
        generateDojoQuestion();
        populateDojoReference();
      }
    };

    // Close modal on background click
    document.addEventListener('click', function(e) {
      if (e.target.classList.contains('dojo-modal-overlay')) {
        closeDojoReview();
      }
    });

    // ============ VOCABULARY BUILDER ============
    const vocabDataList = [
      // DAYS OF THE WEEK
      { japanese: "„Å´„Å°„Çà„ÅÜ„Å≥", kanji: "Êó•ÊõúÊó•", katakana: null, english: "Sunday", category: "noun" },
      { japanese: "„Åí„Å§„Çà„ÅÜ„Å≥", kanji: "ÊúàÊõúÊó•", katakana: null, english: "Monday", category: "noun" },
      { japanese: "„Åã„Çà„ÅÜ„Å≥", kanji: "ÁÅ´ÊõúÊó•", katakana: null, english: "Tuesday", category: "noun" },
      { japanese: "„Åô„ÅÑ„Çà„ÅÜ„Å≥", kanji: "Ê∞¥ÊõúÊó•", katakana: null, english: "Wednesday", category: "noun" },
      { japanese: "„ÇÇ„Åè„Çà„ÅÜ„Å≥", kanji: "Êú®ÊõúÊó•", katakana: null, english: "Thursday", category: "noun" },
      { japanese: "„Åç„Çì„Çà„ÅÜ„Å≥", kanji: "ÈáëÊõúÊó•", katakana: null, english: "Friday", category: "noun" },
      { japanese: "„Å©„Çà„ÅÜ„Å≥", kanji: "ÂúüÊõúÊó•", katakana: null, english: "Saturday", category: "noun" },
      
      // COLORS
      { japanese: "„ÅÇ„Åã", kanji: "Ëµ§", katakana: null, english: "Red", category: "noun" },
      { japanese: "„ÅÇ„Åä", kanji: "Èùí", katakana: null, english: "Blue", category: "noun" },
      { japanese: "„Åç„ÅÑ„Çç", kanji: "ÈªÑËâ≤", katakana: null, english: "Yellow", category: "noun" },
      { japanese: "„Åø„Å©„Çä", kanji: "Á∑ë", katakana: null, english: "Green", category: "noun" },
      { japanese: "„Å°„ÇÉ„ÅÑ„Çç", kanji: "Ëå∂Ëâ≤", katakana: null, english: "Brown", category: "noun" },
      { japanese: "„Åó„Çç", kanji: "ÁôΩ", katakana: null, english: "White", category: "noun" },
      { japanese: "„Åè„Çç", kanji: "Èªí", katakana: null, english: "Black", category: "noun" },
      
      // VOCABULARY
      { japanese: "„ÅÇ„ÅÑ", kanji: "ÊÑõ", katakana: null, english: "Love", category: "noun" },
      { japanese: "„ÅÇ„ÅÑ„Åï„Å§", kanji: null, katakana: null, english: "Greeting", category: "noun" },
      { japanese: "„ÅÇ„Åõ", kanji: "Ê±ó", katakana: null, english: "Sweat", category: "noun" },
      { japanese: "„ÅÇ„Åü„Åæ", kanji: "È†≠", katakana: null, english: "Head", category: "noun" },
      { japanese: "„ÅÇ„Å´", kanji: "ÂÖÑ", katakana: null, english: "Older Brother", category: "noun" },
      { japanese: "„ÅÇ„Å≠", kanji: "Âßâ", katakana: null, english: "Older Sister", category: "noun" },
      { japanese: "„ÅÇ„ÇÅ", kanji: "Èõ®", katakana: null, english: "Rain", category: "noun" },
      { japanese: "„ÅÑ„Åà", kanji: "ÂÆ∂", katakana: null, english: "House", category: "noun" },
      { japanese: "„ÅÑ„Åç", kanji: "ÊÅØ", katakana: null, english: "Breath", category: "noun" },
      { japanese: "„ÅÑ„Åç„ÇÇ„ÅÆ", kanji: "Áîü„ÅçÁâ©", katakana: null, english: "Living Thing", category: "noun" },
      { japanese: "„ÅÑ„Åë", kanji: "Ê±†", katakana: null, english: "Pond", category: "noun" },
      { japanese: "„ÅÑ„Åñ„Åã„ÇÑ", kanji: "Â±ÖÈÖíÂ±ã", katakana: null, english: "Bar", category: "noun" },
      { japanese: "„ÅÑ„Åó„Åç", kanji: "ÊÑèË≠ò", katakana: null, english: "Consciousness", category: "noun" },
      { japanese: "„ÅÑ„Åù„ÅÜ„Çç„ÅÜ", kanji: "Â±ÖÂÄô", katakana: null, english: "Freeloader", category: "noun" },
      { japanese: "„ÅÑ„Å°„Å∞", kanji: "Â∏ÇÂ†¥", katakana: null, english: "Market", category: "noun" },
      { japanese: "„ÅÑ„Å™„Åã", kanji: "Áî∞Ëàé", katakana: null, english: "Countryside", category: "noun" },
      { japanese: "„ÅÑ„ÅÆ„Å°", kanji: "ÂëΩ", katakana: null, english: "Life", category: "noun" },
      { japanese: "„ÅÑ„Çä„Åê„Å°", kanji: "ÂÖ•Âè£", katakana: null, english: "Entrance", category: "noun" },
      { japanese: "„ÅÜ„Åï„Åé", kanji: "ÂÖé", katakana: null, english: "Rabbit", category: "noun" },
      { japanese: "„ÅÜ„Åó", kanji: "Áâõ", katakana: null, english: "Cow", category: "noun" },
      { japanese: "„ÅÜ„Åù", kanji: "Âòò", katakana: null, english: "Lie", category: "noun" },
      { japanese: "„ÅÜ„Åü", kanji: "Ê≠å", katakana: null, english: "Song", category: "noun" },
      { japanese: "„ÅÜ„Å°„Åå„Çè", kanji: "ÂÜÖÂÅ¥", katakana: null, english: "Inside", category: "noun" },
      { japanese: "„ÅÜ„Åø", kanji: "Êµ∑", katakana: null, english: "Sea", category: "noun" },
      { japanese: "„ÅÜ„ÇÅ", kanji: "Ê¢Ö", katakana: null, english: "Plum", category: "noun" },
      { japanese: "„ÅÜ„Çì„Å©„ÅÜ", kanji: "ÈÅãÂãï", katakana: null, english: "Exercise", category: "noun" },
      { japanese: "„ÅÜ„Çì„Å¶„Çì", kanji: "ÈÅãËª¢", katakana: null, english: "Driving", category: "noun" },
      { japanese: "„Åà„ÅÑ„Åå", kanji: "Êò†Áîª", katakana: null, english: "Movie", category: "noun" },
      { japanese: "„Åà„ÅÑ„Åî", kanji: "Ëã±Ë™û", katakana: null, english: "English", category: "noun" },
      { japanese: "„Åà„ÅÑ„Çà„ÅÜ", kanji: "Ê†ÑÈ§ä", katakana: null, english: "Nutrition", category: "noun" },
      { japanese: "„Åà„Åå„Åä", kanji: "Á¨ëÈ°î", katakana: null, english: "Smile", category: "noun" },
      { japanese: "„Åà„Åç", kanji: "ÈßÖ", katakana: null, english: "Station", category: "noun" },
      { japanese: "„Åä„ÅÜ„Åà„Çì", kanji: "ÂøúÊè¥", katakana: null, english: "Cheering", category: "noun" },
      { japanese: "„Åä„ÅÜ„Åï„Åæ", kanji: "ÁéãÊßò", katakana: null, english: "King", category: "noun" },
      { japanese: "„Åä„ÅÜ„Åò", kanji: "ÁéãÂ≠ê", katakana: null, english: "Prince", category: "noun" },
      { japanese: "„Åä„Åä„ÅÇ„ÇÅ", kanji: "Â§ßÈõ®", katakana: null, english: "Heavy Rain", category: "noun" },
      { japanese: "„Åä„Åã„ÅÇ„Åï„Çì", kanji: "„ÅäÊØç„Åï„Çì", katakana: null, english: "Mother", category: "noun" },
      { japanese: "„Åä„Åã„Åó", kanji: "„ÅäËèìÂ≠ê", katakana: null, english: "Sweets", category: "noun" },
      { japanese: "„Åä„Åã„Å≠", kanji: "„ÅäÈáë", katakana: null, english: "Money", category: "noun" },
      { japanese: "„Åä„Åè", kanji: "ÂÑÑ", katakana: null, english: "100 Million", category: "noun" },
      { japanese: "„Åä„Åè„Åï„Çì", kanji: "Â••„Åï„Çì", katakana: null, english: "Wife", category: "noun" },
      { japanese: "„Åä„Åè„Çä„ÇÇ„ÅÆ", kanji: "Ë¥à„ÇäÁâ©", katakana: null, english: "Gift", category: "noun" },
      { japanese: "„Åä„Åï„Åë", kanji: "„ÅäÈÖí", katakana: null, english: "Alcohol", category: "noun" },
      { japanese: "„Åä„Åò„Åï„Çì", kanji: "ÂèîÁà∂„Åï„Çì", katakana: null, english: "Uncle", category: "noun" },
      { japanese: "„Åä„Åù„ÅÜ„Åò", kanji: "„ÅäÊéÉÈô§", katakana: null, english: "Cleaning", category: "noun" },
      { japanese: "„Åä„Åù„Çå", kanji: "ÊÅê„Çå", katakana: null, english: "Fear", category: "noun" },
      { japanese: "„Åä„Å®„ÅÜ„Åï„Çì", kanji: "„ÅäÁà∂„Åï„Çì", katakana: null, english: "Father", category: "noun" },
      { japanese: "„Åä„Å®„Åì", kanji: "Áî∑", katakana: null, english: "Man", category: "noun" },
      { japanese: "„Åä„Å®„Å™", kanji: "Â§ß‰∫∫", katakana: null, english: "Adult", category: "noun" },
      { japanese: "„Åä„Å®„ÅÜ„Å®", kanji: "Âºü", katakana: null, english: "Younger Brother", category: "noun" },
      { japanese: "„Åä„Å®„ÇÅ", kanji: "‰πôÂ•≥", katakana: null, english: "Maiden", category: "noun" },
      { japanese: "„Åä„Å´„Åé„Çä", kanji: "„ÅäÊè°„Çä", katakana: null, english: "Rice Ball", category: "noun" },
      { japanese: "„Åä„Å∞„ÅÇ„Åï„Çì", kanji: "„ÅäÂ©Ü„Åï„Çì", katakana: null, english: "Grandmother", category: "noun" },
      { japanese: "„Åä„Åπ„Çì„Å®„ÅÜ", kanji: "„ÅäÂºÅÂΩì", katakana: null, english: "Boxed Lunch", category: "noun" },
      { japanese: "„Åä„Åæ„Çè„Çä„Åï„Çì", kanji: "„ÅäÂ∑°„Çä„Åï„Çì", katakana: null, english: "Police Officer", category: "noun" },
      { japanese: "„Åä„Åø„ÇÑ„Åí", kanji: "„ÅäÂúüÁî£", katakana: null, english: "Souvenir", category: "noun" },
      { japanese: "„Åä„ÇÇ„ÅÑ„Åß", kanji: "ÊÄù„ÅÑÂá∫", katakana: null, english: "Memories", category: "noun" },
      { japanese: "„Åä„ÇÇ„Å°„ÇÉ", kanji: "Áé©ÂÖ∑", katakana: null, english: "Toy", category: "noun" },
      { japanese: "„Åä„ÇÑ", kanji: "Ë¶™", katakana: null, english: "Parent", category: "noun" },
      { japanese: "„Åä„Çä", kanji: "Ê™ª", katakana: null, english: "Cage", category: "noun" },
      { japanese: "„Åä„Çì„Åå„Åè", kanji: "Èü≥Ê•Ω", katakana: null, english: "Music", category: "noun" },
      { japanese: "„Åä„Çì„Åõ„Çì", kanji: "Ê∏©Ê≥â", katakana: null, english: "Hot Spring", category: "noun" },
      { japanese: "„Åå„ÅÑ„Åì„Åè", kanji: "Â§ñÂõΩ", katakana: null, english: "Foreign Country", category: "noun" },
      { japanese: "„Åå„Åè„Åõ„ÅÑ", kanji: "Â≠¶Áîü", katakana: null, english: "Student", category: "noun" },
      { japanese: "„Åå„Åè„Åò„ÇÖ„Å§", kanji: "Â≠¶Ë°ì", katakana: null, english: "Academic", category: "noun" },
      { japanese: "„Åå„Çì„ÇÅ„Çì", kanji: "È°îÈù¢", katakana: null, english: "Face", category: "noun" },
      { japanese: "„Åã„ÅÑ„Åå„ÅÑ", kanji: "Êµ∑Â§ñ", katakana: null, english: "Overseas", category: "noun" },
      { japanese: "„Åã„ÅÑ„Åé", kanji: "‰ºöË≠∞", katakana: null, english: "Meeting", category: "noun" },
      { japanese: "„Åã„ÅÑ„Åó„ÇÉ", kanji: "‰ºöÁ§æ", katakana: null, english: "Company", category: "noun" },
      { japanese: "„Åã„ÅÑ„Å†„Çì", kanji: "ÈöéÊÆµ", katakana: null, english: "Stairs", category: "noun" },
      { japanese: "„Åã„ÅÑ„ÇÇ„ÅÆ", kanji: "Ë≤∑„ÅÑÁâ©", katakana: null, english: "Shopping", category: "noun" },
      { japanese: "„Åã„Åå„Åè", kanji: "ÁßëÂ≠¶", katakana: null, english: "Science", category: "noun" },
      { japanese: "„Åã„Åí", kanji: "ÂΩ±", katakana: null, english: "Shadow", category: "noun" },
      { japanese: "„Åã„Åé", kanji: "Èçµ", katakana: null, english: "Key", category: "noun" },
      { japanese: "„Åã„Åï", kanji: "ÂÇò", katakana: null, english: "Umbrella", category: "noun" },
      { japanese: "„Åã„Åû„Åè", kanji: "ÂÆ∂Êóè", katakana: null, english: "Family", category: "noun" },
      { japanese: "„Åã„Åü", kanji: "ËÇ©", katakana: null, english: "Shoulder", category: "noun" },
      { japanese: "„Åã„Å©", kanji: "Ëßí", katakana: null, english: "Corner", category: "noun" },
      { japanese: "„Åã„Å™„Åó„Åø", kanji: "ÊÇ≤„Åó„Åø", katakana: null, english: "Sadness", category: "noun" },
      { japanese: "„Åã„Å≠", kanji: "Èêò", katakana: null, english: "Bell", category: "noun" },
      { japanese: "„Åã„Å∞„Çì", kanji: null, katakana: "„Ç´„Éê„É≥", english: "Bag", category: "noun" },
      { japanese: "„Åã„Åπ", kanji: "Â£Å", katakana: null, english: "Wall", category: "noun" },
      { japanese: "„Åã„Åø", kanji: "Á¥ô", katakana: null, english: "Paper", category: "noun" },
      { japanese: "„Åã„Åø„Åï„Åæ", kanji: "Á•ûÊßò", katakana: null, english: "God", category: "noun" },
      { japanese: "„Åã„ÇÅ", kanji: "‰∫Ä", katakana: null, english: "Turtle", category: "noun" },
      { japanese: "„Åã„Çå„Åó", kanji: "ÂΩºÊ∞è", katakana: null, english: "Boyfriend", category: "noun" },
      { japanese: "„Åã„Çè", kanji: "Â∑ù", katakana: null, english: "River", category: "noun" },
      { japanese: "„Åã„Çì„Åå„Åà", kanji: "ËÄÉ„Åà", katakana: null, english: "Thought", category: "noun" },
      { japanese: "„Åã„Çì„Åë„ÅÑ", kanji: "Èñ¢‰øÇ", katakana: null, english: "Relationship", category: "noun" },
      { japanese: "„Åã„Çì„Åì„Åè", kanji: "ÈüìÂõΩ", katakana: null, english: "South Korea", category: "noun" },
      { japanese: "„Åç„Åä„Çì", kanji: "Ê∞óÊ∏©", katakana: null, english: "Temperature", category: "noun" },
      { japanese: "„Åç„Åã„ÅÑ", kanji: "Ê©üÊ¢∞", katakana: null, english: "Machine", category: "noun" },
      { japanese: "„Åç„Åë„Çì", kanji: "Âç±Èô∫", katakana: null, english: "Danger", category: "noun" },
      { japanese: "„Åç„Å∂„Çì", kanji: "Ê∞óÂàÜ", katakana: null, english: "Feeling", category: "noun" },
      { japanese: "„Åç„Åº„ÅÜ", kanji: "Â∏åÊúõ", katakana: null, english: "Hope", category: "noun" },
      { japanese: "„Åç„ÇÇ„Å°", kanji: "Ê∞óÊåÅ„Å°", katakana: null, english: "Feeling", category: "noun" },
      { japanese: "„Åç„ÇÉ„Åè", kanji: "ÂÆ¢", katakana: null, english: "Guest", category: "noun" },
      { japanese: "„Åç„ÇÉ„Åè„Åõ„Çì", kanji: "ÂÆ¢Ëàπ", katakana: null, english: "Passenger Ship", category: "noun" },
      { japanese: "„Åç„ÇÉ„Åè„Åª„Çì", kanji: "ËÑöÊú¨", katakana: null, english: "Script", category: "noun" },
      { japanese: "„Åç„ÇÉ„Åü„Å§", kanji: "ËÑöÁ´ã", katakana: null, english: "Stepladder", category: "noun" },
      { japanese: "„Åç„ÇÖ„ÅÜ„Åã", kanji: "‰ºëÊöá", katakana: null, english: "Holiday", category: "noun" },
      { japanese: "„Åç„ÇÖ„ÅÜ„Åç„ÇÖ„ÅÜ„Åó„ÇÉ", kanji: "ÊïëÊÄ•Ëªä", katakana: null, english: "Ambulance", category: "noun" },
      { japanese: "„Åç„ÇÖ„ÅÜ„Çä", kanji: null, katakana: "„Ç≠„É•„Ç¶„É™", english: "Cucumber", category: "noun" },
      { japanese: "„Åç„ÇÖ„ÅÜ„Çà", kanji: "Áµ¶‰∏é", katakana: null, english: "Salary", category: "noun" },
      { japanese: "„Åç„Çá„ÅÜ", kanji: "‰ªäÊó•", katakana: null, english: "Today", category: "noun" },
      { japanese: "„Åç„Çá„ÅÜ„Åã„Åó„Çá", kanji: "ÊïôÁßëÊõ∏", katakana: null, english: "Textbook", category: "noun" },
      { japanese: "„Åç„Çá„ÅÜ„Åó„Å§", kanji: "ÊïôÂÆ§", katakana: null, english: "Classroom", category: "noun" },
      { japanese: "„Åç„Çá„ÅÜ„ÅÑ„Çì", kanji: "ÊïôÂì°", katakana: null, english: "Teacher", category: "noun" },
      { japanese: "„Åç„Çá„ÅÜ„Åø", kanji: "ËààÂë≥", katakana: null, english: "Interest", category: "noun" },
      { japanese: "„Åç„Çâ„ÅÑ", kanji: "Â´å„ÅÑ", katakana: null, english: "Dislike", category: "noun" },
      { japanese: "„Åç„Çç„Åè", kanji: "Ë®òÈå≤", katakana: null, english: "Record", category: "noun" },
      { japanese: "„Åé„ÅÑ„Çì", kanji: "Ë≠∞Âì°", katakana: null, english: "Legislator", category: "noun" },
      { japanese: "„Åé„Åò„ÇÖ„Å§", kanji: "ÊäÄË°ì", katakana: null, english: "Technology", category: "noun" },
      { japanese: "„Åé„ÇÇ„Çì", kanji: "ÁñëÂïè", katakana: null, english: "Question", category: "noun" },
      { japanese: "„Åé„ÇÄ", kanji: "Áæ©Âãô", katakana: null, english: "Duty", category: "noun" },
      { japanese: "„Åé„ÇÉ„Åè", kanji: "ÈÄÜ", katakana: null, english: "Reverse", category: "noun" },
      { japanese: "„Åé„ÇÖ„ÅÜ„Å´„Åè", kanji: "ÁâõËÇâ", katakana: null, english: "Beef", category: "noun" },
      { japanese: "„Åé„ÇÖ„ÅÜ„Å´„ÇÖ„ÅÜ", kanji: "Áâõ‰π≥", katakana: null, english: "Milk", category: "noun" },
      { japanese: "„Åé„Çá„ÅÜ„Åé", kanji: "Ë°åÂÑÄ", katakana: null, english: "Manners", category: "noun" },
      { japanese: "„Åé„Çá„ÅÜ„Åó„ÇÉ", kanji: "Ê•≠ËÄÖ", katakana: null, english: "Merchant", category: "noun" },
      { japanese: "„Åé„Çá„ÅÜ„Åò", kanji: "Ë°å‰∫ã", katakana: null, english: "Event", category: "noun" },
      { japanese: "„Åé„Çá„Åé„Çá„ÅÜ", kanji: "ÊºÅÊ•≠", katakana: null, english: "Fishery Industry", category: "noun" },
      { japanese: "„Åé„Çç„Çì", kanji: "Ë≠∞Ë´ñ", katakana: null, english: "Argument", category: "noun" },
      { japanese: "„Åê„ÅÜ„Åú„Çì", kanji: "ÂÅ∂ÁÑ∂", katakana: null, english: "By Chance", category: "noun" },
      { japanese: "„Åê„Å°", kanji: "ÊÑöÁó¥", katakana: null, english: "Complaint", category: "noun" },
      { japanese: "„Åê„Çì„Åü„ÅÑ", kanji: "ËªçÈöä", katakana: null, english: "Military", category: "noun" },
      { japanese: "„Åê„Çì„Å¶", kanji: "ËªçÊâã", katakana: null, english: "Work Gloves", category: "noun" },
      { japanese: "„Åè„ÅÜ„Åç", kanji: "Á©∫Ê∞ó", katakana: null, english: "Air", category: "noun" },
      { japanese: "„Åè„Åï", kanji: "Ëçâ", katakana: null, english: "Grass", category: "noun" },
      { japanese: "„Åè„Å†„ÇÇ„ÅÆ", kanji: "ÊûúÁâ©", katakana: null, english: "Fruit", category: "noun" },
      { japanese: "„Åè„Å§", kanji: "Èù¥", katakana: null, english: "Shoes", category: "noun" },
      { japanese: "„Åè„Å§„Åó„Åü", kanji: "Èù¥‰∏ã", katakana: null, english: "Socks", category: "noun" },
      { japanese: "„Åè„Å≥", kanji: "È¶ñ", katakana: null, english: "Neck", category: "noun" },
      { japanese: "„Åè„ÇÇ", kanji: "Èõ≤", katakana: null, english: "Cloud", category: "noun" },
      { japanese: "„Åè„Çã„Åæ", kanji: "Ëªä", katakana: null, english: "Car", category: "noun" },
      { japanese: "„Åë„ÅÑ„Åã„Åè", kanji: "Ë®àÁîª", katakana: null, english: "Plan", category: "noun" },
      { japanese: "„Åë„ÅÑ„Åï„Çì", kanji: "Ë®àÁÆó", katakana: null, english: "Calculation", category: "noun" },
      { japanese: "„Åë„ÅÑ„Åñ„ÅÑ", kanji: "ÁµåÊ∏à", katakana: null, english: "Economics", category: "noun" },
      { japanese: "„Åë„Åå", kanji: "ÊÄ™Êàë", katakana: null, english: "Injury", category: "noun" },
      { japanese: "„Åí„Åç", kanji: "Âäá", katakana: null, english: "Theater Play", category: "noun" },
      { japanese: "„Åë„Åó„Åç", kanji: "ÊôØËâ≤", katakana: null, english: "Scenery", category: "noun" },
      { japanese: "„Åë„Åó„Çá„ÅÜ", kanji: "ÂåñÁ≤ß", katakana: null, english: "Makeup", category: "noun" },
      { japanese: "„Åë„Å£„Åã", kanji: "ÁµêÊûú", katakana: null, english: "Result", category: "noun" },
      { japanese: "„Åë„Å£„Åì„Çì", kanji: "ÁµêÂ©ö", katakana: null, english: "Marriage", category: "noun" },
      { japanese: "„Åí„Å£„Åç„ÇÖ„ÅÜ", kanji: "ÊúàÁµ¶", katakana: null, english: "Monthly Salary", category: "noun" },
      { japanese: "„Åí„Å§„Åæ„Å§", kanji: "ÊúàÊú´", katakana: null, english: "End of Month", category: "noun" },
      { japanese: "„Åë„ÇÄ„Çä", kanji: "ÁÖô", katakana: null, english: "Smoke", category: "noun" },
      { japanese: "„Åë„Çì„Åç„ÇÖ„ÅÜ", kanji: "Á†îÁ©∂", katakana: null, english: "Research", category: "noun" },
      { japanese: "„Åë„Çì„Åì„ÅÜ", kanji: "ÂÅ•Â∫∑", katakana: null, english: "Health", category: "noun" },
      { japanese: "„Åì„ÅÑ„Å≥„Å®", kanji: "ÊÅã‰∫∫", katakana: null, english: "Lover", category: "noun" },
      { japanese: "„Åì„ÅÜ„Åì„Åè", kanji: "Â∫ÉÂëä", katakana: null, english: "Advertisement", category: "noun" },
      { japanese: "„Åì„ÅÜ„Åï„Å¶„Çì", kanji: "‰∫§Â∑ÆÁÇπ", katakana: null, english: "Intersection", category: "noun" },
      { japanese: "„Åì„ÅÜ„Åò„Çá„ÅÜ", kanji: "Â∑•Â†¥", katakana: null, english: "Factory", category: "noun" },
      { japanese: "„Åì„ÅÜ„Å°„ÇÉ", kanji: "Á¥ÖËå∂", katakana: null, english: "Black Tea", category: "noun" },
      { japanese: "„Åì„ÅÜ„Å§„ÅÜ", kanji: "‰∫§ÈÄö", katakana: null, english: "Traffic", category: "noun" },
      { japanese: "„Åî„ÅÜ„Åã„Åè", kanji: "ÂêàÊ†º", katakana: null, english: "Pass Exam", category: "noun" },
      { japanese: "„Åî„ÅÜ„Åë„ÅÑ", kanji: "ÂêàË®à", katakana: null, english: "Total", category: "noun" },
      { japanese: "„Åî„ÅÜ„Å®„ÅÜ", kanji: "Âº∑Áõó", katakana: null, english: "Robber", category: "noun" },
      { japanese: "„Åì„Åà", kanji: "Â£∞", katakana: null, english: "Voice", category: "noun" },
      { japanese: "„Åì„Åì„Çç", kanji: "ÂøÉ", katakana: null, english: "Heart", category: "noun" },
      { japanese: "„Åì„Å®„Å∞", kanji: "Ë®ÄËëâ", katakana: null, english: "Words", category: "noun" },
      { japanese: "„Åì„Å©„ÇÇ", kanji: "Â≠ê‰æõ", katakana: null, english: "Child", category: "noun" },
      { japanese: "„Åî„ÅØ„Çì", kanji: "„ÅîÈ£Ø", katakana: null, english: "Rice", category: "noun" },
      { japanese: "„Åî„Åæ", kanji: "ËÉ°È∫ª", katakana: null, english: "Sesame", category: "noun" },
      { japanese: "„Åî„Åø", kanji: null, katakana: "„Ç¥„Éü", english: "Garbage", category: "noun" },
      { japanese: "„Åì„ÇÅ", kanji: "Á±≥", katakana: null, english: "Uncooked Rice", category: "noun" },
      { japanese: "„Åñ„ÅÑ„Åï„Çì", kanji: "Ë≤°Áî£", katakana: null, english: "Property", category: "noun" },
      { japanese: "„Åñ„ÅÑ„ÇÇ„Åè", kanji: "ÊùêÊú®", katakana: null, english: "Timber", category: "noun" },
      { japanese: "„Åñ„Å£„Åó", kanji: "ÈõëË™å", katakana: null, english: "Magazine", category: "noun" },
      { japanese: "„Åï„Åã„Å™", kanji: "È≠ö", katakana: null, english: "Fish", category: "noun" },
      { japanese: "„Åï„Åè„Å∂„Çì", kanji: "‰ΩúÊñá", katakana: null, english: "Composition", category: "noun" },
      { japanese: "„Åï„Åè„Çâ", kanji: "Ê°ú", katakana: null, english: "Cherry Blossoms", category: "noun" },
      { japanese: "„Åï„Åë", kanji: "ÈÆ≠", katakana: null, english: "Salmon", category: "noun" },
      { japanese: "„Åï„Å®„ÅÜ", kanji: "Á†ÇÁ≥ñ", katakana: null, english: "Sugar", category: "noun" },
      { japanese: "„Åï„Çâ", kanji: "Áöø", katakana: null, english: "Plate", category: "noun" },
      { japanese: "„Åó„Åä", kanji: "Â°©", katakana: null, english: "Salt", category: "noun" },
      { japanese: "„Åó„Åç", kanji: "ÂõõÂ≠£", katakana: null, english: "Four Seasons", category: "noun" },
      { japanese: "„Åò„Åã„ÅÑ", kanji: "Ê¨°Âõû", katakana: null, english: "Next Time", category: "noun" },
      { japanese: "„Åò„Åã„Çì", kanji: "ÊôÇÈñì", katakana: null, english: "Time", category: "noun" },
      { japanese: "„Åó„Åë„Çì", kanji: "Ë©¶È®ì", katakana: null, english: "Exam", category: "noun" },
      { japanese: "„Åò„Åë„Çì", kanji: "‰∫ã‰ª∂", katakana: null, english: "Incident", category: "noun" },
      { japanese: "„Åò„Åì", kanji: "‰∫ãÊïÖ", katakana: null, english: "Accident", category: "noun" },
      { japanese: "„Åó„Åî„Å®", kanji: "‰ªï‰∫ã", katakana: null, english: "Work", category: "noun" },
      { japanese: "„Åò„Åï„Å§", kanji: "Ëá™ÊÆ∫", katakana: null, english: "Suicide", category: "noun" },
      { japanese: "„Åò„Åó„Çì", kanji: "Âú∞Èúá", katakana: null, english: "Earthquake", category: "noun" },
      { japanese: "„Åó„Åö„Åã", kanji: "Èùô„Åã", katakana: null, english: "Quiet", category: "noun" },
      { japanese: "„Åó„Åü", kanji: "‰∏ã", katakana: null, english: "Below", category: "noun" },
      { japanese: "„Åò„Å¶„Çì„Åó„ÇÉ", kanji: "Ëá™Ëª¢Ëªä", katakana: null, english: "Bicycle", category: "noun" },
      { japanese: "„Åò„Å∂„Çì", kanji: "Ëá™ÂàÜ", katakana: null, english: "Self", category: "noun" },
      { japanese: "„Åò„ÇÉ„Å©„ÅÜ", kanji: "ÈÇ™ÈÅì", katakana: null, english: "Wrong Way", category: "noun" },
      { japanese: "„Åò„ÇÉ„Å£„Åã„Çì", kanji: "Ëã•Âπ≤", katakana: null, english: "A Little", category: "noun" },
      { japanese: "„Åò„ÇÉ„Åæ", kanji: "ÈÇ™È≠î", katakana: null, english: "Hindrance", category: "noun" },
      { japanese: "„Åò„ÇÉ„Çì„Åë„Çì", kanji: null, katakana: "„Ç∏„É£„É≥„Ç±„É≥", english: "Rock Paper Scissors", category: "noun" },
      { japanese: "„Åó„ÇÉ„Åã„ÅÑ", kanji: "Á§æ‰ºö", katakana: null, english: "Society", category: "noun" },
      { japanese: "„Åó„ÇÉ„Åó„Çì", kanji: "ÂÜôÁúü", katakana: null, english: "Photo", category: "noun" },
      { japanese: "„Åó„ÇÉ„Å°„Çá„ÅÜ", kanji: "Á§æÈï∑", katakana: null, english: "President", category: "noun" },
      { japanese: "„Åó„ÇÉ„Å£„Åç„Çì", kanji: "ÂÄüÈáë", katakana: null, english: "Debt", category: "noun" },
      { japanese: "„Åó„ÇÖ„ÅÜ„Åã„ÅÑ", kanji: "ÈõÜ‰ºö", katakana: null, english: "Meeting", category: "noun" },
      { japanese: "„Åó„ÇÖ„ÅÜ„Åã„Çì", kanji: "ÁøíÊÖ£", katakana: null, english: "Habit", category: "noun" },
      { japanese: "„Åó„ÇÖ„ÅÜ„Åç„Çá„ÅÜ", kanji: "ÂÆóÊïô", katakana: null, english: "Religion", category: "noun" },
      { japanese: "„Åó„ÇÖ„ÅÜ„Åî„ÅÜ", kanji: "ÈõÜÂêà", katakana: null, english: "Gathering", category: "noun" },
      { japanese: "„Åó„ÇÖ„Åè„Å†„ÅÑ", kanji: "ÂÆøÈ°å", katakana: null, english: "Homework", category: "noun" },
      { japanese: "„Åó„ÇÖ„Åø", kanji: "Ë∂£Âë≥", katakana: null, english: "Hobby", category: "noun" },
      { japanese: "„Åò„ÇÖ„ÅÜ„Åó„Çá", kanji: "‰ΩèÊâÄ", katakana: null, english: "Address", category: "noun" },
      { japanese: "„Åò„ÇÖ„ÅÜ„Åó„Çá„ÅÜ", kanji: "ÈáçÂÇ∑", katakana: null, english: "Severe Injury", category: "noun" },
      { japanese: "„Åò„ÇÖ„ÅÜ„Åü„ÅÑ", kanji: "Ê∏ãÊªû", katakana: null, english: "Traffic Jam", category: "noun" },
      { japanese: "„Åò„ÇÖ„ÅÜ„Å©„ÅÜ", kanji: "ÊüîÈÅì", katakana: null, english: "Judo", category: "noun" },
      { japanese: "„Åó„Çá„ÅÜ„Åå", kanji: "ÁîüÂßú", katakana: null, english: "Ginger", category: "noun" },
      { japanese: "„Åó„Çá„ÅÜ„Åå„Å£„Åì„ÅÜ", kanji: "Â∞èÂ≠¶Ê†°", katakana: null, english: "Elementary School", category: "noun" },
      { japanese: "„Åó„Çá„ÅÜ„Åå„Å§", kanji: "Ê≠£Êúà", katakana: null, english: "New Year", category: "noun" },
      { japanese: "„Åó„Çá„ÅÜ„Åã", kanji: "Ê∂àÂåñ", katakana: null, english: "Digestion", category: "noun" },
      { japanese: "„Åó„Çá„ÅÜ„Åç", kanji: "Ê≠£Ê∞ó", katakana: null, english: "Sanity", category: "noun" },
      { japanese: "„Åó„Çá„ÅÜ„Åõ„Å§", kanji: "Â∞èË™¨", katakana: null, english: "Novel", category: "noun" },
      { japanese: "„Åó„Çá„ÅÜ„Åü„ÅÑ", kanji: "ÊãõÂæÖ", katakana: null, english: "Invitation", category: "noun" },
      { japanese: "„Åò„Çá„ÅÜ„Åä„ÅÜ", kanji: "Â•≥Áéã", katakana: null, english: "Queen", category: "noun" },
      { japanese: "„Åò„Çá„ÅÜ„Åë„Çì", kanji: "Êù°‰ª∂", katakana: null, english: "Condition", category: "noun" },
      { japanese: "„Åò„Çá„ÅÜ„Åç„Çá„ÅÜ", kanji: "Áä∂Ê≥Å", katakana: null, english: "Situation", category: "noun" },
      { japanese: "„Åò„Çá„ÅÜ„Åó„Åç", kanji: "Â∏∏Ë≠ò", katakana: null, english: "Common Sense", category: "noun" },
      { japanese: "„Åó„Çì„Å∂„Çì", kanji: "Êñ∞ËÅû", katakana: null, english: "Newspaper", category: "noun" },
      { japanese: "„Åô„ÅÑ„Åà„ÅÑ", kanji: "Ê∞¥Ê≥≥", katakana: null, english: "Swimming", category: "noun" },
      { japanese: "„Åô„ÅÜ„Åå„Åè", kanji: "Êï∞Â≠¶", katakana: null, english: "Math", category: "noun" },
      { japanese: "„Åô„ÅÜ„Åò", kanji: "Êï∞Â≠ó", katakana: null, english: "Number", category: "noun" },
      { japanese: "„Åô„Åó", kanji: "ÂØøÂè∏", katakana: null, english: "Sushi", category: "noun" },
      { japanese: "„Åô„Å™", kanji: "Á†Ç", katakana: null, english: "Sand", category: "noun" },
      { japanese: "„Åö„ÅÑ„Å≤„Å§", kanji: "ÈöèÁ≠Ü", katakana: null, english: "Essay", category: "noun" },
      { japanese: "„Åö„Åã„Çì", kanji: "Âõ≥Èëë", katakana: null, english: "Picture Dictionary", category: "noun" },
      { japanese: "„Åö„Å§„ÅÜ", kanji: "È†≠Áóõ", katakana: null, english: "Headache", category: "noun" },
      { japanese: "„Åõ„ÅÑ„Åã„Å§", kanji: "ÁîüÊ¥ª", katakana: null, english: "Life", category: "noun" },
      { japanese: "„Åõ„ÅÑ„Åì„ÅÜ", kanji: "ÊàêÂäü", katakana: null, english: "Success", category: "noun" },
      { japanese: "„Åõ„ÅÑ„Åò", kanji: "ÊîøÊ≤ª", katakana: null, english: "Politics", category: "noun" },
      { japanese: "„Åõ„ÅÑ„Å®", kanji: "ÁîüÂæí", katakana: null, english: "Student", category: "noun" },
      { japanese: "„Åú„ÅÑ„Åç„Çì", kanji: "Á®éÈáë", katakana: null, english: "Tax", category: "noun" },
      { japanese: "„Åú„ÅÑ„Åü„Åè", kanji: "Ë¥ÖÊ≤¢", katakana: null, english: "Luxury", category: "noun" },
      { japanese: "„Åú„ÅÑ„Å´„Åè", kanji: "Ë¥ÖËÇâ", katakana: null, english: "Flab", category: "noun" },
      { japanese: "„Åõ„Å™„Åã", kanji: "ËÉå‰∏≠", katakana: null, english: "Back", category: "noun" },
      { japanese: "„Åõ„Çì„Åõ„ÅÑ", kanji: "ÂÖàÁîü", katakana: null, english: "Teacher", category: "noun" },
      { japanese: "„Åõ„Çì„Åü„Åè", kanji: "Ê¥óÊøØ", katakana: null, english: "Laundry", category: "noun" },
      { japanese: "„Åú„Å£„Åë„ÅÑ", kanji: "Áµ∂ÊôØ", katakana: null, english: "Spectacular Scenery", category: "noun" },
      { japanese: "„Åù„Å§„Åé„Çá„ÅÜ", kanji: "ÂçíÊ•≠", katakana: null, english: "Graduation", category: "noun" },
      { japanese: "„Åù„ÅÜ„Åò", kanji: "ÊéÉÈô§", katakana: null, english: "Cleaning", category: "noun" },
      { japanese: "„Åû„ÅÜ", kanji: "Ë±°", katakana: null, english: "Elephant", category: "noun" },
      { japanese: "„Åû„ÅÜ„Åã", kanji: "Â¢óÂä†", katakana: null, english: "Increase", category: "noun" },
      { japanese: "„Åû„ÅÜ„Åõ„Çì", kanji: "ÈÄ†Ëàπ", katakana: null, english: "Shipbuilding", category: "noun" },
      { japanese: "„Åû„Åè„Åî", kanji: "‰øóË™û", katakana: null, english: "Slang", category: "noun" },
      { japanese: "„Åù„Å®", kanji: "Â§ñ", katakana: null, english: "Outside", category: "noun" },
      { japanese: "„Åù„Å∞", kanji: "ËïéÈ∫¶", katakana: null, english: "Buckwheat Noodles", category: "noun" },
      { japanese: "„Åù„Åµ", kanji: "Á•ñÁà∂", katakana: null, english: "Grandfather", category: "noun" },
      { japanese: "„Åù„Çâ", kanji: "Á©∫", katakana: null, english: "Sky", category: "noun" },
      { japanese: "„Å†„ÅÑ„Åå„Åè", kanji: "Â§ßÂ≠¶", katakana: null, english: "University", category: "noun" },
      { japanese: "„Å†„ÅÑ„Å©„Åì„Çç", kanji: "Âè∞ÊâÄ", katakana: null, english: "Kitchen", category: "noun" },
      { japanese: "„Åü„ÅÑ„ÅÑ„Åè", kanji: "‰ΩìËÇ≤", katakana: null, english: "Physical Education", category: "noun" },
      { japanese: "„Åü„ÅÑ„Åò„ÇÖ„ÅÜ", kanji: "‰ΩìÈáç", katakana: null, english: "Body Weight", category: "noun" },
      { japanese: "„Åü„Åã„Çâ", kanji: "ÂÆù", katakana: null, english: "Treasure", category: "noun" },
      { japanese: "„Åü„Åë", kanji: "Á´π", katakana: null, english: "Bamboo", category: "noun" },
      { japanese: "„Å†„Åæ„Åô", kanji: "È®ô„Åô", katakana: null, english: "To Deceive", category: "verb" },
      { japanese: "„Å†„Çì„Åõ„ÅÑ", kanji: "Áî∑ÊÄß", katakana: null, english: "Male", category: "noun" },
      { japanese: "„Åü„Å¶„ÇÇ„ÅÆ", kanji: "Âª∫Áâ©", katakana: null, english: "Building", category: "noun" },
      { japanese: "„Åü„Å≥", kanji: "ÊóÖ", katakana: null, english: "Travel", category: "noun" },
      { japanese: "„Å°„Åã", kanji: "Âú∞‰∏ã", katakana: null, english: "Underground", category: "noun" },
      { japanese: "„Å°„Åì„Åè", kanji: "ÈÅÖÂàª", katakana: null, english: "Late", category: "noun" },
      { japanese: "„Å°„Åó„Åç", kanji: "Áü•Ë≠ò", katakana: null, english: "Knowledge", category: "noun" },
      { japanese: "„Å°„Å°", kanji: "Áà∂", katakana: null, english: "Father", category: "noun" },
      { japanese: "„Å°„ÇÉ", kanji: "Ëå∂", katakana: null, english: "Tea", category: "noun" },
      { japanese: "„Å°„ÇÉ„Åè„ÇÇ„Åè", kanji: "ÁùÄÁõÆ", katakana: null, english: "Focus", category: "noun" },
      { japanese: "„Å°„ÇÉ„Çè„Çì", kanji: "Ëå∂Á¢ó", katakana: null, english: "Tea Bowl", category: "noun" },
      { japanese: "„Å°„ÇÖ„ÅÜ„ÅÑ", kanji: "Ê≥®ÊÑè", katakana: null, english: "Caution", category: "noun" },
      { japanese: "„Å°„ÇÖ„ÅÜ„Åå„Å£„Åì„ÅÜ", kanji: "‰∏≠Â≠¶Ê†°", katakana: null, english: "Middle School", category: "noun" },
      { japanese: "„Å°„ÇÖ„ÅÜ„Åì", kanji: "‰∏≠Âè§", katakana: null, english: "Second Hand", category: "noun" },
      { japanese: "„Å°„ÇÖ„ÅÜ„Åó", kanji: "‰∏≠Ê≠¢", katakana: null, english: "Cancellation", category: "noun" },
      { japanese: "„Å°„ÇÖ„ÅÜ„Åó„ÇÉ", kanji: "Ê≥®Â∞Ñ", katakana: null, english: "Injection", category: "noun" },
      { japanese: "„Å°„ÇÖ„ÅÜ„Åó„Çá„Åè", kanji: "ÊòºÈ£ü", katakana: null, english: "Lunch", category: "noun" },
      { japanese: "„Å°„ÇÖ„ÅÜ„Å≠„Çì", kanji: "‰∏≠Âπ¥", katakana: null, english: "Middle Aged", category: "noun" },
      { japanese: "„Å°„Çá„ÅÜ„Åã„Çì", kanji: "ÊúùÂàä", katakana: null, english: "Morning Newspaper", category: "noun" },
      { japanese: "„Å°„Çá„ÅÜ„Åï", kanji: "Ë™øÊüª", katakana: null, english: "Investigation", category: "noun" },
      { japanese: "„Å°„Çá„ÅÜ„Åó„Çá", kanji: "Èï∑ÊâÄ", katakana: null, english: "Strong Point", category: "noun" },
      { japanese: "„Å°„Çá„Åç„Çì", kanji: "Ë≤ØÈáë", katakana: null, english: "Savings", category: "noun" },
      { japanese: "„Å°„Çá„Åó„ÇÉ", kanji: "ËëóËÄÖ", katakana: null, english: "Author", category: "noun" },
      { japanese: "„Å°„Çá„ÅÜ„Åø„Çä„Çá„ÅÜ", kanji: "Ë™øÂë≥Êñô", katakana: null, english: "Condiment", category: "noun" },
      { japanese: "„Å°„Åö", kanji: "Âú∞Âõ≥", katakana: null, english: "Map", category: "noun" },
      { japanese: "„Å§„Åç", kanji: "Êúà", katakana: null, english: "Moon", category: "noun" },
      { japanese: "„Å§„Åè„Åà", kanji: "Êú∫", katakana: null, english: "Desk", category: "noun" },
      { japanese: "„Å§„Åæ", kanji: "Â¶ª", katakana: null, english: "Wife", category: "noun" },
      { japanese: "„Å§„Åø", kanji: "ÁΩ™", katakana: null, english: "Crime", category: "noun" },
      { japanese: "„Å§„ÇÅ", kanji: "Áà™", katakana: null, english: "Fingernail", category: "noun" },
      { japanese: "„Å¶„Åå„Åø", kanji: "ÊâãÁ¥ô", katakana: null, english: "Letter", category: "noun" },
      { japanese: "„Å¶„Åç", kanji: "Êïµ", katakana: null, english: "Enemy", category: "noun" },
      { japanese: "„Åß„Åç„Åî„Å®", kanji: "Âá∫Êù•‰∫ã", katakana: null, english: "Event", category: "noun" },
      { japanese: "„Åß„Åê„Å°", kanji: "Âá∫Âè£", katakana: null, english: "Exit", category: "noun" },
      { japanese: "„Å¶„Çâ", kanji: "ÂØ∫", katakana: null, english: "Temple", category: "noun" },
      { japanese: "„Å¶„Çì„Åç", kanji: "Â§©Ê∞ó", katakana: null, english: "Weather", category: "noun" },
      { japanese: "„Åß„Çì„Åç", kanji: "ÈõªÊ∞ó", katakana: null, english: "Electricity", category: "noun" },
      { japanese: "„Åß„Çì„Åó„ÇÉ", kanji: "ÈõªËªä", katakana: null, english: "Train", category: "noun" },
      { japanese: "„Åß„Çì„Å°", kanji: "ÈõªÊ±†", katakana: null, english: "Battery", category: "noun" },
      { japanese: "„Åß„Çì„Çè", kanji: "ÈõªË©±", katakana: null, english: "Phone", category: "noun" },
      { japanese: "„Å®„ÅÑ„Çå", kanji: null, katakana: "„Éà„Ç§„É¨", english: "Toilet", category: "noun" },
      { japanese: "„Å®„Åë„ÅÑ", kanji: "ÊôÇË®à", katakana: null, english: "Clock", category: "noun" },
      { japanese: "„Å®„Åì„Çç", kanji: "ÊâÄ", katakana: null, english: "Place", category: "noun" },
      { japanese: "„Å®„Åó", kanji: "Âπ¥", katakana: null, english: "Year", category: "noun" },
      { japanese: "„Å®„Åó„Çá„Åã„Çì", kanji: "Âõ≥Êõ∏È§®", katakana: null, english: "Library", category: "noun" },
      { japanese: "„Å©„ÅÜ„Åê", kanji: "ÈÅìÂÖ∑", katakana: null, english: "Tool", category: "noun" },
      { japanese: "„Å©„ÅÜ„Åó", kanji: "ÂãïË©û", katakana: null, english: "Verb", category: "noun" },
      { japanese: "„Å©„ÅÜ„Å∂„Å§", kanji: "ÂãïÁâ©", katakana: null, english: "Animal", category: "noun" },
      { japanese: "„Å©„Çä„Çá„Åè", kanji: "Âä™Âäõ", katakana: null, english: "Effort", category: "noun" },
      { japanese: "„Å®„Çä", kanji: "È≥•", katakana: null, english: "Bird", category: "noun" },
      { japanese: "„Å™„Åã„Åæ", kanji: "‰ª≤Èñì", katakana: null, english: "Friend", category: "noun" },
      { japanese: "„Å™„Å§", kanji: "Â§è", katakana: null, english: "Summer", category: "noun" },
      { japanese: "„Å™„Åπ", kanji: "Èçã", katakana: null, english: "Pot", category: "noun" },
      { japanese: "„Å™„Åæ„Åà", kanji: "ÂêçÂâç", katakana: null, english: "Name", category: "noun" },
      { japanese: "„Å™„Åø„Å†", kanji: "Ê∂ô", katakana: null, english: "Tears", category: "noun" },
      { japanese: "„Å´„Åä„ÅÑ", kanji: "ÂåÇ„ÅÑ", katakana: null, english: "Smell", category: "noun" },
      { japanese: "„Å´„Åè", kanji: "ËÇâ", katakana: null, english: "Meat", category: "noun" },
      { japanese: "„Å´„Åó", kanji: "Ë•ø", katakana: null, english: "West", category: "noun" },
      { japanese: "„Å´„Åª„Çì", kanji: "Êó•Êú¨", katakana: null, english: "Japan", category: "noun" },
      { japanese: "„Å´„ÇÖ„ÅÜ„Åå„Åè", kanji: "ÂÖ•Â≠¶", katakana: null, english: "School Admission", category: "noun" },
      { japanese: "„Å´„ÇÖ„ÅÜ„Åå„Çì", kanji: "‰π≥Áôå", katakana: null, english: "Breast Cancer", category: "noun" },
      { japanese: "„Å´„ÇÖ„ÅÜ„Åò„Çá„ÅÜ", kanji: "ÂÖ•Â†¥", katakana: null, english: "Admission to Place", category: "noun" },
      { japanese: "„Å´„ÇÖ„ÅÜ„Åó„ÇÉ", kanji: "ÂÖ•Á§æ", katakana: null, english: "Joining a Company", category: "noun" },
      { japanese: "„Å´„ÇÖ„ÅÜ„ÅÑ„Çì", kanji: "ÂÖ•Èô¢", katakana: null, english: "Hospitalization", category: "noun" },
      { japanese: "„Å´„Çì„Åí„Çì", kanji: "‰∫∫Èñì", katakana: null, english: "Human", category: "noun" },
      { japanese: "„Å´„Çì„Åé„Çá„ÅÜ", kanji: "‰∫∫ÂΩ¢", katakana: null, english: "Doll", category: "noun" },
      { japanese: "„Å´„Çè", kanji: "Â∫≠", katakana: null, english: "Garden", category: "noun" },
      { japanese: "„Å´„Çá„ÅÜ", kanji: "Â∞ø", katakana: null, english: "Urine", category: "noun" },
      { japanese: "„Å´„Çá„ÅÜ„Åº„ÅÜ", kanji: "Â•≥Êàø", katakana: null, english: "Wife", category: "noun" },
      { japanese: "„Å´„ÇÉ„Çì„Åì", kanji: null, katakana: "„Éã„É£„É≥„Ç≥", english: "Kitty", category: "noun" },
      { japanese: "„Å¨„ÅÜ", kanji: "Á∏´„ÅÜ", katakana: null, english: "To Sew", category: "verb" },
      { japanese: "„Å¨„Åô„ÇÄ", kanji: "Áõó„ÇÄ", katakana: null, english: "To Steal", category: "verb" },
      { japanese: "„Å¨„ÅÆ", kanji: "Â∏É", katakana: null, english: "Fabric", category: "noun" },
      { japanese: "„Å≠„Åì", kanji: "Áå´", katakana: null, english: "Cat", category: "noun" },
      { japanese: "„Å≠„Å†„Çì", kanji: "ÂÄ§ÊÆµ", katakana: null, english: "Price", category: "noun" },
      { japanese: "„Å≠„Å§", kanji: "ÁÜ±", katakana: null, english: "Fever", category: "noun" },
      { japanese: "„ÅÆ„Å©", kanji: "Âñâ", katakana: null, english: "Throat", category: "noun" },
      { japanese: "„ÅÆ„Åø„ÇÇ„ÅÆ", kanji: "È£≤„ÅøÁâ©", katakana: null, english: "Drink", category: "noun" },
      { japanese: "„ÅÆ„Çä", kanji: "Êµ∑Ëãî", katakana: null, english: "Seaweed", category: "noun" },
      { japanese: "„ÅÆ„Çä„ÇÇ„ÅÆ", kanji: "‰πó„ÇäÁâ©", katakana: null, english: "Vehicle", category: "noun" },
      { japanese: "„ÅØ„ÅÑ„Åó„ÇÉ", kanji: "Ê≠ØÂåªËÄÖ", katakana: null, english: "Dentist", category: "noun" },
      { japanese: "„ÅØ„Åã", kanji: "Â¢ì", katakana: null, english: "Grave", category: "noun" },
      { japanese: "„ÅØ„Åå„Åç", kanji: "ËëâÊõ∏", katakana: null, english: "Postcard", category: "noun" },
      { japanese: "„ÅØ„Åì", kanji: "ÁÆ±", katakana: null, english: "Box", category: "noun" },
      { japanese: "„ÅØ„Åè„Å∂„Å§„Åã„Çì", kanji: "ÂçöÁâ©È§®", katakana: null, english: "Museum", category: "noun" },
      { japanese: "„Å∞„ÅÑ„Åç„Çì", kanji: "Èª¥Ëèå", katakana: null, english: "Germ", category: "noun" },
      { japanese: "„Å∞„ÅÑ", kanji: "ÂÄç", katakana: null, english: "Double", category: "noun" },
      { japanese: "„ÅØ„Å™", kanji: "Ëä±", katakana: null, english: "Flower", category: "noun" },
      { japanese: "„ÅØ„ÅØ", kanji: "ÊØç", katakana: null, english: "Mother", category: "noun" },
      { japanese: "„ÅØ„Çã", kanji: "Êò•", katakana: null, english: "Spring", category: "noun" },
      { japanese: "„Å∞„Åó„Çá", kanji: "Â†¥ÊâÄ", katakana: null, english: "Place", category: "noun" },
      { japanese: "„Å≤„Åå„Åó", kanji: "Êù±", katakana: null, english: "East", category: "noun" },
      { japanese: "„Å≤„Åã„Çä", kanji: "ÂÖâ", katakana: null, english: "Light", category: "noun" },
      { japanese: "„Å≤„Åì„ÅÜ„Åç", kanji: "È£õË°åÊ©ü", katakana: null, english: "Airplane", category: "noun" },
      { japanese: "„Å≤„Åµ", kanji: "ÁöÆËÜö", katakana: null, english: "Skin", category: "noun" },
      { japanese: "„Å≤„ÇÉ„Å£„Åã„Åò„Å¶„Çì", kanji: "ÁôæÁßë‰∫ãÂÖ∏", katakana: null, english: "Encyclopedia", category: "noun" },
      { japanese: "„Å≥„ÇÉ„Åè„ÇÑ", kanji: "ÁôΩÂ§ú", katakana: null, english: "The Midnight Sun", category: "noun" },
      { japanese: "„Å≥„Çà„ÅÜ", kanji: "ÁæéÂÆπ", katakana: null, english: "Beauty", category: "noun" },
      { japanese: "„Å≥„Çá„ÅÜ", kanji: "Áßí", katakana: null, english: "Second", category: "noun" },
      { japanese: "„Å≥„Çá„ÅÜ„Åç", kanji: "ÁóÖÊ∞ó", katakana: null, english: "Illness", category: "noun" },
      { japanese: "„Å≥„Çá„ÅÜ„ÅÑ„Çì", kanji: "ÁóÖÈô¢", katakana: null, english: "Hospital", category: "noun" },
      { japanese: "„Å≥„Çá„ÅÜ„Å©„ÅÜ", kanji: "Âπ≥Á≠â", katakana: null, english: "Equality", category: "noun" },
      { japanese: "„Å≤„Çá„ÅÜ", kanji: "Ë°®", katakana: null, english: "Chart", category: "noun" },
      { japanese: "„Å≤„Çá„ÅÜ„Åã", kanji: "Ë©ï‰æ°", katakana: null, english: "Evaluation", category: "noun" },
      { japanese: "„Å≤„Çá„ÅÜ„Åí„Çì", kanji: "Ë°®Áèæ", katakana: null, english: "Expression", category: "noun" },
      { japanese: "„Å≤„Çá„ÅÜ„Åó", kanji: "Ë°®Á¥ô", katakana: null, english: "Book Cover", category: "noun" },
      { japanese: "„Å≤„Çá„ÅÜ„Åò„ÇÖ„Çì", kanji: "Ê®ôÊ∫ñ", katakana: null, english: "Standard", category: "noun" },
      { japanese: "„Å≥„Åò„ÇÖ„Å§„Åã„Çì", kanji: "ÁæéË°ìÈ§®", katakana: null, english: "Art Museum", category: "noun" },
      { japanese: "„Å≥„Å°„Åè", kanji: "ÂÇôËìÑ", katakana: null, english: "Stock", category: "noun" },
      { japanese: "„Å≥„Çì", kanji: "Áì∂", katakana: null, english: "Jar", category: "noun" },
      { japanese: "„Åµ„ÅÜ„Åõ„Çì", kanji: "È¢®Ëàπ", katakana: null, english: "Balloon", category: "noun" },
      { japanese: "„Å∂„Åç", kanji: "Ê≠¶Âô®", katakana: null, english: "Weapon", category: "noun" },
      { japanese: "„Åµ„Åè", kanji: "Êúç", katakana: null, english: "Clothes", category: "noun" },
      { japanese: "„Å∂„Åò", kanji: "ÁÑ°‰∫ã", katakana: null, english: "Safety", category: "noun" },
      { japanese: "„Å∂„Åü", kanji: "Ë±ö", katakana: null, english: "Pig", category: "noun" },
      { japanese: "„Åµ„Åü„Åî", kanji: "ÂèåÂ≠ê", katakana: null, english: "Twins", category: "noun" },
      { japanese: "„Å∂„Å©„ÅÜ", kanji: "Ëë°ËêÑ", katakana: null, english: "Grape", category: "noun" },
      { japanese: "„Åµ„Å≠", kanji: "Ëàπ", katakana: null, english: "Boat", category: "noun" },
      { japanese: "„Å∂„Çì„Åã", kanji: "ÊñáÂåñ", katakana: null, english: "Culture", category: "noun" },
      { japanese: "„Åµ„ÇÜ", kanji: "ÂÜ¨", katakana: null, english: "Winter", category: "noun" },
      { japanese: "„Åµ„Çç", kanji: "È¢®ÂëÇ", katakana: null, english: "Bath", category: "noun" },
      { japanese: "„Åπ„Å£„Åù„ÅÜ", kanji: "Âà•Ëçò", katakana: null, english: "Holiday House", category: "noun" },
      { japanese: "„Åπ„Çì„Åç„Çá„ÅÜ", kanji: "ÂãâÂº∑", katakana: null, english: "Study", category: "noun" },
      { japanese: "„Åπ„Çì„Åî„Åó", kanji: "ÂºÅË≠∑Â£´", katakana: null, english: "Lawyer", category: "noun" },
      { japanese: "„Åπ„Çì„Å®„ÅÜ", kanji: "ÂºÅÂΩì", katakana: null, english: "Lunch Box", category: "noun" },
      { japanese: "„Å∏„ÅÑ„Åò„Å§", kanji: "Âπ≥Êó•", katakana: null, english: "Weekday", category: "noun" },
      { japanese: "„Å∏„ÅÑ„Çè", kanji: "Âπ≥Âíå", katakana: null, english: "Peace", category: "noun" },
      { japanese: "„Å∏„Çì„Åò", kanji: "Ëøî‰∫ã", katakana: null, english: "Response", category: "noun" },
      { japanese: "„Å∏„ÇÑ", kanji: "ÈÉ®Â±ã", katakana: null, english: "Room", category: "noun" },
      { japanese: "„Åº„ÅÜ„Åà„Åç", kanji: "Ë≤øÊòì", katakana: null, english: "Trade", category: "noun" },
      { japanese: "„Åº„ÅÜ„Åë„Çì", kanji: "ÂÜíÈô∫", katakana: null, english: "Adventure", category: "noun" },
      { japanese: "„Åº„ÅÜ„Åó", kanji: "Â∏ΩÂ≠ê", katakana: null, english: "Hat", category: "noun" },
      { japanese: "„Åª„ÅÜ„Åì„Åè", kanji: "Â†±Âëä", katakana: null, english: "Report", category: "noun" },
      { japanese: "„Åª„ÅÜ„Åõ„Åç", kanji: "ÂÆùÁü≥", katakana: null, english: "Gem", category: "noun" },
      { japanese: "„Åª„ÅÜ„Å°„Çá„ÅÜ", kanji: "ÂåÖ‰∏Å", katakana: null, english: "Kitchen Knife", category: "noun" },
      { japanese: "„Åª„ÅÜ„Åª„ÅÜ", kanji: "ÊñπÊ≥ï", katakana: null, english: "Method", category: "noun" },
      { japanese: "„Åº„Åè„Åò„Çá„ÅÜ", kanji: "ÁâßÂ†¥", katakana: null, english: "Farm", category: "noun" },
      { japanese: "„Åª„Çì", kanji: "Êú¨", katakana: null, english: "Book", category: "noun" },
      { japanese: "„Åæ„Åè„Çâ", kanji: "Êûï", katakana: null, english: "Pillow", category: "noun" },
      { japanese: "„Åæ„Å°", kanji: "Áî∫", katakana: null, english: "Town", category: "noun" },
      { japanese: "„Åæ„Å©", kanji: "Á™ì", katakana: null, english: "Window", category: "noun" },
      { japanese: "„Åæ„ÇÅ", kanji: "Ë±Ü", katakana: null, english: "Bean", category: "noun" },
      { japanese: "„Åø„Åö", kanji: "Ê∞¥", katakana: null, english: "Water", category: "noun" },
      { japanese: "„Åø„Åõ", kanji: "Â∫ó", katakana: null, english: "Shop", category: "noun" },
      { japanese: "„Åø„Å°", kanji: "ÈÅì", katakana: null, english: "Road", category: "noun" },
      { japanese: "„ÇÄ„Åó", kanji: "Ëô´", katakana: null, english: "Bug", category: "noun" },
      { japanese: "„ÇÄ„Åô„Åì", kanji: "ÊÅØÂ≠ê", katakana: null, english: "Son", category: "noun" },
      { japanese: "„ÇÄ„Åô„ÇÅ", kanji: "Â®ò", katakana: null, english: "Daughter", category: "noun" },
      { japanese: "„ÇÄ„Çâ", kanji: "Êùë", katakana: null, english: "Village", category: "noun" },
      { japanese: "„ÇÄ„Çä„Çá„ÅÜ", kanji: "ÁÑ°Êñô", katakana: null, english: "Free of Charge", category: "noun" },
      { japanese: "„ÇÅ", kanji: "ÁõÆ", katakana: null, english: "Eye", category: "noun" },
      { japanese: "„ÇÅ„ÅÑ„Çå„ÅÑ", kanji: "ÂëΩ‰ª§", katakana: null, english: "Order", category: "noun" },
      { japanese: "„ÇÅ„Åå„Å≠", kanji: "ÁúºÈè°", katakana: null, english: "Glasses", category: "noun" },
      { japanese: "„ÇÅ„Çì„Åõ„Å§", kanji: "Èù¢Êé•", katakana: null, english: "Interview", category: "noun" },
      { japanese: "„ÇÇ„Å°", kanji: "È§Ö", katakana: null, english: "Rice Cake", category: "noun" },
      { japanese: "„ÇÇ„ÇÅ„Çì", kanji: "Êú®Á∂ø", katakana: null, english: "Cotton", category: "noun" },
      { japanese: "„ÇÇ„ÅÆ", kanji: "Áâ©", katakana: null, english: "Thing", category: "noun" },
      { japanese: "„ÇÇ„Çì„Å†„ÅÑ", kanji: "ÂïèÈ°å", katakana: null, english: "Problem", category: "noun" },
      { japanese: "„ÇÇ„Çä", kanji: "Ê£Æ", katakana: null, english: "Forest", category: "noun" },
      { japanese: "„ÇÑ„Åè„Åù„Åè", kanji: "Á¥ÑÊùü", katakana: null, english: "Promise", category: "noun" },
      { japanese: "„ÇÑ„Åè„Çè„Çä", kanji: "ÂΩπÂâ≤", katakana: null, english: "Role", category: "noun" },
      { japanese: "„ÇÑ„Åï„ÅÑ", kanji: "ÈáéËèú", katakana: null, english: "Vegetable", category: "noun" },
      { japanese: "„ÇÑ„Åô„Åø", kanji: "‰ºë„Åø", katakana: null, english: "Break", category: "noun" },
      { japanese: "„ÇÑ„Åæ", kanji: "Â±±", katakana: null, english: "Mountain", category: "noun" },
      { japanese: "„ÇÜ„ÅÜ„Åò„Çì", kanji: "Âèã‰∫∫", katakana: null, english: "Friend", category: "noun" },
      { japanese: "„ÇÜ„ÅÜ„Å≤", kanji: "Â§ïÊó•", katakana: null, english: "Sunset", category: "noun" },
      { japanese: "„ÇÜ„Åç", kanji: "Èõ™", katakana: null, english: "Snow", category: "noun" },
      { japanese: "„Çà„Å¶„ÅÑ", kanji: "‰∫àÂÆö", katakana: null, english: "Plan", category: "noun" },
      { japanese: "„Çà„Åª„ÅÜ", kanji: "‰∫àÂ†±", katakana: null, english: "Forecast", category: "noun" },
      { japanese: "„Çà„ÇÑ„Åè", kanji: "‰∫àÁ¥Ñ", katakana: null, english: "Reservation", category: "noun" },
      { japanese: "„Çà„Çã", kanji: "Â§ú", katakana: null, english: "Night", category: "noun" },
      { japanese: "„Çâ„ÅÑ„Åí„Å§", kanji: "Êù•Êúà", katakana: null, english: "Next Month", category: "noun" },
      { japanese: "„Çâ„Åè„Åå„Åç", kanji: "ËêΩÊõ∏„Åç", katakana: null, english: "Graffiti", category: "noun" },
      { japanese: "„Çâ„Åè„Å¶„Çì„Åã", kanji: "Ê•ΩÂ§©ÂÆ∂", katakana: null, english: "Optimist", category: "noun" },
      { japanese: "„Çä„Åà„Åç", kanji: "Âà©Áõä", katakana: null, english: "Benefit", category: "noun" },
      { japanese: "„Çä„Åì„Çì", kanji: "Èõ¢Â©ö", katakana: null, english: "Divorce", category: "noun" },
      { japanese: "„Çä„ÇÉ„Åè„Åî", kanji: "Áï•Ë™û", katakana: null, english: "Abbreviation", category: "noun" },
      { japanese: "„Çä„ÇÖ„ÅÜ", kanji: "ÊµÅ", katakana: null, english: "School of Thought", category: "noun" },
      { japanese: "„Çä„ÇÖ„ÅÜ„Åå„Åà", kanji: "‰∏°Êõø", katakana: null, english: "Currency Exchange", category: "noun" },
      { japanese: "„Çä„ÇÖ„ÅÜ„Åå„Åè", kanji: "ÁïôÂ≠¶", katakana: null, english: "Studying Abroad", category: "noun" },
      { japanese: "„Çä„ÇÖ„ÅÜ„Åì„ÅÜ", kanji: "ÊµÅË°å", katakana: null, english: "Trend", category: "noun" },
      { japanese: "„Çä„ÇÜ„ÅÜ", kanji: "ÁêÜÁî±", katakana: null, english: "Reason", category: "noun" },
      { japanese: "„Çä„Çá„ÅÜ„Åó", kanji: "ÊºÅÂ∏´", katakana: null, english: "Fisherman", category: "noun" },
      { japanese: "„Çä„Çá„ÅÜ„Åó„Çì", kanji: "‰∏°Ë¶™", katakana: null, english: "Parents", category: "noun" },
      { japanese: "„Çä„Çá„ÅÜ„Åª„ÅÜ", kanji: "‰∏°Êñπ", katakana: null, english: "Both", category: "noun" },
      { japanese: "„Çä„Çá„ÅÜ„Çä", kanji: "ÊñôÁêÜ", katakana: null, english: "Cooking", category: "noun" },
      { japanese: "„Çä„Çá„Åã„Çì", kanji: "ÊóÖÈ§®", katakana: null, english: "Japanese Inn", category: "noun" },
      { japanese: "„Çä„Çá„Åì„ÅÜ", kanji: "ÊóÖË°å", katakana: null, english: "Trip", category: "noun" },
      { japanese: "„Çä„Çì„Åî", kanji: "ÊûóÊ™é", katakana: null, english: "Apple", category: "noun" },
      { japanese: "„Çã„ÅÑ„Åò", kanji: "È°û‰ºº", katakana: null, english: "Similarity", category: "noun" },
      { japanese: "„Çã„Åô", kanji: "ÁïôÂÆà", katakana: null, english: "Absence from Home", category: "noun" },
      { japanese: "„Çå„ÅÑ„Åé", kanji: "Á§ºÂÑÄ", katakana: null, english: "Courtesy", category: "noun" },
      { japanese: "„Çå„ÅÑ„Åû„ÅÜ„Åì", kanji: "ÂÜ∑ËîµÂ∫´", katakana: null, english: "Refrigerator", category: "noun" },
      { japanese: "„Çå„Åç„Åó", kanji: "Ê≠¥Âè≤", katakana: null, english: "History", category: "noun" },
      { japanese: "„Çå„Çì„Åó„ÇÖ„ÅÜ", kanji: "Á∑¥Áøí", katakana: null, english: "Practice", category: "noun" },
      { japanese: "„Çç„ÅÜ„Åã", kanji: "Âªä‰∏ã", katakana: null, english: "Hallway", category: "noun" },
      { japanese: "„Çç„ÅÜ„Åò„Çì", kanji: "ËÄÅ‰∫∫", katakana: null, english: "Elderly People", category: "noun" },
      { japanese: "„Çç„ÅÜ„Åù„Åè", kanji: "ËùãÁá≠", katakana: null, english: "Candle", category: "noun" },
      { japanese: "„Çç„ÅÜ„Å©„ÅÜ", kanji: "Âä¥ÂÉç", katakana: null, english: "Labor", category: "noun" },
      { japanese: "„Çè„Åç", kanji: "ËÑá", katakana: null, english: "Armpit", category: "noun" },
      { japanese: "„Çè„Çä„Å≥„Åç", kanji: "Ââ≤Âºï", katakana: null, english: "Discount", category: "noun" },
      { japanese: "„Çè„Çã„Åê„Å°", kanji: "ÊÇ™Âè£", katakana: null, english: "Insult", category: "noun" },
      
      // i-adjectives
      { japanese: "„ÅÇ„Åã„ÅÑ", kanji: "Ëµ§„ÅÑ", katakana: null, english: "Red", category: "i-adjective" },
      { japanese: "„ÅÇ„Åä„ÅÑ", kanji: "Èùí„ÅÑ", katakana: null, english: "Blue", category: "i-adjective" },
      { japanese: "„Åä„Åä„Åç„ÅÑ", kanji: "Â§ß„Åç„ÅÑ", katakana: null, english: "Big", category: "i-adjective" },
      { japanese: "„Å°„ÅÑ„Åï„ÅÑ", kanji: "Â∞è„Åï„ÅÑ", katakana: null, english: "Small", category: "i-adjective" },
      { japanese: "„Åü„Åã„ÅÑ", kanji: "È´ò„ÅÑ", katakana: null, english: "High", category: "i-adjective" },
      { japanese: "„ÇÑ„Åô„ÅÑ", kanji: "ÂÆâ„ÅÑ", katakana: null, english: "Cheap", category: "i-adjective" },
      { japanese: "„Å™„Åå„ÅÑ", kanji: "Èï∑„ÅÑ", katakana: null, english: "Long", category: "i-adjective" },
      { japanese: "„Å≠„ÇÄ„ÅÑ", kanji: "Áú†„ÅÑ", katakana: null, english: "Sleepy", category: "i-adjective" },
      { japanese: "„Å¨„Çã„ÅÑ", kanji: "Ê∏©„ÅÑ", katakana: null, english: "Lukewarm", category: "i-adjective" },
      { japanese: "„Åö„ÅÜ„Åö„ÅÜ„Åó„ÅÑ", kanji: "Âõ≥„ÄÖ„Åó„ÅÑ", katakana: null, english: "Cheeky", category: "i-adjective" },
      { japanese: "„Çè„Åã„ÅÑ", kanji: "Ëã•„ÅÑ", katakana: null, english: "Young", category: "i-adjective" },
      
      // na-adjectives
      { japanese: "„Åç„Çå„ÅÑ", kanji: "Á∂∫È∫ó", katakana: null, english: "Beautiful", category: "na-adjective" },
      { japanese: "„Åü„ÅÑ„Åõ„Å§", kanji: "Â§ßÂàá", katakana: null, english: "Important", category: "na-adjective" },
      { japanese: "„Å®„Åè„Åπ„Å§", kanji: "ÁâπÂà•", katakana: null, english: "Special", category: "na-adjective" },
      { japanese: "„Åñ„Çì„Å≠„Çì", kanji: "ÊÆãÂøµ", katakana: null, english: "Regrettable", category: "na-adjective" },
      { japanese: "„Å∞„Åã", kanji: "È¶¨Èπø", katakana: null, english: "Stupid", category: "na-adjective" },
      { japanese: "„Çâ„Åè", kanji: "Ê•Ω", katakana: null, english: "Easy", category: "na-adjective" },
      { japanese: "„ÇÜ„ÅÜ„ÇÅ„ÅÑ", kanji: "ÊúâÂêç", katakana: null, english: "Famous", category: "na-adjective" },
      { japanese: "„Åµ„ÅÇ„Çì", kanji: "‰∏çÂÆâ", katakana: null, english: "Anxiety", category: "na-adjective" },
      
      // verbs
      { japanese: "„Åü„Åπ„Çã", kanji: "È£ü„Åπ„Çã", katakana: null, english: "To Eat", category: "verb" },
      { japanese: "„ÅÆ„ÇÄ", kanji: "È£≤„ÇÄ", katakana: null, english: "To Drink", category: "verb" }
    ];

    let currentIndexVocab = 0;
    let filteredCardsVocab = [];
    let studiedCardsVocab = new Set();
    let seenCardIndicesVocab = new Set();
    let isFlippedVocab = false;
    let showReverseVocab = false;  // false = Japanese‚ÜíEnglish, true = English‚ÜíJapanese  
    let showKanjiVocab = false;    // false = hide kanji, true = show kanji
    let showKatakanaVocab = false; // false = hide katakana, true = show katakana

    // Shuffle array using Fisher-Yates algorithm
    function shuffleArrayVocab(array) {
      const shuffled = [...array];
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      return shuffled;
    }
    
    // Toggle reverse mode (English first vs Japanese first)
    function toggleReverseVocab() {
      showReverseVocab = document.getElementById('toggle-reverse-vocab').checked;
      loadCardVocab();  // Reload current card with new mode
    }
    
    // Toggle kanji display
    function toggleKanjiVocab() {
      showKanjiVocab = document.getElementById('toggle-kanji-vocab').checked;
      loadCardVocab();  // Reload current card with kanji
    }
    
    // Toggle katakana display
    function toggleKatakanaVocab() {
      showKatakanaVocab = document.getElementById('toggle-katakana-vocab').checked;
      loadCardVocab();  // Reload current card with katakana
    }

    // Initialize vocabulary
    function initVocab() {
      filteredCardsVocab = shuffleArrayVocab(vocabDataList);
      loadCardVocab();
      updateProgressVocab();
    }

    // Load current card (updated for reverse mode, kanji, katakana, and improved display)
    function loadCardVocab() {
      if (filteredCardsVocab.length === 0) return;
      
      const card = filteredCardsVocab[currentIndexVocab];
      
      // Get elements
      const japaneseEl = document.getElementById('card-japanese-vocab');
      const englishEl = document.getElementById('card-english-vocab');
      const categoryEl = document.getElementById('card-category-vocab');
      
      // Front script container
      const scriptContainerFront = document.getElementById('script-container-vocab');
      const kanjiFront = document.getElementById('card-kanji-vocab');
      const katakanaFront = document.getElementById('card-katakana-vocab');
      
      // Back script container
      const scriptContainerBack = document.getElementById('script-container-vocab-back');
      const kanjiBack = document.getElementById('card-kanji-vocab-back');
      const katakanaBack = document.getElementById('card-katakana-vocab-back');
      
      // Helper function to update script container (null-safe)
      const updateScriptContainer = (container, kanjiEl, katakanaEl, showKanji, showKatakana) => {
        if (!container || !kanjiEl || !katakanaEl) {
          console.warn('Script container or elements not found');
          return;
        }
        
        const hasKanji = card.kanji !== null;
        const hasKatakana = card.katakana !== null;
        const shouldShowKanji = showKanji && hasKanji;
        const shouldShowKatakana = showKatakana && hasKatakana;
        
        // Show container if we have at least one script to display
        if (shouldShowKanji || shouldShowKatakana) {
          container.style.display = 'flex';
          
          // Update kanji
          if (shouldShowKanji) {
            kanjiEl.textContent = card.kanji;
            kanjiEl.style.display = 'block';
          } else {
            kanjiEl.style.display = 'none';
          }
          
          // Update katakana
          if (shouldShowKatakana) {
            katakanaEl.textContent = card.katakana;
            katakanaEl.style.display = 'block';
          } else {
            katakanaEl.style.display = 'none';
          }
        } else {
          // Hide container if nothing to show
          container.style.display = 'none';
        }
      };
      
      if (showReverseVocab) {
        // REVERSE MODE: English on FRONT, Japanese on BACK
        
        // FRONT: Show English (smaller)
        japaneseEl.textContent = card.english;
        japaneseEl.classList.add('english-front');
        
        // BACK: Show Japanese hiragana
        englishEl.textContent = card.japanese;
        englishEl.classList.remove('english-front');
        
        // FRONT: Hide all scripts
        if (scriptContainerFront) scriptContainerFront.style.display = 'none';
        
        // BACK: Show kanji/katakana if toggles are on
        updateScriptContainer(
          scriptContainerBack, 
          kanjiBack, 
          katakanaBack, 
          showKanjiVocab, 
          showKatakanaVocab
        );
        
      } else {
        // NORMAL MODE: Japanese on FRONT, English on BACK
        
        // FRONT: Show Japanese hiragana
        japaneseEl.textContent = card.japanese;
        japaneseEl.classList.remove('english-front');
        
        // BACK: Show English
        englishEl.textContent = card.english;
        englishEl.classList.remove('english-front');
        
        // FRONT: Show kanji/katakana if toggles are on
        updateScriptContainer(
          scriptContainerFront, 
          kanjiFront, 
          katakanaFront, 
          showKanjiVocab, 
          showKatakanaVocab
        );
        
        // BACK: Hide scripts
        if (scriptContainerBack) scriptContainerBack.style.display = 'none';
      }
      
      categoryEl.textContent = getCategoryLabelVocab(card.category);
      
      // Reset flip state
      const flashcard = document.getElementById('flashcard-vocab');
      flashcard.classList.remove('flipped');
      isFlippedVocab = false;
      
      // Mark as studied in current session
      studiedCardsVocab.add(currentIndexVocab);
      
      // Track this card as seen globally
      seenCardIndicesVocab.add(card.japanese);
      
      updateStatsVocab();
    }

    // Get category label
    function getCategoryLabelVocab(category) {
      const labels = {
        'noun': 'Noun',
        'i-adjective': '„ÅÑ Adjective',
        'na-adjective': '„Å™ Adjective',
        'verb': 'Verb'
      };
      return labels[category] || category;
    }

    // Flip card
    function flipCardVocab() {
      document.getElementById('flashcard-vocab').classList.toggle('flipped');
      isFlippedVocab = !isFlippedVocab;
    }

    // Next card
    function nextCardVocab() {
      if (isFlippedVocab) {
        showToast('Please flip the card back first!');
        return;
      }
      if (currentIndexVocab < filteredCardsVocab.length - 1) {
        currentIndexVocab++;
        loadCardVocab();
        updateProgressVocab();
      }
    }

    // Previous card
    function previousCardVocab() {
      if (isFlippedVocab) {
        showToast('Please flip the card back first!');
        return;
      }
      if (currentIndexVocab > 0) {
        currentIndexVocab--;
        loadCardVocab();
        updateProgressVocab();
      }
    }

    // Shuffle cards - prioritizes unseen cards first
    function shuffleCardsVocab() {
      // Separate cards into seen and unseen
      const unseenCards = filteredCardsVocab.filter(card => !seenCardIndicesVocab.has(card.japanese));
      const seenCards = filteredCardsVocab.filter(card => seenCardIndicesVocab.has(card.japanese));
      
      // Shuffle both groups independently
      const shuffledUnseen = shuffleArrayVocab(unseenCards);
      const shuffledSeen = shuffleArrayVocab(seenCards);
      
      // Combine: unseen cards first, then seen cards
      filteredCardsVocab = [...shuffledUnseen, ...shuffledSeen];
      
      // Reset to start
      currentIndexVocab = 0;
      studiedCardsVocab.clear();
      loadCardVocab();
      updateProgressVocab();
      
      if (unseenCards.length > 0) {
        showToast('Deck shuffled! ' + unseenCards.length + ' unseen card' + (unseenCards.length !== 1 ? 's' : '') + ' first.');
      } else {
        showToast('Deck shuffled!');
      }
    }

    // Update progress
    function updateProgressVocab() {
      const progressEl = document.getElementById('progress-vocab');
      const totalEl = document.getElementById('total-cards-vocab');
      const prevBtn = document.getElementById('prev-btn-vocab');
      const nextBtn = document.getElementById('next-btn-vocab');
      
      if (progressEl) progressEl.textContent = (currentIndexVocab + 1) + ' / ' + filteredCardsVocab.length;
      if (prevBtn) prevBtn.disabled = currentIndexVocab === 0;
      if (nextBtn) nextBtn.disabled = currentIndexVocab === filteredCardsVocab.length - 1;
      if (totalEl) totalEl.textContent = filteredCardsVocab.length;
      
      console.log('Progress updated: Card ' + (currentIndexVocab + 1) + ' of ' + filteredCardsVocab.length);
    }

    // Update stats (enhanced)
    function updateStatsVocab() {
      const studiedEl = document.getElementById('cards-studied-vocab');
      if (studiedEl) {
        studiedEl.textContent = studiedCardsVocab.size;
      }
      console.log('Stats updated: ' + studiedCardsVocab.size + ' cards studied');
    }


    // Initialize
    populateVerbLists();
    updateScoreDisplay(); // Load saved stats
    updateReportButton();
    generateNewQuestion();
    
    // Back to top button
    (function() {
      var backToTop = document.getElementById('back-to-top');
      
      window.addEventListener('scroll', function() {
        if (window.scrollY > 400) {
          backToTop.classList.add('visible');
        } else {
          backToTop.classList.remove('visible');
        }
      });
      
      backToTop.addEventListener('click', function() {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    })();
    

        // Populate Kana Grids
    function populateKanaGrids() {
      const kanaData = {
        basic: [
          { romaji: 'a', hiragana: '„ÅÇ', katakana: '„Ç¢' },
          { romaji: 'i', hiragana: '„ÅÑ', katakana: '„Ç§' },
          { romaji: 'u', hiragana: '„ÅÜ', katakana: '„Ç¶' },
          { romaji: 'e', hiragana: '„Åà', katakana: '„Ç®' },
          { romaji: 'o', hiragana: '„Åä', katakana: '„Ç™' },
          { romaji: 'ka', hiragana: '„Åã', katakana: '„Ç´' },
          { romaji: 'ki', hiragana: '„Åç', katakana: '„Ç≠' },
          { romaji: 'ku', hiragana: '„Åè', katakana: '„ÇØ' },
          { romaji: 'ke', hiragana: '„Åë', katakana: '„Ç±' },
          { romaji: 'ko', hiragana: '„Åì', katakana: '„Ç≥' },
          { romaji: 'sa', hiragana: '„Åï', katakana: '„Çµ' },
          { romaji: 'shi', hiragana: '„Åó', katakana: '„Ç∑' },
          { romaji: 'su', hiragana: '„Åô', katakana: '„Çπ' },
          { romaji: 'se', hiragana: '„Åõ', katakana: '„Çª' },
          { romaji: 'so', hiragana: '„Åù', katakana: '„ÇΩ' },
          { romaji: 'ta', hiragana: '„Åü', katakana: '„Çø' },
          { romaji: 'chi', hiragana: '„Å°', katakana: '„ÉÅ' },
          { romaji: 'tsu', hiragana: '„Å§', katakana: '„ÉÑ' },
          { romaji: 'te', hiragana: '„Å¶', katakana: '„ÉÜ' },
          { romaji: 'to', hiragana: '„Å®', katakana: '„Éà' },
          { romaji: 'na', hiragana: '„Å™', katakana: '„Éä' },
          { romaji: 'ni', hiragana: '„Å´', katakana: '„Éã' },
          { romaji: 'nu', hiragana: '„Å¨', katakana: '„Éå' },
          { romaji: 'ne', hiragana: '„Å≠', katakana: '„Éç' },
          { romaji: 'no', hiragana: '„ÅÆ', katakana: '„Éé' },
          { romaji: 'ha', hiragana: '„ÅØ', katakana: '„Éè' },
          { romaji: 'hi', hiragana: '„Å≤', katakana: '„Éí' },
          { romaji: 'fu', hiragana: '„Åµ', katakana: '„Éï' },
          { romaji: 'he', hiragana: '„Å∏', katakana: '„Éò' },
          { romaji: 'ho', hiragana: '„Åª', katakana: '„Éõ' },
          { romaji: 'ma', hiragana: '„Åæ', katakana: '„Éû' },
          { romaji: 'mi', hiragana: '„Åø', katakana: '„Éü' },
          { romaji: 'mu', hiragana: '„ÇÄ', katakana: '„É†' },
          { romaji: 'me', hiragana: '„ÇÅ', katakana: '„É°' },
          { romaji: 'mo', hiragana: '„ÇÇ', katakana: '„É¢' },
          { romaji: 'ya', hiragana: '„ÇÑ', katakana: '„É§' },
          { romaji: 'yu', hiragana: '„ÇÜ', katakana: '„É¶' },
          { romaji: 'yo', hiragana: '„Çà', katakana: '„É®' },
          { romaji: 'ra', hiragana: '„Çâ', katakana: '„É©' },
          { romaji: 'ri', hiragana: '„Çä', katakana: '„É™' },
          { romaji: 'ru', hiragana: '„Çã', katakana: '„É´' },
          { romaji: 're', hiragana: '„Çå', katakana: '„É¨' },
          { romaji: 'ro', hiragana: '„Çç', katakana: '„É≠' },
          { romaji: 'wa', hiragana: '„Çè', katakana: '„ÉØ' },
          { romaji: 'wo', hiragana: '„Çí', katakana: '„É≤' },
          { romaji: 'n', hiragana: '„Çì', katakana: '„É≥' }
        ],
        dakuten: [
          { romaji: 'ga', hiragana: '„Åå', katakana: '„Ç¨' },
          { romaji: 'gi', hiragana: '„Åé', katakana: '„ÇÆ' },
          { romaji: 'gu', hiragana: '„Åê', katakana: '„Ç∞' },
          { romaji: 'ge', hiragana: '„Åí', katakana: '„Ç≤' },
          { romaji: 'go', hiragana: '„Åî', katakana: '„Ç¥' },
          { romaji: 'za', hiragana: '„Åñ', katakana: '„Ç∂' },
          { romaji: 'ji', hiragana: '„Åò', katakana: '„Ç∏' },
          { romaji: 'zu', hiragana: '„Åö', katakana: '„Ç∫' },
          { romaji: 'ze', hiragana: '„Åú', katakana: '„Çº' },
          { romaji: 'zo', hiragana: '„Åû', katakana: '„Çæ' },
          { romaji: 'da', hiragana: '„Å†', katakana: '„ÉÄ' },
          { romaji: 'ji', hiragana: '„Å¢', katakana: '„ÉÇ' },
          { romaji: 'zu', hiragana: '„Å•', katakana: '„ÉÖ' },
          { romaji: 'de', hiragana: '„Åß', katakana: '„Éá' },
          { romaji: 'do', hiragana: '„Å©', katakana: '„Éâ' },
          { romaji: 'ba', hiragana: '„Å∞', katakana: '„Éê' },
          { romaji: 'bi', hiragana: '„Å≥', katakana: '„Éì' },
          { romaji: 'bu', hiragana: '„Å∂', katakana: '„Éñ' },
          { romaji: 'be', hiragana: '„Åπ', katakana: '„Éô' },
          { romaji: 'bo', hiragana: '„Åº', katakana: '„Éú' },
          { romaji: 'pa', hiragana: '„Å±', katakana: '„Éë' },
          { romaji: 'pi', hiragana: '„Å¥', katakana: '„Éî' },
          { romaji: 'pu', hiragana: '„Å∑', katakana: '„Éó' },
          { romaji: 'pe', hiragana: '„Å∫', katakana: '„Éö' },
          { romaji: 'po', hiragana: '„ÅΩ', katakana: '„Éù' }
        ],
        combinations: [
          { romaji: 'kya', hiragana: '„Åç„ÇÉ', katakana: '„Ç≠„É£' },
          { romaji: 'kyu', hiragana: '„Åç„ÇÖ', katakana: '„Ç≠„É•' },
          { romaji: 'kyo', hiragana: '„Åç„Çá', katakana: '„Ç≠„Éß' },
          { romaji: 'sha', hiragana: '„Åó„ÇÉ', katakana: '„Ç∑„É£' },
          { romaji: 'shu', hiragana: '„Åó„ÇÖ', katakana: '„Ç∑„É•' },
          { romaji: 'sho', hiragana: '„Åó„Çá', katakana: '„Ç∑„Éß' },
          { romaji: 'cha', hiragana: '„Å°„ÇÉ', katakana: '„ÉÅ„É£' },
          { romaji: 'chu', hiragana: '„Å°„ÇÖ', katakana: '„ÉÅ„É•' },
          { romaji: 'cho', hiragana: '„Å°„Çá', katakana: '„ÉÅ„Éß' },
          { romaji: 'nya', hiragana: '„Å´„ÇÉ', katakana: '„Éã„É£' },
          { romaji: 'nyu', hiragana: '„Å´„ÇÖ', katakana: '„Éã„É•' },
          { romaji: 'nyo', hiragana: '„Å´„Çá', katakana: '„Éã„Éß' },
          { romaji: 'hya', hiragana: '„Å≤„ÇÉ', katakana: '„Éí„É£' },
          { romaji: 'hyu', hiragana: '„Å≤„ÇÖ', katakana: '„Éí„É•' },
          { romaji: 'hyo', hiragana: '„Å≤„Çá', katakana: '„Éí„Éß' },
          { romaji: 'mya', hiragana: '„Åø„ÇÉ', katakana: '„Éü„É£' },
          { romaji: 'myu', hiragana: '„Åø„ÇÖ', katakana: '„Éü„É•' },
          { romaji: 'myo', hiragana: '„Åø„Çá', katakana: '„Éü„Éß' },
          { romaji: 'rya', hiragana: '„Çä„ÇÉ', katakana: '„É™„É£' },
          { romaji: 'ryu', hiragana: '„Çä„ÇÖ', katakana: '„É™„É•' },
          { romaji: 'ryo', hiragana: '„Çä„Çá', katakana: '„É™„Éß' },
          { romaji: 'gya', hiragana: '„Åé„ÇÉ', katakana: '„ÇÆ„É£' },
          { romaji: 'gyu', hiragana: '„Åé„ÇÖ', katakana: '„ÇÆ„É•' },
          { romaji: 'gyo', hiragana: '„Åé„Çá', katakana: '„ÇÆ„Éß' },
          { romaji: 'ja', hiragana: '„Åò„ÇÉ', katakana: '„Ç∏„É£' },
          { romaji: 'ju', hiragana: '„Åò„ÇÖ', katakana: '„Ç∏„É•' },
          { romaji: 'jo', hiragana: '„Åò„Çá', katakana: '„Ç∏„Éß' },
          { romaji: 'bya', hiragana: '„Å≥„ÇÉ', katakana: '„Éì„É£' },
          { romaji: 'byu', hiragana: '„Å≥„ÇÖ', katakana: '„Éì„É•' },
          { romaji: 'byo', hiragana: '„Å≥„Çá', katakana: '„Éì„Éß' },
          { romaji: 'pya', hiragana: '„Å¥„ÇÉ', katakana: '„Éî„É£' },
          { romaji: 'pyu', hiragana: '„Å¥„ÇÖ', katakana: '„Éî„É•' },
          { romaji: 'pyo', hiragana: '„Å¥„Çá', katakana: '„Éî„Éß' }
        ]
      };
      
      // Helper function to create kana cell
      function createKanaCell(kana) {
        return `
          <div class="kana-cell" onclick="playKanaAudio('${kana.hiragana}')" style="cursor: pointer;" title="Click to hear pronunciation">
            <div class="kana-romaji">${kana.romaji}</div>
            <div class="kana-hiragana jp">${kana.hiragana}</div>
            <div class="kana-katakana jp">${kana.katakana}</div>
          </div>
        `;
      }
      
      // Populate basic kana
      const basicGrid = document.getElementById('basic-kana-grid');
      if (basicGrid) {
        basicGrid.innerHTML = kanaData.basic.map(createKanaCell).join('');
      }
      
      // Populate dakuten
      const dakutenGrid = document.getElementById('dakuten-kana-grid');
      if (dakutenGrid) {
        dakutenGrid.innerHTML = kanaData.dakuten.map(createKanaCell).join('');
      }
      
      // Populate combinations
      const comboGrid = document.getElementById('combo-kana-grid');
      if (comboGrid) {
        comboGrid.innerHTML = kanaData.combinations.map(createKanaCell).join('');
      }
      
      // Add click handlers to main kana chart table cells
      document.querySelectorAll('.kana-grid-cell').forEach(function(cell) {
        var hiraganaEl = cell.querySelector('.jp');
        if (hiraganaEl) {
          var kana = hiraganaEl.textContent.trim();
          if (kanaAudioMap[kana]) {
            cell.style.cursor = 'pointer';
            cell.title = 'Click to hear pronunciation';
            cell.addEventListener('click', function() {
              playKanaAudio(kana);
            });
          }
        }
      });
    }
    
    // Initialize kana grids when page loads
    populateKanaGrids();

  </script>
</body>
</html>
